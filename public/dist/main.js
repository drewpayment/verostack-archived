(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div mat-dialog-title class=\"d-flex justify-content-between align-items-center\">\n    <h4 class=\"mb-0\">Permissions & Rules</h4>\n    <button mat-icon-button (click)=\"onNoClick()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n\n<mat-dialog-content class=\"mat-typography\">\n    <p>\n        The following are permissions that allow users specific actions that are not governed\n        by their overarching user role and they will be able to access each rule if enabled, regardless \n        of what user role is selected. \n    </p>\n    <hr />\n\n    <form [formGroup]=\"form\">\n        <mat-form-field>\n            <mat-select placeholder=\"Role\" formControlName=\"role\" required>\n                <mat-option *ngFor=\"let role of roles\" [value]=\"role.id\" class=\"text-capitalize\">\n                    {{role.type}}\n                </mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"form.get('role').hasError('required')\">\n                Please select a role.\n            </mat-error>\n        </mat-form-field>\n        <div *ngIf=\"!hideSalesAdminField\">\n            <mat-checkbox formControlName=\"isSalesAdmin\" [disabled]=\"hideSalesAdminField\">\n                <span class=\"font-weight-bold\">Sales Entry Admin</span>\n            </mat-checkbox>\n            - User can access and has read/write permissions on the \n            sales tracker. This also means that they're able to see all campaigns and can assign sales to all users. \n        </div>\n    </form>\n</mat-dialog-content>\n\n<mat-dialog-actions>\n    <button type=\"button\" mat-button (click)=\"onNoClick()\">\n        Cancel\n    </button>\n    <button type=\"button\" mat-button color=\"primary\" (click)=\"saveForm()\">\n        Save\n    </button>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.scss":
/*!****************************************************************************!*\
  !*** ./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.scss ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FnZW50L2FnZW50LXJ1bGVzLWRpYWxvZy9hZ2VudC1ydWxlcy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.ts ***!
  \**************************************************************************/
/*! exports provided: AgentRulesDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentRulesDialogComponent", function() { return AgentRulesDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_models_role_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/models/role.model */ "./src/app/models/role.model.ts");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");






var AgentRulesDialogComponent = /** @class */ (function () {
    function AgentRulesDialogComponent(data, ref, fb, agentService) {
        this.data = data;
        this.ref = ref;
        this.fb = fb;
        this.agentService = agentService;
        this.roleType = _app_models_role_model__WEBPACK_IMPORTED_MODULE_4__["Role"];
        this.hideSalesAdminField = true;
    }
    AgentRulesDialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.user = this.data.user;
        this.getDisabledStatus();
        this.createForm();
        this.agentService.getRoleTypes()
            .subscribe(function (roles) {
            roles.forEach(function (r, i, a) {
                r.type = r.type.charAt(0).toUpperCase() + r.type.substring(1, r.type.length);
                a[i] = r;
            });
            _this.roles = roles;
        });
    };
    AgentRulesDialogComponent.prototype.getDisabledStatus = function () {
        this.hideSalesAdminField = this.user.role.role >= this.roleType.companyAdmin;
    };
    AgentRulesDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    AgentRulesDialogComponent.prototype.saveForm = function () {
        if (this.form.invalid)
            return;
        var dto = this.prepareModel();
        this.ref.close(dto.role);
    };
    AgentRulesDialogComponent.prototype.prepareModel = function () {
        var user = this.user;
        user.role.role = this.form.value.role;
        user.role.isSalesAdmin = this.form.value.isSalesAdmin;
        user.role.userId = user.role.userId || this.user.id;
        return user;
    };
    AgentRulesDialogComponent.prototype.createForm = function () {
        var _this = this;
        this.user.role = this.user.role || {};
        this.form = this.fb.group({
            role: this.fb.control(this.user.role.role || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            isSalesAdmin: this.fb.control(this.user.role.isSalesAdmin)
        });
        this.form.controls.role.valueChanges.subscribe(function () {
            _this.getDisabledStatus();
        });
    };
    AgentRulesDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-agent-rules-dialog',
            template: __webpack_require__(/*! ./agent-rules-dialog.component.html */ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.html"),
            styles: [__webpack_require__(/*! ./agent-rules-dialog.component.scss */ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object, _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_5__["AgentService"]])
    ], AgentRulesDialogComponent);
    return AgentRulesDialogComponent;
}());



/***/ }),

/***/ "./src/app/agent/agent.component.html":
/*!********************************************!*\
  !*** ./src/app/agent/agent.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-content class=\"d-flex justify-content-between\">\n                    <h3>Agents</h3>\n                    <div>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Search Agents\" (keyup)=\"searchAgents($event)\" />\n                            <i class=\"mdi mdi-magnify\" matSuffix></i>\n                        </mat-form-field>\n                        <button type=\"button\" class=\"mx-3\" mat-icon-button (click)=\"toggleSortUsers()\">\n                            <mat-icon>sort_by_alpha</mat-icon>\n                            <mat-icon>{{sortAscending ? 'arrow_drop_up' : 'arrow_drop_down'}}</mat-icon>\n                        </button>\n                        <mat-slide-toggle (change)=\"toggleAgents($event)\" [checked]=\"true\">\n                            {{ showInactive ? 'Hide Inactive' : 'Show Inactive' }}\n                        </mat-slide-toggle>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-6 py-2\" *ngFor=\"let user of users | async\">\n            <div class=\"card hoverable\">\n                <div \n                    class=\"card-header text-white d-flex align-items-end justify-content-between\" \n                    [ngClass]=\"{'bg-vs-primary': user.agent.isActive, 'bg-vs-muted': !user.agent.isActive}\"\n                >\n                    <ul class=\"nav nav-tabs card-header-tabs\">\n                        <li class=\"nav-item\">\n                            <button mat-button class=\"nav-link\" [class.active]=\"user.display === 0\" (click)=\"user.display = 0\">Summary</button>\n                        </li>\n                        <li class=\"nav-item\" *ngIf=\"user.detail != null\">\n                            <button mat-button class=\"nav-link\" [class.active]=\"user.display === 1\" (click)=\"user.display = 1\">Detail</button>\n                        </li>\n                        <li class=\"nav-item\">\n                            <button mat-button class=\"nav-link\" [class.active]=\"user.display === 2\" (click)=\"user.display = 2\">Sales</button>\n                        </li>\n                    </ul>\n                    <div style=\"min-height:40px;\">\n                        <button class=\"p-0 hover-item\"\n                            type=\"button\" mat-icon-button \n                            [matMenuTriggerFor]=\"agentMenu\"\n                            *ngIf=\"user.agent.isActive\"\n                        >\n                            <i class=\"mdi mdi-dots-vertical-circle-outline\"></i>\n                        </button>\n                        <mat-menu #agentMenu=\"matMenu\">\n                            <button mat-menu-item (click)=\"showEditRulesDialog(user)\">\n                                <mat-icon>vpn_key</mat-icon>\n                                <span>Rules</span>\n                            </button>\n                            <button mat-menu-item (click)=\"editAgent(user)\">\n                                <mat-icon>edit</mat-icon>\n                                <span>Edit</span> \n                            </button>\n                        </mat-menu>\n                        <!-- <button class=\"p-0 hover-item\" type=\"button\" mat-icon-button>\n                            <i class=\"mdi mdi-security-lock mat-accent\"></i>\n                        </button>\n                        <button class=\"p-0 hover-item\" type=\"button\" mat-icon-button (click)=\"editAgent(user)\">\n                            <mat-icon color=\"accent\">edit</mat-icon>\n                        </button> -->\n                    </div>\n                </div>\n                <div class=\"card-body\" [class.card-body-auto]=\"user.display === 2\">\n                    <ng-container *ngIf=\"user.display === 0\">\n                        <div class=\"d-flex flex-column justify-content-center align-items-center\" style=\"width:100%;height:100%;\">\n                            <h3 class=\"card-title\" [class.text-muted]=\"!user.agent.isActive\">\n                                {{user.firstName}} {{user.lastName}} <small *ngIf=\"!user.agent.isActive\">(Inactive)</small>\n                            </h3>\n                            <div class=\"d-flex align-items-center text-muted\">\n                                <i class=\"material-icons\">account_box</i>\n                                {{user.username}}\n                            </div>\n                            <div class=\"card-text\" *ngIf=\"user.detail\">Birthdate: {{user.detail.birthDate | date:'shortDate'}}</div>\n                            <div class=\"card-text\">Anniversary: {{ user.createdAt | date:'shortDate' }}</div>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"user.display === 1\">\n                        <p class=\"font-weight-light font-italic text-muted\">{{user.firstName}} {{user.lastName}}</p>\n                        <p *ngIf=\"user.detail.street == null && user.detail.phone == null\">\n                            <button type=\"button\" class=\"btn btn-link\" (click)=\"editAgent(user)\">\n                                Add Details\n                            </button>\n                        </p>\n                        <div *ngIf=\"user.detail && user.detail.street != null\">\n                            <span class=\"font-weight-bold\">Address: </span>\n                            <address class=\"font-weight-light\">\n                                {{user.detail.street}}\n                                {{user.detail.street2}}\n                                {{user.detail.city}} {{user.detail.state}} {{user.detail.zip}}\n                            </address>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.phone != null\">\n                            <span class=\"font-weight-bold\">Phone: </span>\n                            <span class=\"font-weight-light\">{{user.detail.phone | phone}}</span>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.ssn != null && user.detail.ssn > 0\">\n                            <span class=\"font-weight-bold\">SSN: </span>\n                            <span class=\"font-weight-light\">{{replaceCharAt(user.detail.ssn, 0, 4, 'X')}}</span>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.bankRouting\">\n                            <span class=\"font-weight-bold\">Routing: </span>\n                            <span class=\"font-weight-light\">{{user.detail.bankRouting}}</span>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.bankAccount\">\n                            <span class=\"font-weight-bold\">Account: </span>\n                            <span class=\"font-weight-light\">{{user.detail.bankAccount}}</span>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"user.display === 2\" [formGroup]=\"user.pairingsForm\">\n                        <div class=\"d-flex justify-content-between align-items-center mb-2\">\n                            <p class=\"font-weight-light font-italic text-muted\">\n                                {{user.firstName}} {{user.lastName}}\n                            </p>\n                            <button type=\"button\" \n                                mat-button \n                                class=\"float-right\" \n                                (click)=\"addEmptyPairing(user.pairingsForm.controls['array'], user.agent.pairings)\"\n                                [disabled]=\"disableAddPairingBtn\"\n                                *ngIf=\"user.agent.isActive\"\n                            >\n                                <mat-icon>add</mat-icon> Pairing\n                            </button>\n                        </div>\n                        \n                        <div formArrayName=\"array\" *ngIf=\"user.agent.pairings.length; else noPairings\">\n                            <mat-card *ngFor=\"let pairing of user.agent.pairings; let i=index\">\n                                <mat-card-content [formGroupName]=\"i\" class=\"mb-0\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-6\">\n                                            <mat-form-field>\n                                                <mat-select placeholder=\"Campaign\" formControlName=\"campaignId\" required>\n                                                    <mat-option *ngFor=\"let campaign of campaigns\" [value]=\"campaign.campaignId\">\n                                                        {{campaign.name}}\n                                                    </mat-option>\n                                                </mat-select>\n                                                <mat-error *ngIf=\"user.pairingsForm.controls['array'].controls[i].hasError('required')\">\n                                                    Please select a campaign.\n                                                </mat-error>\n                                            </mat-form-field>\n                                        </div>\n                                        <div class=\"col-md-6 d-flex\">\n                                            <mat-form-field class=\"flex-grow-1\">\n                                                <input matInput type=\"text\" placeholder=\"Code\" formControlName=\"salesId\" required #pairingRows />\n                                                <mat-icon matSuffix\n                                                    color=\"primary\"\n                                                    class=\"clickable\"\n                                                    *ngIf=\"user.pairingsForm.controls['array'].controls[i].value.salesPairingsId > 0 && user.pairingsForm.controls['array'].controls[i].dirty\"\n                                                    (click)=\"savePairingUpdate(user.pairingsForm.controls['array'].controls[i], user)\"\n                                                >save</mat-icon>\n                                                <mat-error *ngIf=\"user.pairingsForm.controls['array'].controls[i].hasError('required')\">\n                                                    Please enter a sales ID.\n                                                </mat-error>\n                                            </mat-form-field>\n                                        </div>\n                                    </div>\n                                </mat-card-content>\n                                <mat-card-actions class=\"d-flex\" *ngIf=\"pairing.salesPairingsId == null || pairing.salesPairingsId < 1\">\n                                    <button type=\"button\" mat-button \n                                        *ngIf=\"user.pairingsForm.controls['array'].controls[i].touched\" \n                                        (click)=\"cancelNewPairing(user.pairingsForm.controls['array'].controls[i], user, i)\"\n                                    >\n                                        <mat-icon>clear</mat-icon> Cancel\n                                    </button>\n                                    <button type=\"button\" mat-button color=\"primary\" \n                                        [disabled]=\"user.pairingsForm.invalid\" \n                                        (click)=\"saveNewPairing(user.pairingsForm.controls['array'].controls[i], user)\"\n                                    >\n                                        <mat-icon>save</mat-icon> Save\n                                    </button>\n                                </mat-card-actions>\n                            </mat-card>\n                        </div>\n                        <ng-template #noPairings>\n                            <h5 class=\"text-muted\" *ngIf=\"user.agent.isActive\">\n                                Click the <span class=\"font-italic\">+ Pairings</span> button to get started.\n                            </h5>\n                        </ng-template>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<vs-float-button\n  mat-icon=\"add\"\n  (callback)=\"showAddAgent()\"\n  [isOpen]=\"floatOpen$\"\n></vs-float-button>"

/***/ }),

/***/ "./src/app/agent/agent.component.scss":
/*!********************************************!*\
  !*** ./src/app/agent/agent.component.scss ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".card-body {\n  height: 200px;\n  overflow-y: auto; }\n\n.card-body-auto {\n  height: auto !important;\n  max-height: 400px;\n  overflow-y: auto; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvYWdlbnQvYWdlbnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxjQUFhO0VBQ2IsaUJBQWdCLEVBQ25COztBQUVEO0VBQ0ksd0JBQXVCO0VBQ3ZCLGtCQUFpQjtFQUNqQixpQkFBZ0IsRUFDbkIiLCJmaWxlIjoic3JjL2FwcC9hZ2VudC9hZ2VudC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmNhcmQtYm9keSB7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uY2FyZC1ib2R5LWF1dG8ge1xuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50O1xuICAgIG1heC1oZWlnaHQ6IDQwMHB4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG59Il19 */"

/***/ }),

/***/ "./src/app/agent/agent.component.ts":
/*!******************************************!*\
  !*** ./src/app/agent/agent.component.ts ***!
  \******************************************/
/*! exports provided: AgentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentComponent", function() { return AgentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/core/agents/dialogs/add-agent.component */ "./src/app/core/agents/dialogs/add-agent.component.ts");
/* harmony import */ var _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/fab-float-btn/float-btn.service */ "./src/app/fab-float-btn/float-btn.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/agent/edit-agent-dialog/edit-agent-dialog.component */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts");
/* harmony import */ var _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_agent_agent_rules_dialog_agent_rules_dialog_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @app/agent/agent-rules-dialog/agent-rules-dialog.component */ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.ts");

















var AgentDisplay;
(function (AgentDisplay) {
    AgentDisplay[AgentDisplay["Summary"] = 0] = "Summary";
    AgentDisplay[AgentDisplay["Detail"] = 1] = "Detail";
})(AgentDisplay || (AgentDisplay = {}));
var PAIRING_KEYS = ['agentId', 'campaignId', 'clientId', 'salesId', 'salesPairingsId'];
var AgentComponent = /** @class */ (function () {
    function AgentComponent(service, session, dialog, floatBtnService, campaignService, fb, msg, changeDetector, userService) {
        var _this = this;
        this.service = service;
        this.session = session;
        this.dialog = dialog;
        this.floatBtnService = floatBtnService;
        this.campaignService = campaignService;
        this.fb = fb;
        this.msg = msg;
        this.changeDetector = changeDetector;
        this.userService = userService;
        this.store = {};
        this.users$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.managers$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.showSearchContextChip = false;
        this.sortAscending = true;
        this.campaigns$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.disableAddPairingBtn = false;
        this.showInactive = true;
        this.floatOpen$ = this.floatBtnService.opened$.asObservable();
        this.users = this.users$.asObservable();
        this.users$.subscribe(function (next) { return _this._filteredUsers = next; });
        this.campaigns$.subscribe(function (next) { return _this.campaigns = next; });
    }
    AgentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.userItem.subscribe(function (user) {
            if (user == null || _this.user != null)
                return;
            _this.user = user;
            _this.refreshAgents();
            _this.campaignService.getCampaignsByClient(_this.user.sessionUser.sessionClient)
                .subscribe(function (campaigns) {
                _this._campaigns = campaigns;
                _this.campaigns$.next(_this._campaigns);
            });
        });
    };
    AgentComponent.prototype.ngAfterViewChecked = function () {
        var _this = this;
        this._pairingRowsSub = this.pairingRows.changes.subscribe(function (next) {
            if (!_this.pairingRows.length || !_this.disableAddPairingBtn)
                return;
            _this.pairingRows.last.nativeElement.focus();
            _this.changeDetector.detectChanges();
        });
    };
    AgentComponent.prototype.ngOnDestroy = function () {
        this._pairingRowsSub.unsubscribe();
    };
    AgentComponent.prototype.showAddAgent = function () {
        var _this = this;
        this.floatBtnService.open();
        this.dialog.open(_app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_8__["AddAgentDialogComponent"], {
            width: '600px',
            data: {
                user: this.user
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            _this.floatBtnService.close();
            if (result == null || !result)
                return;
            _this.refreshAgents();
        });
    };
    AgentComponent.prototype.showEditRulesDialog = function (user) {
        var _this = this;
        this.dialog.open(_app_agent_agent_rules_dialog_agent_rules_dialog_component__WEBPACK_IMPORTED_MODULE_16__["AgentRulesDialogComponent"], {
            width: '500px',
            data: {
                user: user
            },
            autoFocus: false
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            _this.session.showLoader();
            _this.userService.saveUserRoleEntity(result)
                .subscribe(function (role) {
                _this.session.hideLoader();
                _this.store.users.forEach(function (u, i, a) {
                    if (u.id != role.userId)
                        return;
                    a[i].role = role;
                });
            });
        });
    };
    AgentComponent.prototype.saveNewPairing = function (form, user) {
        var _this = this;
        if (form.invalid)
            return;
        this.disableAddPairingBtn = false;
        var model = this.preparePairingFromForm(form);
        model.agentId = model.agentId || user.agent.agentId;
        var isDuplicateEntry = this.isDuplicateCampaignPairing(user.agent.pairings, model.campaignId);
        if (isDuplicateEntry)
            return;
        var isNewPairing = model.salesPairingsId == null || model.salesPairingsId < 1;
        this.session.showLoader();
        this.service.saveAgentSalesPairing(model, model.agentId)
            .subscribe(function (result) {
            user.agent.pairings[user.agent.pairings.length - 1] = result;
            _this.resetPairingFormGroup(form, result);
            _this.session.hideLoader();
        });
    };
    /**
     * Updates an existing sales pairing entity. This is used explicitly separate from the AgentComponent.saveNewPairing
     * because it makes different changes to the UI.
     *
     * @param form:@type FormGroup Form that matches the corresponding ISalesPairing entity.
     * @param user:@type UserView The agent that owns this entity.
     */
    AgentComponent.prototype.savePairingUpdate = function (form, user) {
        var _this = this;
        if (form.invalid)
            return;
        var model = this.preparePairingFromForm(form);
        this.session.showLoader();
        this.service.saveAgentSalesPairing(model, model.agentId)
            .subscribe(function (result) {
            user.agent.pairings.forEach(function (p, i) {
                if (p.salesPairingsId != result.salesPairingsId)
                    return;
                user.agent.pairings[i] = result;
            });
            _this.resetPairingFormGroup(form, result);
            _this.session.hideLoader();
        });
    };
    AgentComponent.prototype.toggleAgents = function (event) {
        var showAll = event.checked;
        if (showAll) {
            this.users$.next(this.store.users);
            this.showInactive = true;
        }
        else {
            var filtered = this.store.users.filter(function (u) {
                return u.agent.isActive == true;
            });
            this.users$.next(filtered);
            this.showInactive = false;
        }
    };
    AgentComponent.prototype.resetPairingFormGroup = function (form, pairing) {
        form.reset();
        form.patchValue({
            salesPairingsId: pairing.salesPairingsId,
            salesId: pairing.salesId,
            campaignId: pairing.campaignId,
            clientId: pairing.clientId,
            agentId: pairing.agentId
        });
    };
    AgentComponent.prototype.isDuplicateCampaignPairing = function (pairings, proposedCampaignId) {
        var existing = lodash__WEBPACK_IMPORTED_MODULE_5__["find"](pairings, function (p) {
            return p.campaignId == proposedCampaignId;
        });
        if (existing)
            this.msg.addMessage('This agent already has a code for that campaign.', 'dismiss', 5000);
        return existing != null;
    };
    AgentComponent.prototype.cancelNewPairing = function (form, user, index) {
        form.patchValue({
            campaignId: null,
            salesId: null
        });
        form.reset();
        user.agent.pairings.splice(index, 1);
        form.parent.removeAt(index);
        this.disableAddPairingBtn = false;
    };
    AgentComponent.prototype.addEmptyPairing = function (formArray, existingPairings) {
        this.disableAddPairingBtn = true;
        if (existingPairings != null)
            existingPairings.push({});
        else
            existingPairings = [{}];
        formArray.push(this.buildPairingsFormGroup(PAIRING_KEYS, {}));
        // set focus on this form new form element, so that the form scrolls to where it needs to 
        // for the user.
    };
    AgentComponent.prototype.preparePairingFromForm = function (form) {
        return {
            salesPairingsId: form.value.salesPairingsId || 0,
            agentId: form.value.agentId,
            clientId: form.value.clientId || this.user.sessionUser.sessionClient,
            campaignId: form.value.campaignId,
            salesId: form.value.salesId
        };
    };
    AgentComponent.prototype.createPairingsForm = function (pairings) {
        var _this = this;
        var formArray = this.fb.array([]);
        pairings.forEach(function (p) { return formArray.push(_this.buildPairingsFormGroup(PAIRING_KEYS, p)); });
        return this.fb.group({ array: formArray });
    };
    AgentComponent.prototype.buildPairingsFormGroup = function (keys, p) {
        var _this = this;
        var group = this.fb.group({});
        keys.forEach(function (k) {
            var validatorFn;
            var formControl;
            if (k == 'salesId' || k == 'campaignId') {
                validatorFn = _angular_forms__WEBPACK_IMPORTED_MODULE_11__["Validators"].required;
                formControl = _this.fb.control(p[k] || '', [validatorFn]);
            }
            else {
                formControl = _this.fb.control(p[k] || '');
            }
            group.addControl(k, formControl);
        });
        return group;
    };
    AgentComponent.prototype.refreshAgents = function () {
        var _this = this;
        this.service.getUserAgentsByClient(this.user.sessionUser.sessionClient)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["map"])(this.setMoments))
            .subscribe(function (users) {
            lodash__WEBPACK_IMPORTED_MODULE_5__["remove"](users, function (u) { return u.agent == null; });
            users.forEach(function (u, i) {
                if (u.detail == null)
                    users[i].detail = {
                        userId: u.id,
                        street: null,
                        street2: null,
                        city: null,
                        state: null,
                        zip: null,
                        phone: null,
                        birthDate: null,
                        ssn: null,
                        bankRouting: null,
                        bankAccount: null
                    };
                if (u.agent.pairings != null && u.agent.pairings.length)
                    users[i].pairingsForm = _this.createPairingsForm(u.agent.pairings);
                else
                    users[i].pairingsForm = _this.createPairingsForm([]);
            });
            _this.store.users = lodash__WEBPACK_IMPORTED_MODULE_5__["orderBy"](users, ['lastName', 'firstName'], ['asc', 'asc']);
            _this.users$.next(_this.store.users);
            _this.setManagers(_this.store.users);
            _this.session.hideLoader();
        });
    };
    AgentComponent.prototype.setMoments = function (users) {
        if (!users)
            return users;
        users.forEach(function (user) {
            if (user.agent == null)
                return;
            user.agent.createdAt = moment__WEBPACK_IMPORTED_MODULE_6__(user.agent.createdAt);
            user.display = AgentDisplay.Summary;
        });
        return users;
    };
    AgentComponent.prototype.setManagers = function (users) {
        this.store.managers = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](users, function (user) {
            return user.agent.isManager;
        });
        this.managers$.next(this.store.managers);
    };
    AgentComponent.prototype.replaceCharAt = function (input, start, end, replaceChar) {
        var counter = end - start;
        var calculatedReplacement;
        for (var i = 0; i < counter; i++) {
            calculatedReplacement += replaceChar;
        }
        return input.substr(start, end) + calculatedReplacement + input.substr(end, calculatedReplacement.length);
    };
    AgentComponent.prototype.editAgent = function (user) {
        var _this = this;
        var displayType = user.display;
        this.dialog.open(_app_agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_12__["EditAgentDialogComponent"], {
            width: '600px',
            data: {
                user: this.user,
                agent: user,
                managers: this.store.managers
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return; /** If the result is undefined, the user canceled the changes. */
            _this.session.showLoader();
            _this.service.updateUserWithRelationships(_this.user.sessionUser.sessionClient, result)
                .subscribe(function (user) {
                var idx = lodash__WEBPACK_IMPORTED_MODULE_5__["findIndex"](_this.store.users, { id: user.id });
                if (idx < 0) {
                    // this will be for a new user
                }
                else {
                    user.display = displayType || AgentDisplay.Summary;
                    if (user.agent.pairings != null && user.agent.pairings.length)
                        user.pairingsForm = _this.createPairingsForm(user.agent.pairings);
                    else
                        user.pairingsForm = _this.createPairingsForm([]);
                    _this.store.users[idx] = user;
                    _this.users$.next(_this.store.users);
                    _this.setManagers(_this.store.users);
                    _this.session.hideLoader();
                }
            });
        });
    };
    AgentComponent.prototype.searchAgents = function (event) {
        var _this = this;
        this.searchContext = event.target.value;
        var agentsResult = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](this.store.users, function (u) {
            return u.firstName.concat(u.lastName).toLowerCase().trim().includes(_this.searchContext);
        });
        this.users$.next(agentsResult);
    };
    AgentComponent.prototype.handleSearchContext = function () {
        if (this.searchContext != null) {
            this.searchChipValue = this.searchContext;
            this.searchContext = null;
            this.showSearchContextChip = true;
        }
    };
    AgentComponent.prototype.removeSearchChip = function () {
        this.searchChipValue = null;
        this.showSearchContextChip = false;
    };
    AgentComponent.prototype.toggleSortUsers = function () {
        var direction = this.sortAscending ? 'desc' : 'asc';
        this._filteredUsers = lodash__WEBPACK_IMPORTED_MODULE_5__["orderBy"](this._filteredUsers, ['lastName', 'firstName'], [direction, 'asc']);
        this.users$.next(this._filteredUsers);
        this.sortAscending = !this.sortAscending;
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"])('pairingRows'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["QueryList"])
    ], AgentComponent.prototype, "pairingRows", void 0);
    AgentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-agent',
            template: __webpack_require__(/*! ./agent.component.html */ "./src/app/agent/agent.component.html"),
            providers: [_app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_9__["FloatBtnService"]],
            styles: [__webpack_require__(/*! ./agent.component.scss */ "./src/app/agent/agent.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_agent_agent_service__WEBPACK_IMPORTED_MODULE_2__["AgentService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDialog"],
            _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_9__["FloatBtnService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_14__["CampaignService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormBuilder"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_15__["MessageService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"],
            _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_13__["UserService"]])
    ], AgentComponent);
    return AgentComponent;
}());



/***/ }),

/***/ "./src/app/agent/agent.service.ts":
/*!****************************************!*\
  !*** ./src/app/agent/agent.service.ts ***!
  \****************************************/
/*! exports provided: AgentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentService", function() { return AgentService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");






var AgentService = /** @class */ (function () {
    function AgentService(auth, http) {
        this.auth = auth;
        this.http = http;
        this.api = this.auth.apiUrl + 'api' || false;
    }
    /**
     * Gets a list of agents by the client id.
     *
     * @param clientId
     */
    AgentService.prototype.getUserAgentsByClient = function (clientId) {
        var url = this.api + "/clients/" + clientId + "/user-agents";
        return this.http.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.getAgentsByClient = function (clientId) {
        var _this = this;
        var url = this.api + "/clients/" + clientId + "/agents";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (next) { return _this._agents = next; }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.getAgentByUser = function (clientId, userId) {
        return this.http
            .get(this.api + "/clients/" + clientId + "/users/" + userId + "/agents")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.updateUserWithRelationships = function (clientId, user) {
        var url = this.api + "/clients/" + clientId + "/users/" + user.id;
        return this.http.post(url, user).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.checkUsernameAvailability = function (username) {
        return this.http.get(this.api + "/usernames?u=" + username).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    /**
     * Return an array of sales pairings entities by agent id.
     *
     * @param agentId
     * @param clientId
     */
    AgentService.prototype.getAgentSalesPairings = function (agentId, clientId) {
        return this.http
            .get(this.api + "/sales-pairings/clients/" + clientId + "/agents/" + agentId + "/sales-pairings")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.getSalesPairingsByClient = function (clientId) {
        return this.http
            .get(this.api + "/sales-pairings/clients/" + clientId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    /**
     * Save a list of agent sales pairings.
     *
     * @param pairings
     * @param agentId
     */
    AgentService.prototype.saveAgentSalesPairings = function (pairings, agentId) {
        return this.http
            .post(this.api + "/sales-pairings/agents/" + agentId + "/sales-pairings", { pairings: pairings })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.saveAgentSalesPairing = function (pairing, agentId) {
        var url = pairing.salesPairingsId > 0
            ? this.api + "/agents/" + agentId + "/sales-pairings/" + pairing.salesPairingsId
            : this.api + "/agents/" + agentId + "/sales-pairings";
        return this.http.post(url, pairing).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.deleteAgentSalesPairings = function (pairingId) {
        return this.http.delete(this.api + "/sales-pairings/" + pairingId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    AgentService.prototype.getRoleTypes = function (includeInactive) {
        if (includeInactive === void 0) { includeInactive = false; }
        return this.http.get(this.api + "/role-types?inactive=" + includeInactive);
    };
    AgentService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            console.error("Server returned error code " + error.status + ": " + error.error);
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])('There was a network error. Please try again.');
    };
    AgentService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], AgentService);
    return AgentService;
}());



/***/ }),

/***/ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <mat-dialog-container> -->\n    <h3 mat-dialog-title>\n        Edit Agent\n        <button type=\"button\" class=\"float-right\" mat-icon-button (click)=\"onNoClick()\" tabindex=\"-1\">\n            <mat-icon>clear</mat-icon>\n        </button>\n    </h3>\n    <p class=\"text-muted\">\n        All fields denoted with * are required.\n    </p>\n    <mat-dialog-content>\n        <form [formGroup]=\"form\">\n            <ng-container formGroupName=\"user\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"firstName\" placeholder=\"First Name\" required /> \n                            <mat-error *ngIf=\"form.get('user').get('firstName').hasError('required')\">\n                                Please enter a first name.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"lastName\" placeholder=\"Last Name\" required />\n                            <mat-error *ngIf=\"form.get('user').get('lastName').hasError('required')\">\n                                Please enter a last name.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6 py-3\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"username\" placeholder=\"Username\" required readonly />\n                            <mat-hint>Please contact a system admin to edit a username</mat-hint>\n                            <mat-error *ngIf=\"form.get('user').get('username').hasError('required')\">\n                                Please enter a username.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6 d-flex flex-column\">\n                        <mat-checkbox formControlName=\"active\">Portal Access</mat-checkbox>\n                        <span class=\"text-muted font-italic font-sm\">Allow user to login to online portal</span>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container formGroupName=\"detail\">\n                <div class=\"row\">\n                    <div class=\"col-md-8\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"street\" placeholder=\"Street Address\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('street').hasError('required')\">\n                                Please enter a street address.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"street2\" placeholder=\"Apt/Unit/Suite\" />\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"city\" placeholder=\"City\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('city').hasError('required')\">\n                                Please enter a city.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <mat-form-field>\n                            <mat-select placeholder=\"State\" formControlName=\"state\" required>\n                                <mat-option *ngFor=\"let state of states\" [value]=\"state.abbreviation\">\n                                    {{state.name}}\n                                </mat-option>\n                            </mat-select>\n                            <mat-error *ngIf=\"form.get('detail').get('state').hasError('required')\">\n                                Please select a state.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"zip\" placeholder=\"Postal Code\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('zip').hasError('required')\">\n                                Please enter a postal code.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input matInput [matDatepicker]=\"birthDatePicker\" placeholder=\"Birth Date\" formControlName=\"birthDate\" />\n                            <mat-datepicker-toggle matSuffix [for]=\"birthDatePicker\"></mat-datepicker-toggle>\n                            <mat-datepicker #birthDatePicker></mat-datepicker>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Social Security Number\" formControlName=\"ssn\" />\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Phone\" formControlName=\"phone\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('phone').hasError('required')\">\n                                Please enter a phone number.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Bank Routing\" formControlName=\"routing\" />\n                            <mat-hint>\n                                Use if agent has direct deposit setup.\n                            </mat-hint>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Bank Account\" formControlName=\"account\" />\n                            <mat-hint>\n                                Use if agent has direct deposit setup.\n                            </mat-hint>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container formGroupName=\"agent\">\n                <div class=\"row py-4\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <mat-select placeholder=\"Manager\" formControlName=\"manager\" required>\n                                <mat-option *ngFor=\"let manager of managers\" [value]=\"manager.id\">\n                                    {{manager.firstName}} {{manager.lastName}}\n                                </mat-option>\n                            </mat-select>\n                            <mat-error *ngIf=\"form.get('agent').get('manager').hasError('required')\">\n                                Please select a manager.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            Select the manager that this agent reports to.\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-checkbox formControlName=\"isManager\">Manager</mat-checkbox>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            This denotes the agent as a manager in the system, enabling their overrides and allowing you to assign\n                            other users to them for payroll.\n                        </p>\n                    </div>\n                </div>\n                <!-- <div class=\"row\" *ngIf=\"!form.value.isManager\">\n                    <div class=\"col-md-6\">\n                        <mat-checkbox>Sales Admin</mat-checkbox>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            If the user is not a manager role employee, they can \n                        </p>\n                    </div>\n                </div> -->\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-checkbox formControlName=\"active\">Active Employee</mat-checkbox>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            If this is unchecked, the agent is considered \"terminated\" and will no longer show up in the system as \n                            an active employee. This will affect payroll and if they are not active, their payroll will not be calculated. This \n                            does <strong>NOT</strong> disable their login access, because terminated employees may need access to their historical\n                            pay data for a determinate amount of time.\n                        </p>\n                    </div>\n                </div>\n            </ng-container>\n        </form>\n    </mat-dialog-content>\n    <mat-dialog-actions>\n        <button type=\"button\" mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button type=\"button\" mat-button color=\"primary\" (click)=\"saveAgentChanges()\">Save</button>\n    </mat-dialog-actions>\n<!-- </mat-dialog-container> -->"

/***/ }),

/***/ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.scss":
/*!**************************************************************************!*\
  !*** ./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.scss ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host mat-form-field {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvYWdlbnQvZWRpdC1hZ2VudC1kaWFsb2cvZWRpdC1hZ2VudC1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFXLEVBQ2QiLCJmaWxlIjoic3JjL2FwcC9hZ2VudC9lZGl0LWFnZW50LWRpYWxvZy9lZGl0LWFnZW50LWRpYWxvZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IG1hdC1mb3JtLWZpZWxkIHtcbiAgICB3aWR0aDogMTAwJTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts ***!
  \************************************************************************/
/*! exports provided: EditAgentDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditAgentDialogComponent", function() { return EditAgentDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");





var EditAgentDialogComponent = /** @class */ (function () {
    function EditAgentDialogComponent(fb, data, ref) {
        this.fb = fb;
        this.data = data;
        this.ref = ref;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_4__["States"].$get();
    }
    EditAgentDialogComponent.prototype.ngOnInit = function () {
        this.agent = this.data.agent;
        this.managers = this.data.managers;
        this.managers.unshift({
            id: -1,
            firstName: 'No',
            lastName: 'Manager'
        });
        this.createForm();
    };
    EditAgentDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    EditAgentDialogComponent.prototype.saveAgentChanges = function () {
        var updatedAgent = this.prepareModel();
        this.ref.close(updatedAgent);
    };
    /** Creates a form that has separate form groups for the user entity, user_detail entity and the agent entity. */
    EditAgentDialogComponent.prototype.createForm = function () {
        this.form = this.fb.group({
            user: this.fb.group({
                firstName: this.fb.control(this.agent.firstName, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                lastName: this.fb.control(this.agent.lastName, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                username: this.fb.control(this.agent.username, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                email: this.fb.control(this.agent.email, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].email]),
                active: this.fb.control(this.agent.active)
            }),
            detail: this.fb.group({
                street: this.fb.control(this.agent.detail.street, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                street2: this.fb.control(this.agent.detail.street2),
                city: this.fb.control(this.agent.detail.city, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                state: this.fb.control(this.agent.detail.state, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                zip: this.fb.control(this.agent.detail.zip, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern('[0-9]+')]),
                ssn: this.fb.control(this.agent.detail.ssn || ''),
                birthDate: this.fb.control(this.agent.detail.birthDate, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                phone: this.fb.control(this.agent.detail.phone, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern('[0-9]+')]),
                routing: this.fb.control(this.agent.detail.bankRouting),
                account: this.fb.control(this.agent.detail.bankAccount)
            }),
            agent: this.fb.group({
                manager: this.fb.control(this.agent.agent.managerId, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                isManager: this.fb.control(this.agent.agent.isManager),
                active: this.fb.control(this.agent.agent.isActive)
            })
        });
    };
    EditAgentDialogComponent.prototype.prepareModel = function () {
        return {
            id: this.agent.id,
            firstName: this.form.value.user.firstName,
            lastName: this.form.value.user.lastName,
            email: this.form.value.user.email,
            username: this.form.value.user.username,
            active: this.form.value.user.active,
            detail: {
                userDetailId: this.agent.detail.userDetailId || 0,
                userId: this.agent.detail.userId,
                street: this.form.value.detail.street,
                street2: this.form.value.detail.street2,
                city: this.form.value.detail.city,
                state: this.form.value.detail.state,
                zip: this.form.value.detail.zip,
                ssn: +this.form.value.detail.ssn,
                birthDate: this.form.value.detail.birthDate,
                phone: +this.form.value.detail.phone,
                bankRouting: this.form.value.detail.routing,
                bankAccount: this.form.value.detail.account
            },
            agent: {
                agentId: this.agent.agent.agentId || 0,
                firstName: this.form.value.user.firstName,
                lastName: this.form.value.user.lastName,
                managerId: this.form.value.agent.manager,
                isManager: this.form.value.agent.isManager,
                isActive: this.form.value.agent.active
            }
        };
    };
    EditAgentDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-edit-agent-dialog',
            template: __webpack_require__(/*! ./edit-agent-dialog.component.html */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.html"),
            styles: [__webpack_require__(/*! ./edit-agent-dialog.component.scss */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], Object, _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"]])
    ], EditAgentDialogComponent);
    return EditAgentDialogComponent;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./my-information/my-information.component */ "./src/app/my-information/my-information.component.ts");
/* harmony import */ var _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./client-information/client-information.component */ "./src/app/client-information/client-information.component.ts");
/* harmony import */ var _auth_guard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auth.guard */ "./src/app/auth.guard.ts");
/* harmony import */ var _app_campaigns_campaigns_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/campaigns/campaigns.component */ "./src/app/campaigns/campaigns.component.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.component */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.ts");
/* harmony import */ var _app_agent_agent_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/agent/agent.component */ "./src/app/agent/agent.component.ts");
/* harmony import */ var _app_public_home_public_home_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/public-home/public-home.component */ "./src/app/public-home/public-home.component.ts");
/* harmony import */ var _app_campaigns_components_campaign_detail_campaign_detail_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/campaigns/components/campaign-detail/campaign-detail.component */ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.ts");
/* harmony import */ var _campaigns_components_utility_detail_utility_detail_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./campaigns/components/utility-detail/utility-detail.component */ "./src/app/campaigns/components/utility-detail/utility-detail.component.ts");
/* harmony import */ var _daily_sale_tracker_components_new_sale_new_sale_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./daily-sale-tracker/components/new-sale/new-sale.component */ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.ts");















var routes = [
    { path: '', redirectTo: 'home', pathMatch: 'full' },
    { path: 'home', component: _app_public_home_public_home_component__WEBPACK_IMPORTED_MODULE_11__["PublicHomeComponent"] },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_3__["LoginComponent"] },
    { path: 'dashboard', component: _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_4__["DashboardComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'my-information', component: _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_5__["MyInformationComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'client-information', component: _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_6__["ClientInformationComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'campaigns', component: _app_campaigns_campaigns_component__WEBPACK_IMPORTED_MODULE_8__["CampaignsComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'campaigns/:campaignId', component: _app_campaigns_components_campaign_detail_campaign_detail_component__WEBPACK_IMPORTED_MODULE_12__["CampaignDetailComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'utilities/:utilityId', component: _campaigns_components_utility_detail_utility_detail_component__WEBPACK_IMPORTED_MODULE_13__["UtilityDetailComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'add-utility', component: _campaigns_components_utility_detail_utility_detail_component__WEBPACK_IMPORTED_MODULE_13__["UtilityDetailComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'agents', component: _app_agent_agent_component__WEBPACK_IMPORTED_MODULE_10__["AgentComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'daily-tracker', component: _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_9__["DailySaleTrackerComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'new-sale-contact', component: _daily_sale_tracker_components_new_sale_new_sale_component__WEBPACK_IMPORTED_MODULE_14__["NewSaleComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: '**', redirectTo: 'home' }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, {
                    useHash: true,
                })
            ]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-sidenav-container *ngIf=\"_loggedIn; else loggedOut;\">\n    <mat-sidenav #navigation mode=\"side\" class=\"sidenav\" autoFocus=\"false\">\n        <side-nav></side-nav>\n    </mat-sidenav>\n    <!-- <mat-sidenav-content scrollLock [trapScroll]=\"_loading\" class=\"pb-4\"> -->\n    <mat-sidenav-content class=\"pb-4\">\n        <ngx-loading [show]=\"_loading\"></ngx-loading>\n        <app-header></app-header>\n        <router-outlet></router-outlet>\n    </mat-sidenav-content>\n</mat-sidenav-container>\n<ng-template #loggedOut>\n    <!-- <div scrollLock [trapScroll]=\"_loading\"> -->\n    <div>\n        <ngx-loading [show]=\"_loading\"></ngx-loading>\n        <app-header></app-header>\n        <router-outlet></router-outlet>\n    </div>\n</ng-template>"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-sidenav-content {\n  height: 100vh; }\n\n.navigation {\n  background-color: #fafafa; }\n\nhtml, body {\n  margin: 0;\n  width: 100%;\n  height: 100%; }\n\nmat-sidenav-container, .sidenav-content {\n  margin: 0;\n  width: 100%;\n  height: 100%; }\n\nmat-sidenav-layout {\n  background: rgba(0, 0, 0, 0.03); }\n\n@media screen and (max-width: 480px) {\n  .sidenav {\n    width: 100%; } }\n\n@media screen and (min-width: 481px) {\n  .sidenav {\n    width: 300px; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYSxFQUNkOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0UsVUFBUztFQUNULFlBQVc7RUFDWCxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSxVQUFTO0VBQ1QsWUFBVztFQUNYLGFBQVksRUFDYjs7QUFFRDtFQUNFLGdDQUE0QixFQUM3Qjs7QUFLRDtFQUNFO0lBQ0UsWUFBVyxFQUNaLEVBQUE7O0FBR0g7RUFDRTtJQUNFLGFBQVksRUFDYixFQUFBIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1zaWRlbmF2LWNvbnRlbnQge1xuICBoZWlnaHQ6IDEwMHZoO1xufVxuXG4ubmF2aWdhdGlvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XG59XG5cbmh0bWwsIGJvZHkge1xuICBtYXJnaW46IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbm1hdC1zaWRlbmF2LWNvbnRhaW5lciwgLnNpZGVuYXYtY29udGVudCB7XG4gIG1hcmdpbjogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxubWF0LXNpZGVuYXYtbGF5b3V0IHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjAzKTtcbn1cblxuJGJyZWFrOiA0ODBweDtcbiRicmVhay1sYXJnZTogNzY4cHg7XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ICRicmVhaykge1xuICAuc2lkZW5hdiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJGJyZWFrICsgMSkge1xuICAuc2lkZW5hdiB7XG4gICAgd2lkdGg6IDMwMHB4O1xuICB9XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _env_environment_prod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @env/environment.prod */ "./src/environments/environment.prod.ts");
/* harmony import */ var _app_shared_moment_extensions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/shared/moment-extensions */ "./src/app/shared/moment-extensions.ts");
/* harmony import */ var _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/sidenav/sidenav.service */ "./src/app/sidenav/sidenav.service.ts");
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/cdk/layout */ "./node_modules/@angular/cdk/esm5/layout.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");










var AppComponent = /** @class */ (function () {
    function AppComponent(session, cd, sidenavService, breakpointObserver, router) {
        var _this = this;
        this.session = session;
        this.cd = cd;
        this.sidenavService = sidenavService;
        this.breakpointObserver = breakpointObserver;
        this.router = router;
        this.title = 'app';
        this.loading = true;
        var counter = 0;
        // wire up our extension methods
        _app_shared_moment_extensions__WEBPACK_IMPORTED_MODULE_6__["MomentExtensions"].init();
        this.session.loading$.subscribe(function (next) {
            if (next == null)
                return;
            _this.loading$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(next);
            _this._loading = next;
            _this.cd.detectChanges();
        });
        this.session.isLoginSubject.subscribe(function (next) {
            if (next == null)
                return;
            _this.loggedInStatus = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(next);
            _this._loggedIn = next;
        });
        this.observeBreakpoints();
    }
    AppComponent.prototype.ngOnInit = function () {
        this.session.loadUserStorageItem();
    };
    AppComponent.prototype.ngAfterContentInit = function () {
        //Called after ngOnInit when the component's or directive's content has been initialized.
        //Add 'implements AfterContentInit' to the class.
        // this.loading = this.session.loadingState;
    };
    AppComponent.prototype.ngAfterViewChecked = function () {
        // initialize our sidenav service
        this.sidenavService.setSidenav(this.sidenav);
        // dev only bug -
        // https://stackoverflow.com/questions/39787038/how-to-manage-angular2-expression-has-changed-after-it-was-checked-exception-w
        if (!_env_environment_prod__WEBPACK_IMPORTED_MODULE_5__["environment"].production)
            this.cd.detectChanges();
    };
    /**
     * Observes the layout and if the viewport changes sizes to the size of a smartphone,
     * this method calls a method to update services on the layout for mobile/desktop mode when applicable.
     */
    AppComponent.prototype.observeBreakpoints = function () {
        var _this = this;
        this.breakpointObserver.observe([
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_8__["Breakpoints"].Handset
        ]).subscribe(function (result) {
            if (result.matches)
                _this.handleMobileViewport();
            else
                _this.handleFullViewport();
        });
    };
    AppComponent.prototype.handleMobileViewport = function () {
        var _this = this;
        this.routerSubscription = this.router.events.subscribe(function () {
            _this.sidenavService.close();
        });
    };
    AppComponent.prototype.handleFullViewport = function () {
        if (this.routerSubscription != null)
            this.routerSubscription.unsubscribe();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('navigation'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatSidenav"])
    ], AppComponent.prototype, "sidenav", void 0);
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"],
            _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_7__["SidenavService"],
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_8__["BreakpointObserver"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/core.module */ "./src/app/core/core.module.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sidenav/sidenav.component */ "./src/app/sidenav/sidenav.component.ts");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var ngx_loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-loading */ "./node_modules/ngx-loading/ngx-loading/ngx-loading.es5.js");
/* harmony import */ var _header_header_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./header/header.component */ "./src/app/header/header.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _agent_agent_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./agent/agent.component */ "./src/app/agent/agent.component.ts");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var _app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/pipes/pipes.module */ "./src/app/pipes/pipes.module.ts");
/* harmony import */ var _agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./agent/edit-agent-dialog/edit-agent-dialog.component */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _public_home_public_home_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./public-home/public-home.component */ "./src/app/public-home/public-home.component.ts");
/* harmony import */ var _agent_agent_rules_dialog_agent_rules_dialog_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./agent/agent-rules-dialog/agent-rules-dialog.component */ "./src/app/agent/agent-rules-dialog/agent-rules-dialog.component.ts");
/* harmony import */ var _daily_sale_tracker_components_new_sale_new_sale_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./daily-sale-tracker/components/new-sale/new-sale.component */ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.ts");
/* harmony import */ var _directives_directives_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./directives/directives.module */ "./src/app/directives/directives.module.ts");
/* harmony import */ var _payroll_payroll_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./payroll/payroll.module */ "./src/app/payroll/payroll.module.ts");






















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_11__["BrowserAnimationsModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["BrowserModule"],
                _core_core_module__WEBPACK_IMPORTED_MODULE_2__["CoreModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_7__["MaterialModule"],
                ngx_loading__WEBPACK_IMPORTED_MODULE_8__["LoadingModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_13__["FabFloatBtnModule"],
                _app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_14__["PipesModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ReactiveFormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_16__["FormsModule"],
                _directives_directives_module__WEBPACK_IMPORTED_MODULE_20__["DirectivesModule"],
                _payroll_payroll_module__WEBPACK_IMPORTED_MODULE_21__["PayrollModule"],
                /** ROUTING FOR ENTIRE APPLICATION */
                _app_routing_module__WEBPACK_IMPORTED_MODULE_10__["AppRoutingModule"]
            ],
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"],
                _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_6__["SidenavComponent"],
                _header_header_component__WEBPACK_IMPORTED_MODULE_9__["HeaderComponent"],
                _agent_agent_component__WEBPACK_IMPORTED_MODULE_12__["AgentComponent"],
                _agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_15__["EditAgentDialogComponent"],
                _public_home_public_home_component__WEBPACK_IMPORTED_MODULE_17__["PublicHomeComponent"],
                _agent_agent_rules_dialog_agent_rules_dialog_component__WEBPACK_IMPORTED_MODULE_18__["AgentRulesDialogComponent"],
                _daily_sale_tracker_components_new_sale_new_sale_component__WEBPACK_IMPORTED_MODULE_19__["NewSaleComponent"]
            ],
            entryComponents: [
                _agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_15__["EditAgentDialogComponent"],
                _agent_agent_rules_dialog_agent_rules_dialog_component__WEBPACK_IMPORTED_MODULE_18__["AgentRulesDialogComponent"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/auth.guard.ts":
/*!*******************************!*\
  !*** ./src/app/auth.guard.ts ***!
  \*******************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);








/**
 * Design and built with help from: https://www.code-sample.com/2018/03/angular-5-auth-guard-and-route-guards.html
 *
 */
var AuthGuard = /** @class */ (function () {
    function AuthGuard(authService, router, userService, session) {
        this.authService = authService;
        this.router = router;
        this.userService = userService;
        this.session = session;
    }
    AuthGuard.prototype.canActivate = function (route, state) {
        var _this = this;
        var url = state.url;
        return rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"].create(function (observer) { return _this.session.isUserAuthenticated()
            .toPromise()
            .then(function (store) {
            if (store != null && store.expires > moment__WEBPACK_IMPORTED_MODULE_7__().valueOf()) {
                observer.next(true);
                observer.complete();
            }
            else {
                _this.session.navigateQueue.push(url);
                _this.router.navigateByUrl('login');
                observer.next(false);
                observer.complete();
            }
        }); });
    };
    AuthGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"],
            _session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/auth.service.ts":
/*!*********************************!*\
  !*** ./src/app/auth.service.ts ***!
  \*********************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./message.service */ "./src/app/message.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var environments_environment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! environments/environment */ "./src/environments/environment.ts");









var AuthService = /** @class */ (function () {
    function AuthService(http, router, session, userService, msg) {
        this.http = http;
        this.router = router;
        this.session = session;
        this.userService = userService;
        this.msg = msg;
        this.apiUrl = environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].apiUrl;
        this.redirectUrl = '/';
        this.selectedClient = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.loading = false;
    }
    /**
     * User attempted oauth login. This could potentially offer oauth2 login services through
     * other authentication methods like google/facebook.
     *
     * @param data
     * @param callback
     */
    AuthService.prototype.login = function (data) {
        this.loading = true;
        this.session.clearStorage();
        var url = this.apiUrl + 'oauth/token';
        return this.http.post(url, data).toPromise();
    };
    AuthService.prototype.ngLogin = function (data) {
        return this.http.post(this.apiUrl + "api/authenticate", data);
    };
    /**
     * Log out. Clears session storage.
     *
     */
    AuthService.prototype.logout = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.redirectUrl = _this.router.routerState.snapshot.url;
            _this.session.logout();
            _this.userService.logout();
            resolve(_this.redirectUrl);
        });
    };
    /**
     * Get's user from the database by the username after they've been authenticated and issued
     * a token.
     *
     * @param username
     * @param callback
     */
    AuthService.prototype.getUserSession = function (username, callback) {
        var _this = this;
        var url = this.apiUrl + 'api/users/' + username + '/session';
        return new Promise(function (resolve, reject) {
            _this.http.get(url)
                .toPromise()
                .then(function (result) {
                _this.populateUserRoles()
                    .then(function (data) { return _this.roles = data; });
                resolve(result);
            }, function (err) { return reject(err); });
        });
    };
    AuthService.prototype.setSession = function (key, value) {
        this.session[key] = value;
    };
    /**
     * Gets all user roles.
     */
    AuthService.prototype.populateUserRoles = function () {
        return this.http.get(this.apiUrl + 'api/utilities/get-user-roles').toPromise();
    };
    AuthService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"],
            _message_service__WEBPACK_IMPORTED_MODULE_6__["MessageService"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/base/base.module.ts":
/*!*************************************!*\
  !*** ./src/app/base/base.module.ts ***!
  \*************************************/
/*! exports provided: BaseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseModule", function() { return BaseModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../loading-spinner/loading-spinner.component */ "./src/app/loading-spinner/loading-spinner.component.ts");
/* harmony import */ var _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../select-mapper/select-mapper.component */ "./src/app/select-mapper/select-mapper.component.ts");
/* harmony import */ var _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../client-information/client-information.component */ "./src/app/client-information/client-information.component.ts");
/* harmony import */ var _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../client-selector/client-selector.component */ "./src/app/client-selector/client-selector.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var _dashboard_chart_js_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../dashboard/chart-js-content */ "./src/app/dashboard/chart-js-content.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/dashboard/dialogs/add-sale-dialog.component */ "./src/app/dashboard/dialogs/add-sale-dialog.component.ts");
/* harmony import */ var _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/cdk/portal */ "./node_modules/@angular/cdk/esm5/portal.es5.js");















var BaseModule = /** @class */ (function () {
    function BaseModule() {
    }
    BaseModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_10__["BrowserModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ReactiveFormsModule"],
                _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_14__["PortalModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_12__["MaterialModule"]
            ],
            declarations: [
                _login_login_component__WEBPACK_IMPORTED_MODULE_9__["LoginComponent"],
                _dashboard_chart_js_content__WEBPACK_IMPORTED_MODULE_8__["ChartJsContent"],
                _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_7__["DashboardComponent"],
                _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_6__["ClientSelectorComponent"],
                _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_5__["ClientInformationComponent"],
                _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_4__["SelectMapperComponent"],
                _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_3__["LoadingSpinnerComponent"],
                _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_13__["AgentAddSaleDialog"]
            ],
            entryComponents: [
                _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_13__["AgentAddSaleDialog"]
            ]
        })
    ], BaseModule);
    return BaseModule;
}());



/***/ }),

/***/ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"modal-header\">\n    <h4 class=\"modal-title\">Filters</h4>\n    <button type=\"button\" mat-icon-button tabindex=\"-1\" (click)=\"onNoClick()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<div class=\"modal-body\">\n    <form [formGroup]=\"form\" class=\"pb-4\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <h6>Active Status <small>Select to include:</small></h6>\n                <mat-checkbox [(checked)]=\"showAllStatuses\" (change)=\"changeShowAll($event)\" color=\"primary\">Show All</mat-checkbox><br />\n                <mat-checkbox formControlName=\"active\">Active</mat-checkbox><br />\n                <mat-checkbox formControlName=\"inactive\">Inactive</mat-checkbox>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <mat-form-field>\n                    <mat-label>Compensation</mat-label>\n                    <span matPrefix>$ &nbsp;</span>\n                    <input type=\"text\" matInput formControlName=\"compensation\" (change)=\"updateCompOperatorForm()\" />\n                </mat-form-field>\n\n                <ng-container *ngIf=\"showCompOperator\">\n                    <mat-form-field>\n                        <mat-select formControlName=\"compOperator\">\n                            <mat-option value=\"0\">=</mat-option>\n                            <mat-option value=\"1\"><</mat-option>\n                            <mat-option value=\"2\">></mat-option>\n                            <mat-option value=\"3\"><=</mat-option>\n                            <mat-option value=\"4\">>=</mat-option>\n                        </mat-select>\n                        <mat-hint>Filter compensation amount</mat-hint>\n                    </mat-form-field>\n                </ng-container>\n            </div>\n        </div>\n    </form>\n    <div class=\"float-right\">\n        <button type=\"button\" mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button type=\"button\" mat-button color=\"primary\" (click)=\"saveFilter()\">Save</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhbXBhaWducy9jYW1wYWlnbi1maWx0ZXItZGlhbG9nL2NhbXBhaWduLWZpbHRlci1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts ***!
  \**************************************************************************************/
/*! exports provided: CampaignFilterDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignFilterDialogComponent", function() { return CampaignFilterDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/models/campaign-filters.model */ "./src/app/models/campaign-filters.model.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);






var CampaignFilterDialogComponent = /** @class */ (function () {
    function CampaignFilterDialogComponent(fb, data, ref) {
        this.fb = fb;
        this.data = data;
        this.ref = ref;
        this.showAllStatuses = true;
    }
    CampaignFilterDialogComponent.prototype.ngOnInit = function () {
        this.filter = lodash__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"](this.data.filter);
        this.createForm();
        this.showCompOperator = this.filter.compensation != null;
    };
    CampaignFilterDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    CampaignFilterDialogComponent.prototype.saveFilter = function () {
        if (this.form.invalid)
            return;
        this.prepareModel();
        this.ref.close(this.filter);
    };
    CampaignFilterDialogComponent.prototype.updateCompOperatorForm = function () {
        this.showCompOperator = this.form.value.compensation != null;
    };
    CampaignFilterDialogComponent.prototype.changeShowAll = function (event) {
        this.showAllStatuses = event.checked;
        if (this.showAllStatuses) {
            this.form.controls.active.patchValue(!this.showAllStatuses);
            this.form.controls.active.disable();
            this.form.controls.inactive.patchValue(!this.showAllStatuses);
            this.form.controls.inactive.disable();
        }
        else {
            this.form.controls.active.enable();
            this.form.controls.inactive.enable();
        }
    };
    CampaignFilterDialogComponent.prototype.createForm = function () {
        this.showAllStatuses = this.filter.activeStatus == null || this.filter.activeStatus === 'all';
        this.form = this.fb.group({
            active: this.fb.control({ value: this.filter.activeStatus === 'active', disabled: this.showAllStatuses }),
            inactive: this.fb.control({ value: this.filter.activeStatus === 'inactive', disabled: this.showAllStatuses }),
            compensation: this.fb.control(this.filter.compensation || ''),
            compOperator: this.fb.control((this.filter.compOperator || _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_2__["CompOperator"].Equals).toString(), [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            location: this.fb.control(this.filter.location)
        });
    };
    CampaignFilterDialogComponent.prototype.prepareModel = function () {
        if (this.showAllStatuses) {
            this.filter.activeStatus = 'all';
        }
        else if (this.form.value.active && !this.form.value.inactive) {
            this.filter.activeStatus = 'active';
        }
        else if (this.form.value.inactive && !this.form.value.active) {
            this.filter.activeStatus = 'inactive';
        }
        else if (this.form.value.active && this.form.value.inactive) {
            this.filter.activeStatus = 'all';
        }
        this.filter.compensation = this.form.value.compensation;
        this.filter.compOperator = this.form.value.compOperator;
        this.filter.location = this.form.value.location;
    };
    CampaignFilterDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-campaign-filter-dialog',
            template: __webpack_require__(/*! ./campaign-filter-dialog.component.html */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.html"),
            styles: [__webpack_require__(/*! ./campaign-filter-dialog.component.scss */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_4__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"], Object, _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatDialogRef"]])
    ], CampaignFilterDialogComponent);
    return CampaignFilterDialogComponent;
}());



/***/ }),

/***/ "./src/app/campaigns/campaign.service.ts":
/*!***********************************************!*\
  !*** ./src/app/campaigns/campaign.service.ts ***!
  \***********************************************/
/*! exports provided: CampaignService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignService", function() { return CampaignService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");






var CampaignService = /** @class */ (function () {
    function CampaignService(http, auth) {
        this.http = http;
        this.auth = auth;
        this.apiUrl = this.auth.apiUrl + 'api/' || false;
        this.api = this.auth.apiUrl + 'api';
    }
    Object.defineProperty(CampaignService.prototype, "campaign", {
        get: function () {
            return this._campaign;
        },
        set: function (value) {
            this._campaign = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CampaignService.prototype, "utility", {
        get: function () {
            return this._utility;
        },
        set: function (value) {
            this._utility = value;
        },
        enumerable: true,
        configurable: true
    });
    // TODO: do I even use this anywhere?
    // getCampaignsByClient(clientId:number): Promise<any> {
    //   return this.http.get(this.apiUrl + 'clients/' + clientId + '/campaigns').toPromise();
    // }
    /**
     * Returns all active campaigns accessible by the current user
     *
     * @param clientId
     */
    CampaignService.prototype.getCampaigns = function (clientId, activeOnly) {
        if (activeOnly === void 0) { activeOnly = null; }
        var url = activeOnly == null
            ? this.apiUrl + "campaigns/clients/" + clientId + "/active"
            : this.apiUrl + "campaigns/clients/" + clientId + "/active/" + activeOnly;
        return this.http.get(url).toPromise();
    };
    CampaignService.prototype.getCampaign = function (clientId, campaignId) {
        var url = this.apiUrl + "clients/" + clientId + "/campaigns/" + campaignId;
        return this.http.get(url);
    };
    CampaignService.prototype.getCampaignsByClient = function (clientId) {
        var _this = this;
        return this.http
            .get(this.api + "/campaigns/clients/" + clientId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (next) {
            _this._campaigns = next;
            if (_this._utilities == null)
                _this._utilities = [];
            next.forEach(function (c) { return _this._utilities.concat(c.utilities); });
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    /**
     * Get campaign entities by agent.
     *
     * @param clientId
     * @param agentId
     */
    CampaignService.prototype.getCampaignsByAgent = function (clientId, agentId) {
        var url = this.apiUrl + "campaigns/clients/" + clientId + "/agents/" + agentId;
        return this.http.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    /**
     * Checks to see if a campaign already exists for this clients by name.
     *
     * @param clientId
     * @param name
     */
    CampaignService.prototype.checkCampaignNameAvailability = function (clientId, name) {
        return this.http
            .get(this.apiUrl + 'campaigns/clients/' + clientId + '/campaign-name', {
            params: {
                name: name
            }
        })
            .toPromise();
    };
    /**
     * Save a new/existing campaign entity.
     *
     * @param clientId
     * @param campaignId
     * @param dto
     */
    CampaignService.prototype.saveCampaign = function (clientId, campaignId, dto) {
        var url = campaignId != null
            ? this.apiUrl + 'campaigns/clients/' + clientId + '/campaigns/' + campaignId
            : this.apiUrl + 'campaigns/clients/' + clientId + '/campaigns';
        return this.http.post(url, { dto: dto }).toPromise();
    };
    CampaignService.prototype.getUtility = function (clientId, utilityId) {
        var _this = this;
        var url = this.apiUrl + "clients/" + clientId + "/utilities/" + utilityId;
        return this.http.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (err) { return _this.handleError(err); }));
    };
    CampaignService.prototype.saveUtility = function (clientId, utility) {
        var _this = this;
        var url = utility.utilityId > 0
            ? this.apiUrl + "clients/" + clientId + "/utilities/" + utility.utilityId
            : this.apiUrl + "clients/" + clientId + "/utilities";
        return this.http.post(url, utility)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (err) { return _this.handleError(err); }));
    };
    CampaignService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            // client side network error
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            // backend returned server error
            console.error("\n        Server returned error code " + error.status + ": " + error.error + "\n      ");
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["throwError"])('There was a network error. Please try again.');
    };
    CampaignService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], _auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]])
    ], CampaignService);
    return CampaignService;
}());



/***/ }),

/***/ "./src/app/campaigns/campaigns.component.html":
/*!****************************************************!*\
  !*** ./src/app/campaigns/campaigns.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-content>\n                    <div class=\"row\">\n                        <div class=\"col-md-10\">\n                            <h3>Campaign Management</h3>\n                        </div>\n                        <div class=\"col-md-2 d-flex justify-content-end align-items-center\">\n                            <button type=\"button\" \n                                mat-icon-button \n                                color=\"primary\" \n                                (click)=\"setFilters()\" \n                                [class.filter-active]=\"filterActive\"\n                            >\n                                <mat-icon>filter_list</mat-icon>\n                            </button>\n                            <button type=\"button\"\n                                class=\"ml-2\"\n                                mat-flat-button\n                                color=\"primary\"\n                                [matBadge]=\"numFilters\"\n                                matBadgePosition=\"after\"\n                                matBadgeColor=\"accent\"\n                                [matBadgeHidden]=\"!filterActive\"\n                                matBadgeOverlap=\"true\"\n                                (click)=\"clearFilters()\"\n                                *ngIf=\"filterActive\"\n                            >\n                                Clear Filters\n                            </button>\n                        </div>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-md-6 my-2\" *ngFor=\"let c of (campaigns | async); let i = index\">\n            <div class=\"card hoverable\">\n                <!-- <div class=\"card-header text-center\">{{c.name}}</div> -->\n                <div class=\"card-body px-3 pt-1 pb-2\" [ngClass]=\"c.active ? 'border-top-info' : 'border-top-light'\">\n                    <div class=\"row\">\n                        <div class=\"col-md-10 d-flex align-items-center\">\n                            <h5 class=\"card-title mb-0\" [class.text-muted]=\"!c.active\">{{c.name}}</h5>\n                        </div>\n                        <div class=\"col-md-2 d-flex align-items-start justify-content-end\">\n                            <button mat-icon-button type=\"button\" [matMenuTriggerFor]=\"menu\" class=\"float-right\" [class.text-muted]=\"!c.active\">\n                                <mat-icon>more_vert</mat-icon>\n                            </button>\n                            <mat-menu #menu>\n                                <button mat-menu-item (click)=\"editCampaign(c)\" *ngIf=\"c.active\">Edit</button>\n                                <button mat-menu-item *ngIf=\"c.active\" [routerLink]=\"'/campaigns/'+c.campaignId\">\n                                    Detail\n                                </button>\n                                <button mat-menu-item (click)=\"switchActiveStatus(c, i)\">{{c.active ? 'Deactivate' : 'Activate'}}</button>\n                            </mat-menu>\n                        </div>\n                    </div>\n                    \n                    <!-- <div \n                        class=\"card-text my-2\" \n                        *ngIf=\"c.mdDetails != null; else noDetail\" \n                        [innerHTML]=\"sanitize(c.mdDetails)\"\n                        [class.campaign-body]=\"c.mdDetails != null\"\n                    ></div>\n                    <ng-template #noDetail>\n                        <div \n                            class=\"card-text font-italic text-muted my-2\"\n                            [class.campaign-body]=\"c.mdDetails != null\"\n                        >No details saved.</div>\n                    </ng-template> -->\n\n                    <div class=\"card-text my-2\" *ngIf=\"c.utilities != null && c.utilities.length\">\n                        <h5 class=\"font-weight-bold\">Available Utilities</h5>\n                        <ul>\n                            <li *ngFor=\"let util of c.utilities\">\n                                {{util.utilityName}}\n                            </li>\n                        </ul>\n                    </div>\n\n                </div>\n                <div class=\"card-footer d-flex bg-light\" [ngClass]=\"c.compensation != null ? 'justify-content-between' : 'justify-content-end'\">\n                    <small class=\"font-italic text-dark\" *ngIf=\"c.compensation != null\">Compensation: ${{c.compensation}}</small>\n                    <small class=\"font-italic\" [ngClass]=\"!c.active ? 'text-muted' : 'text-info'\">\n                        {{c.active ? 'Active' : 'Inactive'}}\n                    </small>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</div>\n\n<vs-float-button\n  mat-icon=\"add\"\n  (callback)=\"addCampaign()\"\n  [isOpen]=\"floatIsOpen\"\n></vs-float-button>\n"

/***/ }),

/***/ "./src/app/campaigns/campaigns.component.scss":
/*!****************************************************!*\
  !*** ./src/app/campaigns/campaigns.component.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".campaign-tab-group {\n  border: 1px solid #e8e8e8; }\n\n.campaign-tab-content {\n  padding: 16px; }\n\n.campaigns-table .active {\n  display: flex;\n  flex-direction: column;\n  max-height: 500px;\n  min-width: 300px;\n  overflow: auto; }\n\n.active-table {\n  width: 100%; }\n\n.campaign-body {\n  height: 200px;\n  overflow-y: auto; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvY2FtcGFpZ25zL2NhbXBhaWducy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLDBCQUF5QixFQUMxQjs7QUFFRDtFQUNFLGNBQWEsRUFDZDs7QUFFRDtFQUdJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsa0JBQWlCO0VBQ2pCLGlCQUFnQjtFQUNoQixlQUFjLEVBQ2Y7O0FBSUg7RUFDRSxZQUFXLEVBQ1o7O0FBRUQ7RUFDSSxjQUFhO0VBQ2IsaUJBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvY2FtcGFpZ25zL2NhbXBhaWducy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmNhbXBhaWduLXRhYi1ncm91cCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlOGU4ZTg7XG59XG5cbi5jYW1wYWlnbi10YWItY29udGVudCB7XG4gIHBhZGRpbmc6IDE2cHg7XG59XG5cbi5jYW1wYWlnbnMtdGFibGUge1xuXG4gIC5hY3RpdmUge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDtcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICB9XG5cbn1cblxuLmFjdGl2ZS10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uY2FtcGFpZ24tYm9keSB7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/campaigns/campaigns.component.ts":
/*!**************************************************!*\
  !*** ./src/app/campaigns/campaigns.component.ts ***!
  \**************************************************/
/*! exports provided: CampaignsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignsComponent", function() { return CampaignsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_campaigns_new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/campaigns/new-campaign-dialog/new-campaign-dialog.component */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_models_role_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/models/role.model */ "./src/app/models/role.model.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/models/campaign-filters.model */ "./src/app/models/campaign-filters.model.ts");
/* harmony import */ var _app_campaigns_campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts");













var CampaignsComponent = /** @class */ (function () {
    function CampaignsComponent(dialog, session, service, msg, sanitizer) {
        this.dialog = dialog;
        this.session = session;
        this.service = service;
        this.msg = msg;
        this.sanitizer = sanitizer;
        this.defaultFilter = {
            activeStatus: 'all',
            compOperator: _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__["CompOperator"].Equals,
            compensation: null,
            location: { name: 'Michigan', abbreviation: 'MI' }
        };
        this.numFilters = 0;
        this.store = {};
        this.activeTableColumns = ['name', 'campaignId', 'active', 'createdAt', 'updatedAt'];
        this.activeTableSource = [];
        this.campaigns = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.inactiveTableSource = [];
        this.floatBtnIsOpen$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](false);
        this.filter = this.defaultFilter;
    }
    CampaignsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.userItem.subscribe(function (next) {
            if (next == null)
                return;
            _this.user = next;
            // if the user isn't at least a company admin, then we are going to send them back to the page they
            // were prior to reaching this point...
            if (_this.user.role.role < _app_models_role_model__WEBPACK_IMPORTED_MODULE_9__["UserRole"].companyAdmin)
                _this.session.navigateBack().then(function (result) {
                    console.dir(result);
                });
            _this.service
                .getCampaigns(_this.user.sessionUser.sessionClient, false)
                .then(function (campaigns) {
                _this.store.campaigns = campaigns;
                _this.campaigns.next(campaigns);
                _this.session.hideLoader();
                // TODO: remove after restructuring
                _this.tableData = campaigns;
                _this.sortCampaignsByStatus();
            })
                .catch(_this.msg.showWebApiError);
        });
        this.floatIsOpen = this.floatBtnIsOpen$.asObservable();
    };
    CampaignsComponent.prototype.switchActiveStatus = function (item, index) {
        var _this = this;
        this.session.showLoader();
        index = lodash__WEBPACK_IMPORTED_MODULE_2__["findIndex"](this.store.campaigns, { campaignId: item.campaignId });
        var pendingCampaign = this.store.campaigns[index];
        pendingCampaign.active = !pendingCampaign.active;
        this.service.saveCampaign(this.user.sessionUser.sessionClient, pendingCampaign.campaignId, pendingCampaign)
            .then(function (updated) {
            _this.session.hideLoader();
            _this.store.campaigns.map(function (c) { return c.campaignId === item.campaignId ? updated : c; });
            _this.campaigns.next(_this.store.campaigns);
        })
            .catch(this.msg.showWebApiError);
    };
    CampaignsComponent.prototype.addCampaign = function () {
        var _this = this;
        this.floatBtnIsOpen$.next(true);
        // show dialog with form...
        var ref = this.dialog.open(_app_campaigns_new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_4__["NewCampaignDialogComponent"], {
            width: '650px',
            data: {
                user: this.user
            }
        });
        ref.afterClosed().subscribe(function (result) {
            _this.floatBtnIsOpen$.next(false);
            if (result == null)
                return;
            // do whatever updates that need to happen right here after adding a new campaign
            _this.tableData.push(result);
            _this.sortCampaignsByStatus();
            _this.updateActiveTab();
        });
    };
    CampaignsComponent.prototype.editCampaign = function (item) {
        var _this = this;
        var ref = this.dialog.open(_app_campaigns_new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_4__["NewCampaignDialogComponent"], {
            width: '650px',
            data: {
                user: this.user,
                campaign: item
            }
        });
        ref.afterClosed().subscribe(function (result) {
            if (result == null)
                return;
            for (var i = 0; i < _this.tableData.length; i++) {
                // if the campaign ids don't match, skip to the next iteration
                if (_this.tableData[i].campaignId != result.campaignId)
                    continue;
                _this.tableData[i] = result;
                _this.sortCampaignsByStatus();
                _this.updateActiveTab();
            }
        });
    };
    CampaignsComponent.prototype.setFilters = function () {
        var _this = this;
        this.dialog.open(_app_campaigns_campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_12__["CampaignFilterDialogComponent"], {
            width: '350px',
            data: {
                filter: this.filter
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            _this.filter = result;
            _this.updateCampaignsByFilter();
        });
    };
    CampaignsComponent.prototype.updateCampaignsByFilter = function () {
        var _this = this;
        var result;
        this.numFilters = 0;
        if (this.filter.activeStatus === 'all') {
            result = this.store.campaigns;
            this.numFilters++;
        }
        else {
            if (this.filter.activeStatus === 'active') {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](this.store.campaigns, function (c) {
                    return c.active;
                });
                this.numFilters++;
            }
            if (this.filter.activeStatus === 'inactive') {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](this.store.campaigns, function (c) {
                    return !c.active;
                });
                this.numFilters++;
            }
        }
        if (this.filter.compensation > 0) {
            if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__["CompOperator"].Equals) {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](result, function (c) {
                    return c.compensation === _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__["CompOperator"].GreaterThan) {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](result, function (c) {
                    return c.compensation > _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__["CompOperator"].GreaterThanEqualTo) {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](result, function (c) {
                    return c.compensation >= _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__["CompOperator"].LessThan) {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](result, function (c) {
                    return c.compensation < _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_11__["CompOperator"].LessThanEqualTo) {
                result = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](result, function (c) {
                    return c.compensation <= _this.filter.compensation;
                });
            }
            this.numFilters++;
        }
        // if(this.filter.location != null) {
        // add this... 
        // result = _.filter(result, (c:ICampaign) => {
        //     return c.
        // });
        // }
        if (result != null)
            this.campaigns.next(result);
        this.filterActive = true;
    };
    CampaignsComponent.prototype.clearFilters = function () {
        this.filterActive = false;
        this.campaigns.next(this.store.campaigns);
        this.filter = this.defaultFilter;
        this.numFilters = 0;
    };
    CampaignsComponent.prototype.sanitize = function (value) {
        return this.sanitizer.bypassSecurityTrustHtml(value);
    };
    // PRIVATE METHODS
    CampaignsComponent.prototype.sortCampaignsByStatus = function () {
        this.activeTableSource = [];
        this.inactiveTableSource = [];
        for (var i = 0; i < this.tableData.length; i++) {
            var item = this.tableData[i];
            if (item.active) {
                this.activeTableSource.push(item);
            }
            else {
                this.inactiveTableSource.push(item);
            }
        }
        this.activeTableSource = lodash__WEBPACK_IMPORTED_MODULE_2__["sortBy"](this.activeTableSource, ['name']);
        this.inactiveTableSource = lodash__WEBPACK_IMPORTED_MODULE_2__["sortBy"](this.inactiveTableSource, ['name']);
    };
    CampaignsComponent.prototype.updateActiveTab = function () {
        if (this.activeTableSource.length === 0 && this.inactiveTableSource.length > 0) {
            this.activeTab = 1;
        }
        else if (this.inactiveTableSource.length === 0 && this.activeTableSource.length > 0) {
            this.activeTab = 0;
        }
    };
    CampaignsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-campaigns',
            template: __webpack_require__(/*! ./campaigns.component.html */ "./src/app/campaigns/campaigns.component.html"),
            styles: [__webpack_require__(/*! ./campaigns.component.scss */ "./src/app/campaigns/campaigns.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialog"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_7__["CampaignService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_8__["MessageService"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_10__["DomSanitizer"]])
    ], CampaignsComponent);
    return CampaignsComponent;
}());

var TABLE_DATA = [
    { campaignId: 1, clientId: 0, name: 'Consumers', active: true, createdAt: new Date(), updatedAt: new Date() },
    { campaignId: 2, clientId: 0, name: 'DTE', active: true, createdAt: new Date(), updatedAt: new Date() },
    { campaignId: 3, clientId: 0, name: 'Spark', active: false, createdAt: new Date(), updatedAt: new Date() }
];


/***/ }),

/***/ "./src/app/campaigns/campaigns.module.ts":
/*!***********************************************!*\
  !*** ./src/app/campaigns/campaigns.module.ts ***!
  \***********************************************/
/*! exports provided: CampaignsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignsModule", function() { return CampaignsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _campaigns_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./campaigns.component */ "./src/app/campaigns/campaigns.component.ts");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./new-campaign-dialog/new-campaign-dialog.component */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-quill */ "./node_modules/ngx-quill/fesm5/ngx-quill.js");
/* harmony import */ var _campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./campaign-filter-dialog/campaign-filter-dialog.component */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts");
/* harmony import */ var _components_campaign_detail_campaign_detail_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/campaign-detail/campaign-detail.component */ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_utility_detail_utility_detail_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/utility-detail/utility-detail.component */ "./src/app/campaigns/components/utility-detail/utility-detail.component.ts");














var CampaignsModule = /** @class */ (function () {
    function CampaignsModule() {
    }
    CampaignsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_12__["RouterModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ReactiveFormsModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["BrowserModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_8__["FabFloatBtnModule"],
                ngx_quill__WEBPACK_IMPORTED_MODULE_9__["QuillModule"]
            ],
            declarations: [
                _campaigns_component__WEBPACK_IMPORTED_MODULE_3__["CampaignsComponent"],
                _new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_5__["NewCampaignDialogComponent"],
                _campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_10__["CampaignFilterDialogComponent"],
                _components_campaign_detail_campaign_detail_component__WEBPACK_IMPORTED_MODULE_11__["CampaignDetailComponent"],
                _components_utility_detail_utility_detail_component__WEBPACK_IMPORTED_MODULE_13__["UtilityDetailComponent"]
            ],
            entryComponents: [
                _new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_5__["NewCampaignDialogComponent"],
                _campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_10__["CampaignFilterDialogComponent"]
            ]
        })
    ], CampaignsModule);
    return CampaignsModule;
}());



/***/ }),

/***/ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.html":
/*!*************************************************************************************!*\
  !*** ./src/app/campaigns/components/campaign-detail/campaign-detail.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <h3 mat-card-title>Campaign Details</h3>\n                <mat-card-subtitle>\n                    <nav aria-label=\"breadcrumb\">\n                        <ol class=\"breadcrumb\">\n                            <li class=\"breadcrumb-item\"><a routerLink=\"/campaigns\">Campaigns</a></li>\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\">Detail</li>\n                        </ol>\n                    </nav>\n                </mat-card-subtitle>\n            </mat-card>\n        </div>\n    </div>\n    <ng-container *ngIf=\"campaign|async as campaign\" [formGroup]=\"form\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <mat-card>\n                    <h4 mat-card-title>General Information - {{campaign.name}}</h4>\n                    <mat-card-content>\n                        <div class=\"row mb-4\">\n                            <div class=\"col-md-12\">\n                                <div class=\"my-1\">\n                                    <span class=\"font-weight-bold\" [class.text-muted]=\"!campaign.active\">Status: </span>\n                                    {{ campaign.active ? 'Active' : 'Inactive' }}\n                                </div>\n                                <div class=\"my-1\">\n                                    <mat-form-field>\n                                        <input matInput placeholder=\"Compensation\" formControlName=\"compensation\" />\n                                        <span matPrefix>$&nbsp;</span>\n                                    </mat-form-field>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-12\">\n                                <mat-accordion>\n                                    <mat-expansion-panel>\n                                        <mat-expansion-panel-header>\n                                            <mat-panel-title>\n                                                Detail and Info\n                                            </mat-panel-title>\n                                        </mat-expansion-panel-header>\n\n                                        <p class=\"font-italic text-muted\">\n                                            This is some brief information that describes the campaign and gives pertinent information to employees.\n                                        </p>\n                                        <quill-editor \n                                            [style]=\"{height: '200px'}\" \n                                            formControlName=\"mdDetails\" \n                                            (onContentChanged)=\"quillContentChanged($event)\"\n                                            [modules]=\"modules\"\n                                        ></quill-editor>\n                                    </mat-expansion-panel>\n\n                                    <mat-expansion-panel>\n                                        <mat-expansion-panel-header>\n                                            <mat-panel-title>\n                                                Onboarding.\n                                            </mat-panel-title>\n                                        </mat-expansion-panel-header>\n\n                                        <p class=\"font-italic text-muted\">\n                                            Onboarding. No problem. Let's tell the employees how to get it done. \n                                        </p>\n                                        <quill-editor \n                                            [style]=\"{height: '200px'}\" \n                                            formControlName=\"mdOnboarding\" \n                                            (onContentChanged)=\"quillContentChanged($event)\"\n                                            [modules]=\"modules\"\n                                        ></quill-editor>\n                                    </mat-expansion-panel>\n\n                                    <mat-expansion-panel>\n                                        <mat-expansion-panel-header>\n                                            <mat-panel-title>\n                                                Additional Info\n                                            </mat-panel-title>\n                                        </mat-expansion-panel-header>\n\n                                        <p class=\"font-italic text-muted\">\n                                            Is there additional information you need to share about this campaign? (Restrictions, permit necessities, etc)\n                                        </p>\n                                        <quill-editor \n                                            [style]=\"{height: '200px'}\" \n                                            formControlName=\"mdOther\" \n                                            (onContentChanged)=\"quillContentChanged($event)\"\n                                            [modules]=\"modules\"\n                                        ></quill-editor>\n                                    </mat-expansion-panel>\n                                </mat-accordion>\n                            </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </div>\n        </div>\n        <div class=\"row my-2\">\n            <div class=\"col-md-12\">\n                <mat-card>\n                    <h4 mat-card-title>Utilities</h4>\n                    <mat-card-subtitle>\n                        Information about the utilities available for \n                        <span class=\"font-weight-bold\">{{campaign.name}}. </span>\n                        The accuracy of this information is extremely important as it is used to generate reporting sent \n                        to the EDI and Utility company. \n                    </mat-card-subtitle>\n                    <mat-card-content>\n                        <div class=\"row\" *ngIf=\"campaign.utilities != null\">\n                            <ng-container *ngFor=\"let u of campaign.utilities; let i = index\">\n                                <div class=\"col-md-6\">\n                                    <mat-card class=\"mat-card-border-primary\">\n                                        <mat-card-header>\n                                            <mat-icon mat-card-avatar>domain</mat-icon>\n                                            <h5 mat-card-title>{{u.utilityName}}</h5>\n                                            <mat-card-subtitle>Commodity: {{u.commodity}}</mat-card-subtitle>\n                                            <div class=\"flex-grow-1\">\n                                                <button type=\"button\" \n                                                    mat-button \n                                                    color=\"primary\" \n                                                    class=\"float-right\" \n                                                    (click)=\"editUtility(u)\"\n                                                >\n                                                    <mat-icon inline=\"true\">edit</mat-icon> Edit\n                                                </button>\n                                            </div>\n                                        </mat-card-header>\n                                        <mat-card-content>\n                                            <p>Status: {{u.isActive ? 'Active' : 'Inactive'}}</p>\n                                        </mat-card-content>\n                                    </mat-card>\n                                </div>\n                            </ng-container>\n                        </div>\n                       \n                        <div class=\"row row-top-border-primary\">\n                            <div class=\"col-md-12 d-flex justify-content-center\">\n                                <button type=\"button\" mat-button color=\"primary\" (click)=\"addUtility()\">\n                                    <mat-icon inline=\"true\">add</mat-icon> Utility\n                                </button>\n                            </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </div>\n        </div>\n    </ng-container>\n</div>\n"

/***/ }),

/***/ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.scss":
/*!*************************************************************************************!*\
  !*** ./src/app/campaigns/components/campaign-detail/campaign-detail.component.scss ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhbXBhaWducy9jb21wb25lbnRzL2NhbXBhaWduLWRldGFpbC9jYW1wYWlnbi1kZXRhaWwuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/campaigns/components/campaign-detail/campaign-detail.component.ts ***!
  \***********************************************************************************/
/*! exports provided: CampaignDetailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignDetailComponent", function() { return CampaignDetailComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_shared_quill_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/shared/quill-config */ "./src/app/shared/quill-config.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");








var CampaignDetailComponent = /** @class */ (function () {
    function CampaignDetailComponent(route, service, session, fb, router) {
        var _this = this;
        this.route = route;
        this.service = service;
        this.session = session;
        this.fb = fb;
        this.router = router;
        this.campaign = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]({});
        this.modules = _app_shared_quill_config__WEBPACK_IMPORTED_MODULE_6__["QuillConfig"].DEFAULT_MODULE;
        this.route.params.subscribe(function (params) {
            _this.campaignId = params.campaignId;
        });
    }
    CampaignDetailComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.createForm();
        this.session.userItem.subscribe(function (u) {
            _this.user = u;
            _this.service.getCampaign(_this.user.sessionUser.sessionClient, _this.campaignId)
                .subscribe(function (campaign) {
                _this._campaign = campaign;
                _this.campaign.next(campaign);
                _this.patchForm();
            });
        });
    };
    CampaignDetailComponent.prototype.quillContentChanged = function (event) {
        console.dir(event);
    };
    CampaignDetailComponent.prototype.editUtility = function (utility) {
        this.service.utility = utility;
        this.service.campaign = this._campaign;
        this.router.navigate(['/utilities', utility.utilityId]);
    };
    CampaignDetailComponent.prototype.addUtility = function () {
        this.service.campaign = this._campaign;
        this.router.navigate(['/add-utility']);
    };
    CampaignDetailComponent.prototype.isEven = function (value) {
        return value % 2 == 0;
    };
    CampaignDetailComponent.prototype.createForm = function () {
        this.form = this.fb.group({
            mdDetails: this.fb.control(''),
            mdOnboarding: this.fb.control(''),
            mdOther: this.fb.control(''),
            compensation: this.fb.control(''),
            utilities: this.fb.array([])
        });
    };
    CampaignDetailComponent.prototype.patchForm = function () {
        this.form.patchValue({
            mdDetails: this._campaign.mdDetails,
            mdOnboarding: this._campaign.mdOnboarding,
            mdOther: this._campaign.mdOther,
            compensation: this._campaign.compensation,
            utilities: this._campaign.utilities
        });
    };
    CampaignDetailComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-campaign-detail',
            template: __webpack_require__(/*! ./campaign-detail.component.html */ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.html"),
            styles: [__webpack_require__(/*! ./campaign-detail.component.scss */ "./src/app/campaigns/components/campaign-detail/campaign-detail.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_2__["CampaignService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormBuilder"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], CampaignDetailComponent);
    return CampaignDetailComponent;
}());



/***/ }),

/***/ "./src/app/campaigns/components/utility-detail/utility-detail.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/campaigns/components/utility-detail/utility-detail.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <h3 mat-card-title>Edit Utility</h3>\n            </mat-card>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-10 offset-md-1\">\n            <mat-card>\n                <mat-card-title>\n                    Please fill out all required fields.\n                </mat-card-title>\n                <mat-card-content>\n                    <div [formGroup]=\"form\" class=\"d-flex flex-column\">\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Utility\" formControlName=\"utilityName\" required />\n                            <mat-hint>Name of the utility how you'd like on the reporting.</mat-hint>\n                            <mat-error *ngIf=\"form.get('utilityName').hasError('required')\">\n                                Please enter a utility name.\n                            </mat-error>\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Agent Company\" formControlName=\"agentCompanyName\" required />\n                            <mat-hint>Name you'd like to show for agent company on reporting.</mat-hint>\n                            <mat-error *ngIf=\"form.get('agentCompanyName').hasError('required')\">\n                                Please enter a company name.\n                            </mat-error>\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Agent Company ID\" formControlName=\"agentCompanyId\" />\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Commodity\" formControlName=\"commodity\" />\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Meter Number\" formControlName=\"meterNumber\" />\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Classification\" formControlName=\"classification\" />\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Price\" formControlName=\"price\" />\n                            <mat-hint>Price of the utility per Unit of Measure (not compensation to agent).</mat-hint>\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Unit of Measure\" formControlName=\"unitOfMeasure\" />\n                        </mat-form-field>\n                        <mat-form-field>\n                            <input matInput type=\"text\" placeholder=\"Term\" formControlName=\"term\" />\n                        </mat-form-field>\n                        <mat-checkbox formControlName=\"isActive\">Active</mat-checkbox>\n                    </div>\n                </mat-card-content>\n                <mat-card-actions>\n                    <button type=\"button\" mat-button (click)=\"cancel()\">Cancel</button>\n                    <button type=\"button\" mat-button color=\"primary\" (click)=\"saveUtility()\">Save</button>\n                </mat-card-actions>\n            </mat-card>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/campaigns/components/utility-detail/utility-detail.component.scss":
/*!***********************************************************************************!*\
  !*** ./src/app/campaigns/components/utility-detail/utility-detail.component.scss ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhbXBhaWducy9jb21wb25lbnRzL3V0aWxpdHktZGV0YWlsL3V0aWxpdHktZGV0YWlsLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/campaigns/components/utility-detail/utility-detail.component.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/campaigns/components/utility-detail/utility-detail.component.ts ***!
  \*********************************************************************************/
/*! exports provided: UtilityDetailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilityDetailComponent", function() { return UtilityDetailComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");










var UtilityDetailComponent = /** @class */ (function () {
    function UtilityDetailComponent(route, router, location, fb, campaignService, session, msg) {
        this.route = route;
        this.router = router;
        this.location = location;
        this.fb = fb;
        this.campaignService = campaignService;
        this.session = session;
        this.msg = msg;
        this.form = this.createForm();
    }
    UtilityDetailComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.utility = this.campaignService.utility;
        this.campaign = this.campaignService.campaign;
        if (this.utility == null) {
            this.session.getUserItem().subscribe(function (user) {
                _this.user = user;
                _this.route.paramMap
                    .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["switchMap"])(function (params) {
                    var utilityId = params.get('utilityId');
                    if (utilityId == null) {
                        _this.isNew = true;
                        _this.campaign = _this.campaignService.campaign;
                        if (_this.campaign == null)
                            _this.router.navigate(['/campaigns']);
                        return Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["of"])(null);
                    }
                    return _this.campaignService.getUtility(_this.user.sessionUser.sessionClient, utilityId);
                }))
                    .subscribe(function (utility) {
                    if (utility == null)
                        return;
                    _this.utility = utility;
                    _this.campaign = utility.campaign;
                    _this.patchForm();
                });
            });
        }
        else {
            this.patchForm();
        }
    };
    UtilityDetailComponent.prototype.cancel = function () {
        this.campaignService.utility = null;
        this.campaignService.campaign = null;
        this.location.back();
    };
    UtilityDetailComponent.prototype.saveUtility = function () {
        var _this = this;
        if (this.form.invalid)
            return;
        this.campaignService.saveUtility(this.user.sessionUser.sessionClient, this.prepareModel())
            .subscribe(function (utility) {
            _this.utility = utility;
            _this.msg.addMessage('Saved successfully!', 'dismiss', 5000);
            if (_this.isNew)
                _this.router.navigate(['/campaigns', _this.utility.campaignId]);
            else
                _this.patchForm();
        });
    };
    UtilityDetailComponent.prototype.createForm = function () {
        return this.fb.group({
            utilityId: this.fb.control(''),
            campaignId: this.fb.control(''),
            commodity: this.fb.control(''),
            agentCompanyId: this.fb.control(''),
            agentCompanyName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            utilityName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            meterNumber: this.fb.control(''),
            classification: this.fb.control(''),
            price: this.fb.control(''),
            unitOfMeasure: this.fb.control(''),
            term: this.fb.control(''),
            isActive: this.fb.control(true)
        });
    };
    UtilityDetailComponent.prototype.patchForm = function () {
        this.form.patchValue({
            utilityId: this.utility.utilityId || null,
            campaignId: this.utility.campaignId || this.campaign.campaignId || null,
            commodity: this.utility.commodity || '',
            agentCompanyId: this.utility.agentCompanyId || '',
            agentCompanyName: this.utility.agentCompanyName || '',
            utilityName: this.utility.utilityName || '',
            meterNumber: this.utility.meterNumber || '',
            classification: this.utility.classification || '',
            price: this.utility.price || '',
            unitOfMeasure: this.utility.unitOfMeasure || '',
            term: this.utility.term || '',
            isActive: this.utility.isActive
        });
    };
    UtilityDetailComponent.prototype.prepareModel = function () {
        return {
            utilityId: this.form.value.utilityId,
            campaignId: this.form.value.campaignId || this.campaign.campaignId,
            agentCompanyId: this.form.value.agentCompanyId,
            agentCompanyName: this.form.value.agentCompanyName,
            classification: this.form.value.classification,
            commodity: this.form.value.commodity,
            meterNumber: this.form.value.meterNumber,
            price: this.form.value.price,
            term: this.form.value.term,
            unitOfMeasure: this.form.value.unitOfMeasure,
            utilityName: this.form.value.utilityName
        };
    };
    UtilityDetailComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-utility-detail',
            template: __webpack_require__(/*! ./utility-detail.component.html */ "./src/app/campaigns/components/utility-detail/utility-detail.component.html"),
            styles: [__webpack_require__(/*! ./utility-detail.component.scss */ "./src/app/campaigns/components/utility-detail/utility-detail.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_3__["CampaignService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_9__["MessageService"]])
    ], UtilityDetailComponent);
    return UtilityDetailComponent;
}());



/***/ }),

/***/ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"modal-header\">\n    <h3 class=\"modal-title\">Add a Campaign</h3>\n    <button type=\"button\" mat-icon-button (click)=\"onNoClick()\" tabindex=\"-1\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<div class=\"modal-body\">\n    <form [formGroup]=\"form\" (ngSubmit)=\"saveCampaign()\">\n        <div class=\"row\">\n            <div class=\"col-md-5\">\n                <mat-form-field>\n                    <input type=\"text\" matInput placeholder=\"Name\" formControlName=\"name\" />\n                    <mat-error *ngIf=\"form.get('name').hasError('required')\">\n                        Please enter a name.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-7 d-flex align-items-center\">\n                <mat-checkbox hidden formControlName=\"active\">Active</mat-checkbox>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <mat-form-field>\n                    <span matPrefix>$ &nbsp;</span>\n                    <input matInput type=\"text\" placeholder=\"Compensation\" formControlName=\"compensation\" />\n                    <mat-error *ngIf=\"form.get('compensation').hasError('pattern')\">\n                        Please enter numbers only.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        \n        <div class=\"row mb-4\">\n            <div class=\"col-md-12\">\n                <mat-accordion>\n                    <mat-expansion-panel expanded=\"true\">\n                        <mat-expansion-panel-header>\n                            <mat-panel-title>\n                                Detail and Info\n                            </mat-panel-title>\n                        </mat-expansion-panel-header>\n\n                        <p class=\"font-italic text-muted\">\n                            This is some brief information that describes the campaign and gives pertinent information to employees.\n                        </p>\n                        <quill-editor \n                            [style]=\"{height: '200px'}\" \n                            formControlName=\"mdDetails\" \n                            (onContentChanged)=\"quillContentChanged($event)\"\n                            [modules]=\"modules\"\n                        ></quill-editor>\n                    </mat-expansion-panel>\n\n                    <mat-expansion-panel>\n                        <mat-expansion-panel-header>\n                            <mat-panel-title>\n                                How we get started\n                            </mat-panel-title>\n                        </mat-expansion-panel-header>\n\n                        <p class=\"font-italic text-muted\">\n                            Onboarding. No problem. Let's tell the employees how to get it done. \n                        </p>\n                        <quill-editor \n                            [style]=\"{height: '200px'}\" \n                            formControlName=\"mdOnboarding\" \n                            (onContentChanged)=\"quillContentChanged($event)\"\n                            [modules]=\"modules\"\n                        ></quill-editor>\n                    </mat-expansion-panel>\n\n                    <mat-expansion-panel>\n                        <mat-expansion-panel-header>\n                            <mat-panel-title>\n                                Additional Info\n                            </mat-panel-title>\n                        </mat-expansion-panel-header>\n\n                        <p class=\"font-italic text-muted\">\n                            Is there additional information you need to share about this campaign? (Restrictions, permit necessities, etc)\n                        </p>\n                        <quill-editor \n                            [style]=\"{height: '200px'}\" \n                            formControlName=\"mdOther\" \n                            (onContentChanged)=\"quillContentChanged($event)\"\n                            [modules]=\"modules\"\n                        ></quill-editor>\n                    </mat-expansion-panel>\n                </mat-accordion>\n            </div>\n        </div>\n    </form>\n    <div class=\"float-right\">\n        <button mat-button type=\"button\" (click)=\"cancel()\">Cancel</button>\n        <button mat-button color=\"primary\" (click)=\"saveCampaign()\">Save</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .mat-dialog-container {\n  padding-top: 0.75rem !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvY2FtcGFpZ25zL25ldy1jYW1wYWlnbi1kaWFsb2cvbmV3LWNhbXBhaWduLWRpYWxvZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGdDQUErQixFQUNsQyIsImZpbGUiOiJzcmMvYXBwL2NhbXBhaWducy9uZXctY2FtcGFpZ24tZGlhbG9nL25ldy1jYW1wYWlnbi1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbjpob3N0IC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZy10b3A6IDAuNzVyZW0gIWltcG9ydGFudDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts ***!
  \********************************************************************************/
/*! exports provided: NewCampaignDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewCampaignDialogComponent", function() { return NewCampaignDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-quill */ "./node_modules/ngx-quill/fesm5/ngx-quill.js");








var NewCampaignDialogComponent = /** @class */ (function () {
    function NewCampaignDialogComponent(diagRef, data, fb, service, session, msg) {
        this.diagRef = diagRef;
        this.data = data;
        this.fb = fb;
        this.service = service;
        this.session = session;
        this.msg = msg;
        // set to true if an existing campaign has been opened
        this.hasExistingCampaign = false;
        this.modules = {
            toolbar: [
                ['bold', 'italic', 'underline', 'strike'],
                [{ 'font': [] }],
                [{ 'color': [], 'background': [] }],
                [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                [{ 'align': [] }],
                ['blockquote'],
                [{ 'indent': '-1' }, { 'indent': '+1' }],
                ['link', 'image'] // media
            ]
        };
        this.hasExistingCampaign = this.data.campaign != null;
        if (!this.hasExistingCampaign) {
            this.createForm();
            this.campaign = this.createEmptyCampaign();
        }
        else {
            this.campaign = data.campaign;
            this.createForm(this.campaign);
        }
        this.user = this.data.user;
    }
    NewCampaignDialogComponent.prototype.ngOnInit = function () {
        this.session.loadTokenStorageItem();
    };
    NewCampaignDialogComponent.prototype.onNoClick = function () {
        this.diagRef.close();
    };
    /**
     * Save a new/existing campaign entity to the database.
     *
     */
    NewCampaignDialogComponent.prototype.saveCampaign = function () {
        var _this = this;
        // If this dialog had an existing campaign passed to it when it opened
        // we are going to skip checking if one exists, so that we don't get an error
        // telling us we can't update.
        if (this.hasExistingCampaign) {
            this.campaign = this.prepareCampaign();
            this.service
                .saveCampaign(this.user.sessionUser.sessionClient, this.campaign.campaignId, this.campaign)
                .then(function (updated) {
                _this.diagRef.close(updated);
            })
                .catch(this.msg.showWebApiError);
        }
        else {
            this.service
                .checkCampaignNameAvailability(1, this.form.controls.name.value)
                .then(function (exists) {
                if (exists) {
                    _this.msg.addMessage('Name already exists.', 'dismiss', 6000);
                    return;
                }
                _this.campaign = _this.prepareCampaign();
                // FINISH THE METHOD HERE TO SAVE THE NEW CAMPAIGN
                _this.service
                    .saveCampaign(_this.user.sessionUser.sessionClient, null, _this.campaign)
                    .then(function (campaign) {
                    _this.diagRef.close(campaign);
                })
                    .catch(_this.msg.showWebApiError);
            })
                .catch(this.msg.showWebApiError);
        }
    };
    NewCampaignDialogComponent.prototype.cancel = function () {
        this.diagRef.close(null);
    };
    NewCampaignDialogComponent.prototype.quillContentChanged = function (event) {
        // console.dir(this.form.value);
    };
    // PRIVATE METHODS
    NewCampaignDialogComponent.prototype.prepareCampaign = function () {
        var form = this.form.value;
        return {
            campaignId: this.campaign.campaignId || null,
            clientId: this.user.sessionUser.sessionClient,
            name: form.name,
            active: form.active,
            compensation: form.compensation,
            mdDetails: form.mdDetails,
            mdOnboarding: form.mdOnboarding,
            mdOther: form.mdOther
        };
    };
    NewCampaignDialogComponent.prototype.createForm = function (campaign) {
        if (campaign === void 0) { campaign = null; }
        this.form = this.fb.group({
            name: this.fb.control(campaign == null ? '' : campaign.name, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            active: this.fb.control(campaign == null ? true : campaign.active),
            compensation: this.fb.control(campaign == null ? '' : campaign.compensation || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern(/(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$/)]),
            mdDetails: this.fb.control(campaign == null ? '' : campaign.mdDetails || ''),
            mdOnboarding: this.fb.control(campaign == null ? '' : campaign.mdOnboarding || ''),
            mdOther: this.fb.control(campaign == null ? '' : campaign.mdOther || '')
        });
    };
    NewCampaignDialogComponent.prototype.createEmptyCampaign = function () {
        return {
            campaignId: null,
            clientId: null,
            name: null,
            active: true,
            compensation: null,
            mdDetails: null,
            mdOnboarding: null,
            mdOther: null
        };
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('editor'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", ngx_quill__WEBPACK_IMPORTED_MODULE_7__["QuillEditorComponent"]
        // set to true if an existing campaign has been opened
        )
    ], NewCampaignDialogComponent.prototype, "editor", void 0);
    NewCampaignDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-new-campaign-dialog',
            template: __webpack_require__(/*! ./new-campaign-dialog.component.html */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.html"),
            styles: [__webpack_require__(/*! ./new-campaign-dialog.component.scss */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_4__["CampaignService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_6__["MessageService"]])
    ], NewCampaignDialogComponent);
    return NewCampaignDialogComponent;
}());



/***/ }),

/***/ "./src/app/client-information/client-information.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/client-information/client-information.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<div>\n  <mat-card class=\"page-header-accent\">\n    <form #f=\"ngForm\" (ngSubmit)=\"save(f)\">\n      <mat-card-header class=\"justify-content-between\">\n        <mat-card-title>\n          <h3>Organization Details</h3>\n        </mat-card-title>\n        <mat-slide-toggle\n          [ngClass]=\"{'float-right': true, 'text-muted': !editMode, 'text-light': editMode}\"\n          [checked]=\"editMode\"\n          (change)=\"changeEditMode(f)\"\n          [disabled]=\"f.touched\"\n          color=\"primary\"\n        ></mat-slide-toggle>\n      </mat-card-header>\n      <mat-card-content class=\"flex-column\">\n        <mat-form-field>\n          <mat-label>Company Name</mat-label>\n          <input type=\"text\" name=\"firstName\" [(ngModel)]=\"client.name\" matInput [disabled]=\"!editMode\" />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Street Address</mat-label>\n          <input type=\"text\" matInput [value]=\"client.street\" [disabled]=\"!editMode\" />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>City</mat-label>\n          <input type=\"text\" matInput [value]=\"client.city\" [disabled]=\"!editMode\" />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>State</mat-label>\n          <mat-select placeholder=\"State\" [disabled]=\"!editMode\" (change)=\"onStateChange($event)\" [(value)]=\"client.state\">\n            <mat-option *ngFor=\"let state of states\" [value]=\"state\">\n              {{state}}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </mat-card-content>\n      <mat-card-actions class=\"d-flex justify-content-between mb-0\">\n        <button mat-button type=\"button\" *ngIf=\"editMode\" (click)=\"cancel(f)\">Cancel</button>\n        <button mat-raised-button type=\"submit\" color=\"primary\" *ngIf=\"editMode\">Save</button>\n      </mat-card-actions>\n    </form>\n  </mat-card>\n  <!-- <mat-card>\n    <mat-card-header class=\"justify-content-between\">\n      <mat-card-title>\n        <h4>Settings</h4>\n      </mat-card-title>\n      <mat-slide-toggle\n        [ngClass]=\"{'float-right': true, 'text-muted': !editOptions, 'text-light': editOptions}\"\n        [checked]=\"editOptions\"\n        (change)=\"changeOptionsMode()\"\n        color=\"primary\"\n      ></mat-slide-toggle>\n    </mat-card-header>\n    <mat-card-content>\n      <mat-checkbox\n        [(ngModel)]=\"client.options.hasOnboarding\"\n        matTooltip=\"Enables the onboarding feature on the user's profile.\"\n        [matTooltipPosition]=\"tooltipPosition\"\n        [disabled]=\"!editOptions\"\n      >Onboarding</mat-checkbox>\n    </mat-card-content>\n    <mat-card-actions class=\"d-flex justify-content-end mx-1 mb-0\">\n      <button\n        mat-raised-button\n        type=\"button\"\n        color=\"primary\"\n        *ngIf=\"editOptions\"\n        (click)=\"saveOptions()\"\n      >Save</button>\n    </mat-card-actions>\n  </mat-card> -->\n  <mat-card class=\"mat-elevation-z8\">\n    <mat-card-header>\n      <mat-card-title>\n        <h4>Sale Status Configuration</h4>\n      </mat-card-title>\n      <mat-card-subtitle>\n        The following is your organization's sale statuses. These should be updated to be used on your invoices based on the campaigns\n        you work with.\n      </mat-card-subtitle>\n    </mat-card-header>\n\n    <mat-card-content class=\"status-table\">\n      <button type=\"button\" mat-raised-button (click)=\"showAddSaleStatusDialog()\" color=\"primary\" class=\"ml-4 mr-2\">\n        <mat-icon>add</mat-icon> Add\n      </button>\n      <mat-checkbox [(ngModel)]=\"showAllStatuses\" (change)=\"filterStatuses()\" [disabled]=\"!hasInactiveStatuses\" class=\"mx-2 mt-1\">Show All</mat-checkbox>\n      <table mat-table [dataSource]=\"saleStatuses$\">\n        <tr mat-header-row *matHeaderRowDef=\"displayColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayColumns\"></tr>\n\n        <ng-container matColumnDef=\"name\">\n          <th mat-header-cell *matHeaderCellDef>Name</th>\n          <td mat-cell *matCellDef=\"let item\">\n            {{item.name}}\n          </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"isActive\">\n          <th mat-header-cell *matHeaderCellDef>Active</th>\n          <td mat-cell *matCellDef=\"let item\">\n            <mat-checkbox [(ngModel)]=\"item.isActive\" (change)=\"updateActiveStatus(item)\">Active</mat-checkbox>\n          </td>\n        </ng-container>\n\n      </table>\n    </mat-card-content>\n  </mat-card>\n</div>\n"

/***/ }),

/***/ "./src/app/client-information/client-information.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/client-information/client-information.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "mat-form-field {\n  display: block; }\n\nmat-card {\n  margin: 1rem 0 1rem 0; }\n\n:host ::ng-deep .mat-slide-toggle-thumb {\n  text-align: center;\n  vertical-align: middle; }\n\n:host ::ng-deep .mat-slide-toggle-thumb::before {\n    font-size: .8rem;\n    font-family: \"Material Icons\";\n    content: \"\\e3c9\"; }\n\n.status-table table {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvY2xpZW50LWluZm9ybWF0aW9uL2NsaWVudC1pbmZvcm1hdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGVBQWMsRUFDZjs7QUFFRDtFQUNFLHNCQUFxQixFQUN0Qjs7QUFHRDtFQUNFLG1CQUFrQjtFQUNsQix1QkFBc0IsRUFPdkI7O0FBVEQ7SUFLSSxpQkFBZ0I7SUFDaEIsOEJBQTZCO0lBQzdCLGlCQUFnQixFQUNqQjs7QUFHSDtFQUdJLFlBQVcsRUFDWiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudC1pbmZvcm1hdGlvbi9jbGllbnQtaW5mb3JtYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbm1hdC1mb3JtLWZpZWxkIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbm1hdC1jYXJkIHtcbiAgbWFyZ2luOiAxcmVtIDAgMXJlbSAwO1xufVxuXG4vLyBUYXJnZXRzIGVkaXQgdG9nZ2xlIG9uIHRoZSBwYWdlIHRvIGFwcGx5IG1hdGVyaWFsIGljb24gZWRpdCBwZW5jaWxcbjpob3N0IDo6bmctZGVlcCAubWF0LXNsaWRlLXRvZ2dsZS10aHVtYiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcblxuICAmOjpiZWZvcmUge1xuICAgIGZvbnQtc2l6ZTogLjhyZW07XG4gICAgZm9udC1mYW1pbHk6IFwiTWF0ZXJpYWwgSWNvbnNcIjtcbiAgICBjb250ZW50OiBcIlxcZTNjOVwiO1xuICB9XG59XG5cbi5zdGF0dXMtdGFibGUge1xuXG4gIHRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuIl19 */"

/***/ }),

/***/ "./src/app/client-information/client-information.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/client-information/client-information.component.ts ***!
  \********************************************************************/
/*! exports provided: ClientInformationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientInformationComponent", function() { return ClientInformationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _client_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/client-information/dialogs/add-sale-status.component */ "./src/app/client-information/dialogs/add-sale-status.component.ts");











var ClientInformationComponent = /** @class */ (function () {
    function ClientInformationComponent(msg, clientService, userService, session, fb, dailog) {
        this.msg = msg;
        this.clientService = clientService;
        this.userService = userService;
        this.session = session;
        this.fb = fb;
        this.dailog = dailog;
        this.displayColumns = ['name', 'isActive'];
        this.saleStatuses$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]([]);
        this.tooltipPosition = 'after';
        this.states = ['AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY'];
        this.client = this.setEmptyClient();
    }
    ClientInformationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.loadTokenStorageItem();
        this.userService.user.subscribe(function (next) {
            if (next == null)
                return;
            _this.user = next;
            _this.client = _this.user.sessionUser.client;
            _this.clients = _this.user.clients;
            _this.clientService.getSaleStatuses(_this.client.clientId)
                .subscribe(function (statuses) {
                _this.allStatuses = statuses;
                _this.evaluateShowAllStatus();
                var activeStatuses = lodash__WEBPACK_IMPORTED_MODULE_6__["filter"](statuses, function (s) { return s.isActive; });
                _this.saleStatuses$.next(activeStatuses);
                _this.createSaleStatusForm();
                var defaults = [];
                lodash__WEBPACK_IMPORTED_MODULE_6__["forEach"](statuses, function (s) {
                    if (s.clientId > 0)
                        return;
                    defaults.push(s);
                });
                if (defaults.length > 0) {
                    _this.clientService.setDefaultStatuses(_this.client.clientId, defaults)
                        .subscribe(function (results) {
                        _this.saleStatuses$.next(results);
                    });
                }
            });
        });
    };
    ClientInformationComponent.prototype.filterStatuses = function () {
        var filteredStatusList = this.showAllStatuses
            ? this.allStatuses
            : lodash__WEBPACK_IMPORTED_MODULE_6__["filter"](this.allStatuses, function (s) { return s.isActive; });
        this.saleStatuses$.next(filteredStatusList);
    };
    ClientInformationComponent.prototype.save = function (f) {
        if (f.valid) {
            if (this.client.clientId > 0) {
                this.clientService.updateClient(this.client);
                this.editMode = !this.editMode;
                if (this.client.clientId > 0)
                    f.reset();
            }
        }
    };
    ClientInformationComponent.prototype.cancel = function (f) {
        this.client = this.user.sessionUser.client;
        this.editMode = !this.editMode;
        f.reset();
    };
    ClientInformationComponent.prototype.changeEditMode = function (f) {
        if (!f.dirty) {
            this.editMode = !this.editMode;
        }
        else {
            f.reset();
        }
    };
    ClientInformationComponent.prototype.onStateChange = function ($evt) {
        this.client.state = $evt.value;
    };
    ClientInformationComponent.prototype.changeOptionsMode = function () {
        this.editOptions = !this.editOptions;
    };
    ClientInformationComponent.prototype.saveOptions = function () {
        this.clientService.updateClientOptions(this.user.sessionUser.client.options);
    };
    ClientInformationComponent.prototype.updateActiveStatus = function (saleStatus) {
        var _this = this;
        this.clientService.updateSaleStatus(saleStatus.clientId, saleStatus)
            .subscribe(function (item) {
            _this.msg.addMessage('Successfully updated!', 'dismiss', 2500);
            _this.allStatuses.map(function (s) {
                if (s.saleStatusId != item.saleStatusId)
                    return s;
                s = item;
                return s;
            });
            _this.evaluateShowAllStatus();
        });
    };
    ClientInformationComponent.prototype.showAddSaleStatusDialog = function () {
        var _this = this;
        var ref = this.dailog.open(_app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_10__["AddSaleStatusDialog"], {
            width: '400px'
        });
        ref.afterClosed().subscribe(function (result) {
            if (result == null)
                return;
            var dto = {
                saleStatusId: null,
                name: result.name,
                isActive: result.isActive,
                clientId: _this.client.clientId
            };
            _this.clientService.createSaleStatus(_this.client.clientId, dto)
                .subscribe(function (result) {
                _this.msg.addMessage('Successfully saved status.', 'dismiss', 3000);
                _this.allStatuses.push(result);
                _this.allStatuses = lodash__WEBPACK_IMPORTED_MODULE_6__["sortBy"](_this.allStatuses, ['name']);
                _this.evaluateShowAllStatus();
            });
        });
    };
    ClientInformationComponent.prototype.evaluateShowAllStatus = function () {
        this.hasInactiveStatuses = lodash__WEBPACK_IMPORTED_MODULE_6__["find"](this.allStatuses, function (s) { return !s.isActive; }) != null;
        this.showAllStatuses = this.hasInactiveStatuses
            ? this.showAllStatuses
            : false;
    };
    ClientInformationComponent.prototype.setEmptyClient = function () {
        return {
            clientId: 0,
            active: false,
            city: null,
            name: null,
            options: {
                clientId: 0,
                hasOnboarding: false,
                optionsId: 0
            },
            phone: null,
            state: null,
            street: null,
            taxid: null,
            zip: null
        };
    };
    ClientInformationComponent.prototype.createSaleStatusForm = function () {
        var _this = this;
        var statuses = this.saleStatuses$.getValue();
        var formArray = [];
        if (statuses.length > 0) {
            statuses.forEach(function (s) {
                formArray.push(_this.createSaleFormGroup(s));
            });
            formArray.push(this.createSaleFormGroup());
        }
        else {
            formArray.push(this.createSaleFormGroup());
        }
        return this.fb.group({
            statuses: formArray
        });
    };
    ClientInformationComponent.prototype.createSaleFormGroup = function (status) {
        if (status === void 0) { status = null; }
        status = status == null
            ? { saleStatusId: null, name: null, isActive: false, clientId: null }
            : status;
        return this.fb.group({
            name: this.fb.control(status.name || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            isActive: this.fb.control(status.isActive)
        });
    };
    ClientInformationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-client-information',
            template: __webpack_require__(/*! ./client-information.component.html */ "./src/app/client-information/client-information.component.html"),
            styles: [__webpack_require__(/*! ./client-information.component.scss */ "./src/app/client-information/client-information.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_message_service__WEBPACK_IMPORTED_MODULE_3__["MessageService"],
            _client_service__WEBPACK_IMPORTED_MODULE_4__["ClientService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_9__["MatDialog"]])
    ], ClientInformationComponent);
    return ClientInformationComponent;
}());



/***/ }),

/***/ "./src/app/client-information/client.service.ts":
/*!******************************************************!*\
  !*** ./src/app/client-information/client.service.ts ***!
  \******************************************************/
/*! exports provided: ClientService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientService", function() { return ClientService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");









var ClientService = /** @class */ (function () {
    function ClientService(http, router, auth, userService, msg, session) {
        var _this = this;
        this.http = http;
        this.router = router;
        this.auth = auth;
        this.userService = userService;
        this.msg = msg;
        this.session = session;
        this.dataStore = {
            client: {},
            options: {},
            campaigns: []
        };
        this.url = this.auth.apiUrl;
        this.client$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](null);
        this.options$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](null);
        this.campaigns$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](null);
        this.client = this.client$.asObservable();
        this.options = this.options$.asObservable();
        this.campaigns = this.campaigns$.asObservable();
        this.userService.user.subscribe(function (next) {
            if (next == null)
                return;
            _this.user = next;
            // store client
            _this.dataStore.client = next.sessionUser.client;
            _this.client$.next(_this.dataStore.client);
            // store client options
            _this.dataStore.options = next.sessionUser.client.options;
            _this.options$.next(_this.dataStore.options);
            // this.loadCampaigns();
        });
    }
    ClientService.prototype.updateClient = function (client) {
        var _this = this;
        this.http.post(this.url + 'api/clients/' + client.clientId, client)
            .subscribe(function (data) {
            _this.dataStore.client = data;
            _this.client$.next(Object.assign({}, _this.dataStore.client));
        }, function (err) { return console.dir(err); });
    };
    ClientService.prototype.loadClientOptions = function () {
        var _this = this;
        this.http.get(this.url + 'api/clients/' + this.user.sessionUser.sessionClient)
            .subscribe(function (options) {
            _this.dataStore.options = options;
            _this.options$.next(_this.dataStore.options);
        }, function (err) { return console.dir(err); });
    };
    ClientService.prototype.updateClientOptions = function (options) {
        var _this = this;
        this.http.post(this.url + 'api/clients/' + options.clientId + '/client-options', options)
            .subscribe(function (next) {
            _this.dataStore.options = next;
            _this.dataStore.client.options = _this.dataStore.options;
            _this.options$.next(_this.dataStore.options);
            _this.client$.next(_this.dataStore.client);
            _this.user.sessionUser.client = _this.dataStore.client;
            _this.userService.cacheUser(_this.user);
        }, function (err) { return console.dir(err); });
    };
    ClientService.prototype.loadCampaigns = function () {
        var _this = this;
        this.http.get(this.url + 'api/clients/' + this.user.sessionUser.sessionClient + '/campaigns')
            .subscribe(function (next) {
            _this.dataStore.campaigns = next;
            _this.campaigns$.next(_this.dataStore.campaigns);
        });
    };
    ClientService.prototype.getSaleStatuses = function (clientId) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses";
        return this.http.get(url);
    };
    ClientService.prototype.updateSaleStatus = function (clientId, dto) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses/" + dto.saleStatusId;
        return this.http.post(url, dto);
    };
    ClientService.prototype.setDefaultStatuses = function (clientId, dtoList) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses/all";
        return this.http.post(url, dtoList);
    };
    ClientService.prototype.createSaleStatus = function (clientId, dto) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses";
        return this.http.post(url, dto);
    };
    ClientService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__["UserService"],
            _message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"]])
    ], ClientService);
    return ClientService;
}());



/***/ }),

/***/ "./src/app/client-information/dialogs/add-sale-status.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/client-information/dialogs/add-sale-status.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-header\">\n    <h3 class=\"modal-title\">Add Sale Status</h3>\n    <span class=\"clickable float-right\">\n        <i class=\"material-icons\" (click)=\"onNoClick()\">clear</i>\n    </span>\n</div>\n<div class=\"modal-body\">\n    <form [formGroup]=\"form\">\n        <mat-form-field class=\"wp-100\" [hideRequiredMarker]=\"true\">\n        <input matInput placeholder=\"Status Description\" formControlName=\"name\" required />\n        </mat-form-field>\n    </form>\n    <div class=\"float-right\">\n        <button mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button mat-raised-button [mat-dialog-close]=\"form.value\" color=\"primary\" [disabled]=\"form.invalid || form.pristine\">Save</button>\n    </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/client-information/dialogs/add-sale-status.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/client-information/dialogs/add-sale-status.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudC1pbmZvcm1hdGlvbi9kaWFsb2dzL2FkZC1zYWxlLXN0YXR1cy5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/client-information/dialogs/add-sale-status.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/client-information/dialogs/add-sale-status.component.ts ***!
  \*************************************************************************/
/*! exports provided: AddSaleStatusDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddSaleStatusDialog", function() { return AddSaleStatusDialog; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");





var AddSaleStatusDialog = /** @class */ (function () {
    function AddSaleStatusDialog(ref, data, fb, clientService) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.clientService = clientService;
    }
    AddSaleStatusDialog.prototype.ngOnInit = function () {
        this.createForm();
    };
    AddSaleStatusDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    AddSaleStatusDialog.prototype.createForm = function () {
        this.form = this.fb.group({
            name: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            isActive: this.fb.control(true)
        });
    };
    AddSaleStatusDialog.prototype.resetForm = function () {
        this.form.patchValue({
            name: null,
            isActive: true
        });
    };
    AddSaleStatusDialog = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'add-sale-status-dialog',
            template: __webpack_require__(/*! ./add-sale-status.component.html */ "./src/app/client-information/dialogs/add-sale-status.component.html"),
            styles: [__webpack_require__(/*! ./add-sale-status.component.scss */ "./src/app/client-information/dialogs/add-sale-status.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_4__["ClientService"]])
    ], AddSaleStatusDialog);
    return AddSaleStatusDialog;
}());



/***/ }),

/***/ "./src/app/client-selector/client-selector.component.css":
/*!***************************************************************!*\
  !*** ./src/app/client-selector/client-selector.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudC1zZWxlY3Rvci9jbGllbnQtc2VsZWN0b3IuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/client-selector/client-selector.component.html":
/*!****************************************************************!*\
  !*** ./src/app/client-selector/client-selector.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div>\n  <h2 mat-dialog-title>Current Client</h2>\n  <mat-dialog-content>\n    <mat-form-field class=\"w-100\">\n      <mat-select [(ngModel)]=\"user.sessionUser.sessionClient\">\n        <mat-option *ngFor=\"let c of data.clients\" [value]=\"c.clientId\">{{c.name}}</mat-option>\n      </mat-select>\n      <mat-error *ngIf=\"clientControl.hasError('required')\">Please choose a client.</mat-error>\n    </mat-form-field>\n  </mat-dialog-content>\n  <mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button mat-button (click)=\"cancel()\">Cancel</button>\n    <button mat-raised-button color=\"primary\" (click)=\"onClientChange()\">Change Client</button>\n  </mat-dialog-actions>\n</div>\n"

/***/ }),

/***/ "./src/app/client-selector/client-selector.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/client-selector/client-selector.component.ts ***!
  \**************************************************************/
/*! exports provided: ClientSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientSelectorComponent", function() { return ClientSelectorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");






var ClientSelectorComponent = /** @class */ (function () {
    function ClientSelectorComponent(dialogRef, data, auth, userService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.auth = auth;
        this.userService = userService;
        this.clientControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
        this.compareFn = this.compareByValue;
    }
    ClientSelectorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.user.subscribe(function (next) {
            _this.user = next;
        });
    };
    ClientSelectorComponent.prototype.cancel = function () {
        this.dialogRef.close();
    };
    ClientSelectorComponent.prototype.onClientChange = function () {
        this.userService.updateUser(this.user, null);
        this.cancel();
    };
    ClientSelectorComponent.prototype.compareByValue = function (f1, f2) {
        return f1 && f2 && f1.clientId === f2.clientId;
    };
    ClientSelectorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-client-selector',
            template: __webpack_require__(/*! ./client-selector.component.html */ "./src/app/client-selector/client-selector.component.html"),
            styles: [__webpack_require__(/*! ./client-selector.component.css */ "./src/app/client-selector/client-selector.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"], Object, _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"]])
    ], ClientSelectorComponent);
    return ClientSelectorComponent;
}());



/***/ }),

/***/ "./src/app/contact/contact.service.ts":
/*!********************************************!*\
  !*** ./src/app/contact/contact.service.ts ***!
  \********************************************/
/*! exports provided: ContactService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContactService", function() { return ContactService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);








var ContactService = /** @class */ (function () {
    function ContactService(http, session, auth, msg) {
        this.http = http;
        this.session = session;
        this.auth = auth;
        this.msg = msg;
        this.api = this.auth.apiUrl + "api";
    }
    /**
     * Get collection of contact entities by the current client.
     *
     * @param clientId
     */
    ContactService.prototype.getContactsByClient = function (clientId) {
        var _this = this;
        return this.http.get(this.api + "/clients/" + clientId + "/contacts")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (next) { return _this._contacts = next; }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    /**
     * Save a contact entity.
     *
     * @param clientId
     * @param contact
     */
    ContactService.prototype.saveContact = function (clientId, contact) {
        var url = contact.contactId != null && contact.contactId > 0
            ? this.api + "/clients/" + clientId + "/contacts/" + contact.contactId
            : this.api + "/clients/" + clientId + "/contacts";
        return this.http.post(url, contact)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    ContactService.prototype.handleError = function (resp, caught) {
        var keys = Object.keys(resp.error.errors);
        var errorMsg = 'Errors: ';
        keys.forEach(function (key) {
            var propErrors = resp.error.errors[key];
            if (!lodash__WEBPACK_IMPORTED_MODULE_7__["isArray"](propErrors))
                return; /** if this isn't an array, it means we don't have any errors and need to bail */
            propErrors.forEach(function (pe, i) {
                errorMsg += "(" + (i + 1) + ") " + pe;
            });
        });
        this.msg.addMessage(errorMsg);
        return caught;
    };
    ContactService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _app_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_6__["MessageService"]])
    ], ContactService);
    return ContactService;
}());



/***/ }),

/***/ "./src/app/core/agents/agents.service.ts":
/*!***********************************************!*\
  !*** ./src/app/core/agents/agents.service.ts ***!
  \***********************************************/
/*! exports provided: AgentsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentsService", function() { return AgentsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");






var AgentsService = /** @class */ (function () {
    function AgentsService(http) {
        this.http = http;
        this.api = environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiUrl + 'api/';
    }
    /**
     * Get all agents by active status.
     *
     * @param activeOnly
     */
    AgentsService.prototype.getAgents = function (activeOnly) {
        if (activeOnly === void 0) { activeOnly = true; }
        return this.http.get(this.api + 'agents/statuses/' + activeOnly)
            .toPromise()
            .then(function (agents) {
            return agents;
        })
            .catch(function (e) {
            console.dir(e);
            return null;
        });
    };
    /**
     * Return a list of agents by the client id.
     *
     * @param clientId
     */
    AgentsService.prototype.getAgentsByClient = function (clientId) {
        var url = this.api + "clients/" + clientId + "/agents";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    /**
     * updates an agent entity
     *
     * @param agent
     */
    AgentsService.prototype.updateAgent = function (agent) {
        return this.http.post(this.api + 'agents/' + agent.agentId, agent)
            .toPromise()
            .then(function (agent) {
            return agent;
        });
    };
    /**
     * Return an array of sales pairings entities by agent id.
     *
     * @param agentId
     * @param clientId
     */
    AgentsService.prototype.getAgentSalesPairings = function (agentId, clientId) {
        return this.http.get(this.api + 'clients/' + clientId + '/agents/' + agentId + '/sales-pairings')
            .toPromise()
            .then(function (salesPairings) {
            return salesPairings;
        });
    };
    /**
     * Save a list of agent sales pairings.
     *
     * @param pairings
     * @param agentId
     */
    AgentsService.prototype.saveAgentSalesPairings = function (pairings, agentId) {
        return this.http.post(this.api + 'agents/' + agentId + '/sales-pairings', { pairings: pairings })
            .toPromise()
            .then(function (pairings) {
            return pairings;
        });
    };
    AgentsService.prototype.deleteAgentSalesPairings = function (pairingId) {
        return this.http.delete(this.api + 'sales-pairings/' + pairingId)
            .toPromise()
            .then(function () { return; });
    };
    AgentsService.prototype.getRoleTypes = function (includeInactive) {
        if (includeInactive === void 0) { includeInactive = false; }
        return this.http.get(this.api + "role-types?inactive=" + includeInactive);
    };
    AgentsService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            // client side network error
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            // backend returned server error
            console.error("\n        Server returned error code " + error.status + ": " + error.error + "\n      ");
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["throwError"])('There was a network error. Please try again.');
    };
    AgentsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], AgentsService);
    return AgentsService;
}());



/***/ }),

/***/ "./src/app/core/agents/dialogs/add-agent.component.html":
/*!**************************************************************!*\
  !*** ./src/app/core/agents/dialogs/add-agent.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-horizontal-stepper  #addAgent>\n  <mat-step [stepControl]=\"userForm\">\n    <form [formGroup]=\"userForm\">\n      <ng-template matStepLabel>User Login Info</ng-template>\n\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"First Name\" formControlName=\"firstName\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Last Name\" formControlName=\"lastName\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Username\" formControlName=\"username\" required (blur)=\"checkUsernameAvailability()\" />\n        <mat-error *ngIf=\"userForm.get('username').hasError('unavailable')\">\n            Sorry, that username is unavailable. \n            <ng-container *ngIf=\"suggestedUsername.length && suggestedUsername != attemptedUsername\">\n                What about <strong>{{suggestedUsername}}</strong>?\n            </ng-container> \n        </mat-error>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Email\" formControlName=\"email\" required #emailInput />\n        <mat-error *ngIf=\"userForm.get('email').hasError('notUnique')\">\n            Users cannot share email addresses. This one has already been used. Please try again. \n        </mat-error>\n      </mat-form-field>\n      <mat-form-field class=\"clickable\" (click)=\"copyPasswordText(userForm.value.password)\">\n        <input matInput\n          class=\"clickable\"\n          type=\"text\"\n          placeholder=\"Random Password\"\n          formControlName=\"password\"\n          readonly\n        />\n        <mat-icon matSuffix>filter_none</mat-icon>\n        <mat-hint align=\"start\">\n          Click to Copy\n        </mat-hint>\n      </mat-form-field>\n      <div class=\"d-flex justify-content-end pt-4\">\n        <button mat-button matStepperNext>Next</button>\n      </div>\n    </form>\n  </mat-step>\n  <mat-step [stepControl]=\"detailForm\">\n    <form [formGroup]=\"detailForm\">\n      <ng-template matStepLabel>Detail Info</ng-template>\n\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Street\" formControlName=\"street\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Street 2\" formControlName=\"street2\" />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"City\" formControlName=\"city\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <mat-select placeholder=\"State\" formControlName=\"state\" required>\n          <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">{{s.name}}</mat-option>\n        </mat-select>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Postal Code\" formControlName=\"zip\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          [matDatepicker]=\"birthDate\"\n          placeholder=\"Date of Birth\"\n          formControlName=\"birthDate\"\n          required\n        />\n        <mat-datepicker-toggle matSuffix [for]=\"birthDate\"></mat-datepicker-toggle>\n        <mat-datepicker #birthDate></mat-datepicker>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          type=\"text\"\n          placeholder=\"Phone No\"\n          (keypress)=\"phoneNoKeyPress($event)\"\n          formControlName=\"phone\"\n          required\n        />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Social Security Number\" formControlName=\"ssn\" />\n        <mat-hint align=\"start\" class=\"text-muted font-italic\">Optional</mat-hint>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          type=\"text\"\n          placeholder=\"Bank Routing\"\n          formControlName=\"bankRouting\"\n          (keyup)=\"validateVerifyRouting()\"\n        />\n        <mat-hint align=\"start\" class=\"text-muted font-italic\">Optional</mat-hint>\n      </mat-form-field>\n      <mat-form-field [hidden]=\"!(detailForm.value.bankRouting > 0)\">\n        <input matInput\n          type=\"text\"\n          placeholder=\"Verify Routing\"\n          formControlName=\"verifyRouting\"\n          [required]=\"detailForm.value.bankRouting > 0 && detailForm.get('bankRouting').valid\"\n          (keyup)=\"compareRouting()\"\n        />\n        <mat-error *ngIf=\"detailForm.get('verifyRouting').getError('notEqual')\">\n          Routing numbers must match.\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          type=\"text\"\n          placeholder=\"Bank Account\"\n          formControlName=\"bankAccount\"\n          [required]=\"detailForm.value.bankRouting > 0 && detailForm.get('bankRouting').valid\"\n          (keyup)=\"validateVerifyAccount()\"\n        />\n        <mat-hint\n          align=\"start\"\n          class=\"text-muted font-italic\"\n          [hidden]=\"detailForm.value.bankRouting > 0 && detailForm.get('bankRouting').valid\"\n        >Optional</mat-hint>\n      </mat-form-field>\n      <mat-form-field [hidden]=\"!(detailForm.value.bankAccount > 0)\">\n        <input matInput\n          type=\"text\"\n          placeholder=\"Verify Account\"\n          formControlName=\"verifyAccount\"\n          [required]=\"detailForm.value.bankAccount > 0 && detailForm.get('bankAccount').valid\"\n          (keyup)=\"compareAccounts()\"\n        />\n        <mat-error *ngIf=\"detailForm.get('verifyAccount').getError('notEqual')\">\n          Account numbers must match.\n        </mat-error>\n      </mat-form-field>\n      <div class=\"d-flex justify-content-between pt-4\">\n        <button mat-button matStepperPrevious>Previous</button>\n        <button mat-button matStepperNext (click)=\"test()\">Next</button>\n      </div>\n    </form>\n  </mat-step>\n  <mat-step [stepControl]=\"agentForm\">\n    <form [formGroup]=\"agentForm\">\n      <ng-template matStepLabel>Permissions</ng-template>\n\n      <mat-form-field class=\"pt-3\">\n          <mat-select placeholder=\"User Role\" [formControl]=\"roleType\" required>\n              <mat-option *ngFor=\"let type of roleTypes\" [value]=\"type.id\">\n                  {{type.type | titlecase}}\n              </mat-option>\n          </mat-select>\n          <mat-error *ngIf=\"roleType.hasError('required')\">\n              Please select a role for the new user.\n          </mat-error>\n      </mat-form-field>\n\n      <mat-form-field>\n        <mat-select placeholder=\"Manager\" formControlName=\"managerId\" required>\n          <mat-option *ngFor=\"let m of managers\" [value]=\"m.agentId\">\n            {{m.firstName}} {{m.lastName}}\n          </mat-option>\n        </mat-select>\n        <mat-hint>Who will the agent report to?</mat-hint>\n      </mat-form-field>\n\n      <mat-checkbox\n        formControlName=\"isManager\"\n        matTooltip=\"Is this agent a manager?\"\n      >Enable Manager Access</mat-checkbox>\n\n      <mat-divider></mat-divider>\n\n      <div class=\"text-muted font-sm font-italic mt-4\">\n        Sales ID(s) can be added by saving the new agent and then clicking <span class=\"font-weight-bold\">edit</span> on\n        their agent card after this dialog is closed.\n      </div>\n    </form>\n    <div class=\"d-flex justify-content-between pt-4\">\n      <button mat-button matStepperPrevious>Previous</button>\n      <button mat-button (click)=\"saveNewUserAgentEntity()\">Save</button>\n    </div>\n  </mat-step>\n</mat-horizontal-stepper>\n"

/***/ }),

/***/ "./src/app/core/agents/dialogs/add-agent.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/core/agents/dialogs/add-agent.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "form {\n  min-width: 200px;\n  max-width: 500px;\n  width: 100%; }\n\nmat-form-field {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvY29yZS9hZ2VudHMvZGlhbG9ncy9hZGQtYWdlbnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxpQkFBZ0I7RUFDaEIsaUJBQWdCO0VBQ2hCLFlBQVcsRUFDWjs7QUFFRDtFQUNFLFlBQVcsRUFDWiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvYWdlbnRzL2RpYWxvZ3MvYWRkLWFnZW50LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG5mb3JtIHtcbiAgbWluLXdpZHRoOiAyMDBweDtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbm1hdC1mb3JtLWZpZWxkIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/core/agents/dialogs/add-agent.component.ts":
/*!************************************************************!*\
  !*** ./src/app/core/agents/dialogs/add-agent.component.ts ***!
  \************************************************************/
/*! exports provided: AddAgentDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddAgentDialogComponent", function() { return AddAgentDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/core/agents/agents.service */ "./src/app/core/agents/agents.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");













var AddAgentDialogComponent = /** @class */ (function () {
    function AddAgentDialogComponent(ref, data, fb, msg, service, agentsService, userService, session) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.msg = msg;
        this.service = service;
        this.agentsService = agentsService;
        this.userService = userService;
        this.session = session;
        this.verifyAccount = null;
        this.usernameTaken = false;
        this.user = this.data.user;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_4__["States"].$get();
    }
    AddAgentDialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.agentsService.getRoleTypes(true)
            .subscribe(function (roleTypes) { return _this.roleTypes = roleTypes; });
        this.createUserForm();
        this.createDetailForm();
        this.createAgentForm();
        this.createRoleTypeForm();
        // DO SOME MORE STUFF
        this.agentsService
            .getAgents()
            .then(function (agents) {
            _this.managers = lodash__WEBPACK_IMPORTED_MODULE_7__["filter"](agents, function (a) {
                return a.isManager;
            });
        })
            .catch(this.msg.showWebApiError);
    };
    AddAgentDialogComponent.prototype.saveNewUserAgentEntity = function () {
        var _this = this;
        if (this.userForm.invalid || this.detailForm.invalid || this.agentForm.invalid)
            return;
        this.session.showLoader();
        this.userEntity = {
            firstName: this.userForm.value.firstName,
            lastName: this.userForm.value.lastName,
            username: this.userForm.value.username,
            email: this.userForm.value.email,
            password: this.userForm.value.password,
            active: true
        };
        this.detailEntity = {
            street: this.detailForm.value.street,
            street2: this.detailForm.value.street2,
            city: this.detailForm.value.city,
            state: this.detailForm.value.state,
            zip: this.detailForm.value.zip,
            ssn: this.detailForm.value.ssn,
            phone: this.detailForm.value.phone,
            birthDate: this.detailForm.value.birthDate,
            bankRouting: this.detailForm.value.bankRouting,
            bankAccount: this.detailForm.value.bankAccount
        };
        this.agentEntity = {
            firstName: this.userForm.value.firstName,
            lastName: this.userForm.value.lastName,
            managerId: this.agentForm.value.managerId,
            isManager: this.agentForm.value.isManager
        };
        var role = this.roleType.value;
        this.userService
            .saveNewUserAgentEntity(this.userEntity, this.agentEntity, this.detailEntity, this.user.sessionUser.sessionClient, role)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["catchError"])(function (resp, caught) {
            var keys = Object.keys(resp.error.errors);
            var errorDisplaymsg = 'Errors: ';
            keys.forEach(function (key) {
                var propErrors = resp.error.errors[key];
                if (!lodash__WEBPACK_IMPORTED_MODULE_7__["isArray"](propErrors))
                    return;
                propErrors.forEach(function (pe, i) {
                    errorDisplaymsg += "(" + (i + 1) + ") " + pe;
                });
                if (key == 'email')
                    _this.userForm.controls.email.setErrors({ notUnique: true });
            });
            _this.msg.addMessage(errorDisplaymsg, 'dismiss');
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_12__["of"])(false);
        }))
            .subscribe(function (result) {
            if (!result)
                return;
            _this.msg.addMessage('User added!', 'dismiss', 6000);
            _this.ref.close(result);
        });
    };
    AddAgentDialogComponent.prototype.close = function () {
        this.ref.close(this.data);
    };
    AddAgentDialogComponent.prototype.copyPasswordText = function (copy) {
        var selBox = document.createElement('textarea');
        selBox.style.position = 'fixed';
        selBox.style.left = '0';
        selBox.style.top = '0';
        selBox.style.opacity = '0';
        selBox.value = copy;
        document.body.appendChild(selBox);
        selBox.focus();
        selBox.select();
        document.execCommand('copy');
        document.body.removeChild(selBox);
        this.msg.addMessage('Password copied to your clipboard!', 'dismiss', 6000);
    };
    AddAgentDialogComponent.prototype.createUserForm = function () {
        var pw = this.makeUpperCaseRandomLetter(Math.random()
            .toString(36)
            .slice(-8));
        this.userForm = this.fb.group({
            firstName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            lastName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            username: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].maxLength(15)]),
            email: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].email]),
            password: this.fb.control(pw, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        });
    };
    AddAgentDialogComponent.prototype.makeUpperCaseRandomLetter = function (pw) {
        var kv = this.getRandomCharKeyValue(pw);
        if (!/^[a-zA-Z]+$/.test(kv.value))
            this.makeUpperCaseRandomLetter(pw);
        kv.value = kv.value.toUpperCase();
        return this.replaceAt(pw, +kv.key, kv.value);
    };
    AddAgentDialogComponent.prototype.getRandomCharKeyValue = function (pw) {
        var min = 0;
        var max = pw.length - 1;
        var key = Math.floor(Math.random() * (max - min + 1)) + min;
        return { key: key, value: pw.charAt(key) };
    };
    AddAgentDialogComponent.prototype.replaceAt = function (original, index, replacement) {
        return original.substr(0, index) + replacement + original.substr(index + replacement.length);
    };
    AddAgentDialogComponent.prototype.createDetailForm = function () {
        this.detailForm = this.fb.group({
            street: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            street2: this.fb.control('', []),
            city: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            state: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            zip: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].pattern(/^\d{5}?$/)]),
            ssn: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].pattern(/^\d{3}-?\d{2}-?\d{4}$/)]),
            phone: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].pattern(/^\d{10}?$/)]),
            birthDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            bankRouting: this.fb.control('', []),
            verifyRouting: this.fb.control('', []),
            bankAccount: this.fb.control('', []),
            verifyAccount: this.fb.control('', []),
            saleOneId: this.fb.control('', []),
            saleOneCampaignId: this.fb.control('', []),
            saleTwoId: this.fb.control('', []),
            saleTwoCampaignId: this.fb.control('', []),
            saleThreeId: this.fb.control('', []),
            saleThreeCampaignId: this.fb.control('', [])
        });
    };
    AddAgentDialogComponent.prototype.test = function () {
        // console.dir(this.detailForm);
    };
    AddAgentDialogComponent.prototype.validateVerifyAccount = function () {
        if (this.detailForm.value.bankAccount > 0 && this.detailForm.controls.bankAccount.valid)
            this.detailForm.controls.verifyAccount.setValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required);
    };
    AddAgentDialogComponent.prototype.validateVerifyRouting = function () {
        if (this.detailForm.value.bankRouting > 0 && this.detailForm.controls.bankRouting.valid)
            this.detailForm.controls.verifyRouting.setValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required);
    };
    AddAgentDialogComponent.prototype.compareAccounts = function () {
        if (this.detailForm.value.bankAccount === this.detailForm.value.verifyAccount)
            return;
        this.detailForm.controls.verifyAccount.setErrors({ notEqual: true });
    };
    AddAgentDialogComponent.prototype.compareRouting = function () {
        if (this.detailForm.value.bankRouting === this.detailForm.value.verifyRouting)
            return;
        this.detailForm.controls.verifyRouting.setErrors({ notEqual: true });
    };
    AddAgentDialogComponent.prototype.phoneNoKeyPress = function (event) {
        if (event.charCode !== 0) {
            var pattern = /[0-9\+\-\ ]/;
            var inputChar = String.fromCharCode(event.charCode);
            if (!pattern.test(inputChar)) {
                // invalid character, prevent input
                event.preventDefault();
            }
        }
    };
    AddAgentDialogComponent.prototype.checkUsernameAvailability = function () {
        var _this = this;
        var usernameInput = lodash__WEBPACK_IMPORTED_MODULE_7__["find"](this.inputs.toArray(), function (input) {
            return input.ngControl.name === 'username';
        });
        var username = usernameInput.value;
        this.attemptedUsername = username;
        if (username.length < 1)
            return;
        if (this.userForm.controls.username.errors != null && this.userForm.controls.username.errors.unavailable) {
            this.userForm.patchValue({ username: username });
        }
        else {
            this.service.checkUsernameAvailability(username)
                .subscribe(function (available) {
                _this.usernameTaken = !available;
                if (!available) {
                    _this.userForm.get('username').setErrors({ unavailable: true });
                    var lastSection = _this.userForm.value.firstName.substr(0, 2).toLowerCase();
                    _this.suggestedUsername = _this.userForm.value.lastName.substr(0, 5).toLowerCase() + lastSection;
                    usernameInput.focus();
                    usernameInput.value = _this.suggestedUsername;
                }
            });
        }
    };
    AddAgentDialogComponent.prototype.createAgentForm = function () {
        this.userEntity =
            this.userEntity == null
                ? {
                    firstName: null,
                    lastName: null
                }
                : this.userEntity;
        this.agentForm = this.fb.group({
            // firstName: this.fb.control(this.userEntity.firstName, [Validators.required]),
            // lastName: this.fb.control(this.userEntity.lastName, [Validators.required]),
            managerId: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            isManager: this.fb.control('', [])
        });
    };
    AddAgentDialogComponent.prototype.createRoleTypeForm = function () {
        this.roleType = this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]);
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInput"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["QueryList"])
    ], AddAgentDialogComponent.prototype, "inputs", void 0);
    AddAgentDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'add-agent-dialog',
            template: __webpack_require__(/*! ./add-agent.component.html */ "./src/app/core/agents/dialogs/add-agent.component.html"),
            styles: [__webpack_require__(/*! ./add-agent.component.scss */ "./src/app/core/agents/dialogs/add-agent.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"],
            _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_11__["AgentService"],
            _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_6__["AgentsService"],
            _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_8__["UserService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_9__["SessionService"]])
    ], AddAgentDialogComponent);
    return AddAgentDialogComponent;
}());



/***/ }),

/***/ "./src/app/core/core.module.ts":
/*!*************************************!*\
  !*** ./src/app/core/core.module.ts ***!
  \*************************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.guard */ "./src/app/auth.guard.ts");
/* harmony import */ var _token_interceptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../token.interceptor */ "./src/app/token.interceptor.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! angular2-moment */ "./node_modules/angular2-moment/index.js");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(angular2_moment__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _app_shared__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/shared */ "./src/app/shared/index.ts");
/* harmony import */ var _app_messages_messages_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/messages/messages.component */ "./src/app/messages/messages.component.ts");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/core/agents/dialogs/add-agent.component */ "./src/app/core/agents/dialogs/add-agent.component.ts");
/* harmony import */ var _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/client-information/dialogs/add-sale-status.component */ "./src/app/client-information/dialogs/add-sale-status.component.ts");
/* harmony import */ var _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/add-sale.component */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.component */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.ts");
/* harmony import */ var _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/delete-sale.component */ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");




















var CoreModule = /** @class */ (function () {
    /**
     * Make sure CoreModule is imported only by one NgModule - the AppModule
     */
    function CoreModule(parentModule) {
        if (parentModule) {
            throw new Error('CoreModule is already loaded. Import only in AppModule.');
        }
    }
    CoreModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_7__["BrowserAnimationsModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_9__["MaterialModule"],
                _app_shared__WEBPACK_IMPORTED_MODULE_11__["SharedModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_8__["ReactiveFormsModule"],
                angular2_moment__WEBPACK_IMPORTED_MODULE_10__["MomentModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_13__["FabFloatBtnModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_19__["RouterModule"]
            ],
            declarations: [
                _app_messages_messages_component__WEBPACK_IMPORTED_MODULE_12__["MessagesComponent"],
                _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_14__["AddAgentDialogComponent"],
                _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_15__["AddSaleStatusDialog"],
                _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_16__["AddSaleDialog"],
                _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_17__["DailySaleTrackerComponent"],
                _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_18__["DeleteSaleDialog"]
            ],
            providers: [
                _auth_guard__WEBPACK_IMPORTED_MODULE_4__["AuthGuard"],
                {
                    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HTTP_INTERCEPTORS"],
                    useClass: _token_interceptor__WEBPACK_IMPORTED_MODULE_5__["TokenInterceptor"],
                    multi: true
                }
            ],
            entryComponents: [
                _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_14__["AddAgentDialogComponent"],
                _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_15__["AddSaleStatusDialog"],
                _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_16__["AddSaleDialog"],
                _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_18__["DeleteSaleDialog"]
            ]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Optional"])()), tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["SkipSelf"])()),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [CoreModule])
    ], CoreModule);
    return CoreModule;
}());



/***/ }),

/***/ "./src/app/core/index.ts":
/*!*******************************!*\
  !*** ./src/app/core/index.ts ***!
  \*******************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.module */ "./src/app/core/core.module.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return _core_module__WEBPACK_IMPORTED_MODULE_0__["CoreModule"]; });




/***/ }),

/***/ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/daily-sale-tracker/components/new-sale/new-sale.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <h3 mat-card-title>\n                    Record a Sale\n                </h3>\n            </mat-card>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <mat-card>\n                <mat-card-header>\n                    <mat-card-subtitle>\n                        All fields denoted with * are required.\n                    </mat-card-subtitle>\n                </mat-card-header>\n                <mat-card-content>\n                    <form [formGroup]=\"form\" class=\"add-daily-sale-form\">\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <mat-select placeholder=\"Agent\" formControlName=\"agentId\" required>\n                                        <mat-option *ngFor=\"let a of agents|async\" [value]=\"a.agentId\">\n                                            {{a.firstName}} {{a.lastName}}\n                                        </mat-option>\n                                    </mat-select>\n                                    <mat-error *ngIf=\"form.get('agentId').hasError('required')\">\n                                        Please select an agent\n                                    </mat-error>\n                                </mat-form-field>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <mat-select placeholder=\"Campaign\" formControlName=\"campaignId\" required>\n                                        <mat-option *ngFor=\"let c of campaigns|async\" [value]=\"c.campaignId\">\n                                            {{c.name}}\n                                        </mat-option>\n                                    </mat-select>\n                                    <mat-error *ngIf=\"form.get('campaignId').hasError('required') && (form.get('campaignId').touched || formSubmitted)\">\n                                        Please select a campaign\n                                    </mat-error>\n                                </mat-form-field>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <ng-container *ngIf=\"form.get('campaignId').value > 0\">\n                                    <mat-form-field *ngIf=\"(utilities|async).length; else noUtilitiesMsg\" class=\"w-100\">\n                                        <mat-select placeholder=\"Utility\" formControlName=\"utilityId\" required>\n                                            <mat-option *ngFor=\"let u of utilities|async\" [value]=\"u.utilityId\">\n                                                {{u.utilityName}}\n                                            </mat-option>\n                                        </mat-select>\n                                        <mat-error *ngIf=\"form.get('utilityId').hasError('required') && (form.get('utilityId').touched || formSubmitted)\">\n                                            Please select a utility\n                                        </mat-error>\n                                    </mat-form-field>\n                                    <ng-template #noUtilitiesMsg>\n                                        <p *ngIf=\"user.role.role > 5; else empRoleType\">\n                                            Uh oh! It looks like you're missing utilities. This is required before you can save sales. Please\n                                            head over <a [routerLink]=\"['/campaigns', form.get('campaignId').value]\">here</a> to add your \n                                            first utility for this campaign now.\n                                        </p>\n                                        <ng-template #empRoleType>\n                                            <p>\n                                                It looks like your organization has not fully setup their campaigns. Please let your direct \n                                                supervisor know, so they can help you resolve this issue before you start completing sales \n                                                entries.\n                                            </p>\n                                        </ng-template>\n                                    </ng-template>\n                                </ng-container>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <input matInput [matDatepicker]=\"saleDatepicker\" placeholder=\"Sale Date\" formControlName=\"saleDate\" required />\n                                    <mat-datepicker-toggle matSuffix [for]=\"saleDatepicker\"></mat-datepicker-toggle>\n                                    <mat-datepicker #saleDatepicker></mat-datepicker>\n                                    <mat-error *ngIf=\"form.get('saleDate').hasError('required')\">\n                                        Please select a sale date\n                                    </mat-error>\n                                </mat-form-field>\n                            </div>\n                        </div>\n                        <div class=\"row\" *ngIf=\"!showNewContactFields && !showSetContactUI\">\n                            <div class=\"col-md-5\">\n                                <mat-form-field class=\"w-100\">\n                                    <input matInput \n                                        placeholder=\"Customer\" \n                                        formControlName=\"existingContact\" \n                                        [matAutocomplete]=\"autocontact\" \n                                        (keyup)=\"validateContactInput($event)\"\n                                        required \n                                    />\n                                    <mat-autocomplete #autocontact=\"matAutocomplete\" [displayWith]=\"displayFn\">\n                                        <mat-option *ngFor=\"let c of contacts|async\" [value]=\"c\">\n                                            <mat-icon inline=\"true\">person</mat-icon>\n                                            <span>{{c.firstName}} {{c.lastName}}</span> | \n                                            <small>{{c.street}} {{c.city}} {{c.state}}</small>\n                                        </mat-option>\n                                    </mat-autocomplete>\n                                    <mat-error *ngIf=\"form.get('existingContact').hasError('required')\">\n                                        Please select a contact or click the button to add a new one\n                                    </mat-error>\n                                    <mat-error *ngIf=\"form.get('existingContact').hasError('nonExistent')\">\n                                        Please select a contact from the search or create a new one\n                                    </mat-error>\n                                </mat-form-field>\n                                <ng-container *ngIf=\"showSetContactUI\">\n                                    <div class=\"w-100\">\n                                        <span class=\"font-weight-bold\">New Contact: </span>\n                                        <span>{{form.get('contact').get('firstName').value}} </span>\n                                        <span>{{form.get('contact').get('lastName').value}}</span>\n                                        <button type=\"button\" mat-icon-button (click)=\"unsetNewContact()\">\n                                            <mat-icon>clear</mat-icon>\n                                        </button>\n                                        <p class=\"text-muted\">\n                                            This contact will be added when you save the sale. Please make sure you're not duplicating contacts.\n                                        </p>\n                                    </div>\n                                </ng-container>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <button type=\"button\" mat-button \n                                    color=\"primary\" \n                                    (click)=\"showNewContactForm()\"\n                                    [disabled]=\"showNewContactFields || showSetContactUI\"\n                                >\n                                    <mat-icon inline=\"true\">add</mat-icon>\n                                    <span>New Contact</span>\n                                </button>\n                            </div>\n                        </div>\n                        <ng-container *ngIf=\"showNewContactFields\">\n                            <!-- CREATE NEW CONTACT FORM HERE & continue with rest of form -->\n                            <hr />\n                            <p class=\"font-weight-bold\">Create New Customer</p>\n                            <div formGroupName=\"contact\" class=\"new-customer-form\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-1\">\n                                        <mat-form-field class=\"w-100\">\n                                            <mat-select placeholder=\"Prefix\" formControlName=\"prefix\">\n                                                <mat-option value=\"\"></mat-option>\n                                                <mat-option value=\"Dr\">Dr</mat-option>\n                                                <mat-option value=\"Mr\">Mr</mat-option>\n                                                <mat-option value=\"Mrs\">Mrs</mat-option>\n                                                <mat-option value=\"Ms\">Ms</mat-option>\n                                            </mat-select>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-4\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" placeholder=\"First Name\" formControlName=\"firstName\" required />\n                                            <mat-error *ngIf=\"form.get('contact').get('firstName').hasError('required')\">\n                                                Please enter a first name\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-5\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" placeholder=\"Last Name\" formControlName=\"lastName\" required />\n                                            <mat-error *ngIf=\"form.get('contact').get('lastName').hasError('required')\">\n                                                Please enter a last name\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-2\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput [matDatepicker]=\"dobPicker\" placeholder=\"Birthdate\" formControlName=\"dob\" required />\n                                            <mat-datepicker-toggle matSuffix [for]=\"dobPicker\"></mat-datepicker-toggle>\n                                            <mat-datepicker #dobPicker></mat-datepicker>\n                                            <mat-error *ngIf=\"form.get('contact').get('dob').hasError('required')\">\n                                                Please select a date\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-7\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" placeholder=\"Address\" formControlName=\"street\" required />\n                                            <mat-error *ngIf=\"form.get('contact').get('street').hasError('required')\">\n                                                Please enter a street address\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-2\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" placeholder=\"Apt/Suite/Unit\" formControlName=\"street2\" />\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-3\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" #ssn placeholder=\"Social Security Number\" formControlName=\"ssn\" maxlength=\"9\" />\n                                            <mat-hint align=\"end\">{{ssn.value.length}} / 9</mat-hint>\n                                        </mat-form-field>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-7\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" placeholder=\"City\" formControlName=\"city\" required />\n                                            <mat-error *ngIf=\"form.get('contact').get('city').hasError('required')\">\n                                                Please enter a city\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-3\">\n                                        <mat-form-field class=\"w-100\">\n                                            <mat-select placeholder=\"State\" formControlName=\"state\" required>\n                                                <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">{{s.name}}</mat-option>\n                                            </mat-select>\n                                            <mat-error *ngIf=\"form.get('contact').get('state').hasError('required')\">\n                                                Please select a state\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-2\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" \n                                                #postalCode\n                                                placeholder=\"Postal Code\" \n                                                formControlName=\"zip\" \n                                                maxlength=\"5\"\n                                                required \n                                            />\n                                            <mat-hint>{{postalCode.value.length}} / 5</mat-hint>\n                                            <mat-error *ngIf=\"form.get('contact').get('zip').hasError('required')\">\n                                                Please enter a postal code\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" placeholder=\"Email\" formControlName=\"email\" required />\n                                            <mat-error *ngIf=\"form.get('contact').get('email').hasError('required')\">\n                                                Please enter an email\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-3\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" \n                                                placeholder=\"Phone\" \n                                                formControlName=\"phone\" \n                                                #phone\n                                                maxlength=\"10\"\n                                                required \n                                            />\n                                            <mat-hint>{{phone.value.length}} / 10</mat-hint>\n                                            <mat-error *ngIf=\"form.get('contact').get('phone').hasError('required')\">\n                                                Please enter a phone\n                                            </mat-error>\n                                        </mat-form-field>\n                                    </div>\n                                    <div class=\"col-md-3\">\n                                        <mat-form-field class=\"w-100\">\n                                            <input matInput type=\"text\" \n                                                placeholder=\"Fax\" \n                                                formControlName=\"fax\" \n                                                #fax\n                                                maxlength=\"10\"\n                                            />\n                                            <mat-hint>{{fax.value.length}} / 10</mat-hint>\n                                        </mat-form-field>\n                                    </div>\n                                </div>\n                            </div>\n                            <button type=\"button\" mat-button (click)=\"unsetNewContact('existingContact')\">Cancel</button>\n                            <!-- <button type=\"button\" mat-button color=\"primary\" (click)=\"setNewContact()\">\n                                <mat-icon inline=\"true\">save</mat-icon>\n                                <span>Save</span>\n                            </button> -->\n                            <hr />\n                        </ng-container>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <input type=\"text\" matInput placeholder=\"POD/Account\" formControlName=\"podAccount\" required />\n                                    <mat-error *ngIf=\"form.get('podAccount').hasError('required')\">\n                                        Please enter a POD/Account number\n                                    </mat-error>\n                                </mat-form-field>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <mat-select placeholder=\"Sale Status\" formControlName=\"status\" required>\n                                        <mat-option *ngFor=\"let s of saleStatuses|async\" [value]=\"s.saleStatusId\">\n                                            {{s.name}}\n                                        </mat-option>\n                                    </mat-select>\n                                    <mat-error *ngIf=\"form.get('status').hasError('required')\">\n                                        Please select a sale status\n                                    </mat-error>\n                                </mat-form-field>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <mat-select placeholder=\"Paid Status\" formControlName=\"paidStatus\" required>\n                                        <mat-option value=\"0\">Unpaid</mat-option>\n                                        <mat-option value=\"1\">Paid</mat-option>\n                                        <mat-option value=\"2\">Chargeback</mat-option>\n                                        <mat-option value=\"3\">Repaid</mat-option>\n                                    </mat-select>\n                                    <mat-error *ngIf=\"form.get('paidStatus').hasError('required')\">\n                                        Please select paid status\n                                    </mat-error>\n                                </mat-form-field>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <input type=\"text\" matInput [matDatepicker]=\"paidDatepicker\" placeholder=\"Paid Date\" formControlName=\"paidDate\" />\n                                    <mat-datepicker-toggle matSuffix [for]=\"paidDatepicker\"></mat-datepicker-toggle>\n                                    <mat-datepicker #paidDatepicker></mat-datepicker>\n                                </mat-form-field>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <input type=\"text\" matInput [matDatepicker]=\"chargebackDatepicker\" placeholder=\"Chargeback Date\" formControlName=\"chargeDate\" />\n                                    <mat-datepicker-toggle matSuffix [for]=\"chargebackDatepicker\"></mat-datepicker-toggle>\n                                    <mat-datepicker #chargebackDatepicker></mat-datepicker>\n                                </mat-form-field>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <mat-form-field class=\"w-100\">\n                                    <input type=\"text\" matInput [matDatepicker]=\"repaidDatepicker\" placeholder=\"Repaid Date\" formControlName=\"repaidDate\" />\n                                    <mat-datepicker-toggle matSuffix [for]=\"repaidDatepicker\"></mat-datepicker-toggle>\n                                    <mat-datepicker #repaidDatepicker></mat-datepicker>\n                                </mat-form-field>\n                            </div>\n                        </div>\n                        <hr />\n                        <button \n                            type=\"button\" \n                            mat-button \n                            (click)=\"showNewRemarkForm()\" \n                            color=\"primary\"\n                            *ngIf=\"!showNewRemarkField; else newRemarkField;\"\n                        >\n                            <mat-icon inline=\"true\">add</mat-icon>\n                            <span>Note</span>\n                        </button>\n                        <ng-template #newRemarkField>\n                            <div formArrayName=\"remarks\">\n                                <ng-container *ngFor=\"let r of formRemarks; let i = index\">\n                                    <mat-form-field class=\"w-100\" [formGroupName]=\"i\">\n                                        <textarea \n                                            matInput \n                                            placeholder=\"Note\" \n                                            formControlName=\"description\"\n                                            matTextareaAutosize=\"true\"\n                                            matAutosizeMinRows=\"4\"\n                                        ></textarea>\n                                    </mat-form-field>\n                                </ng-container>\n                            </div>\n                            <button type=\"button\" mat-button color=\"warn\" (click)=\"undoRemark()\">\n                                <mat-icon inline=\"true\">undo</mat-icon>\n                                <span>Undo</span>\n                            </button>\n                        </ng-template>\n                    </form>\n                </mat-card-content>\n                <mat-card-actions>\n                    <button type=\"button\" mat-button (click)=\"clearForm()\">\n                        Cancel\n                    </button>\n                    <button type=\"button\" mat-button color=\"primary\" (click)=\"save()\">\n                        <mat-icon inline=\"true\">save</mat-icon>\n                        <span>Save</span>\n                    </button>\n                </mat-card-actions>\n            </mat-card>\n        </div>  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.scss":
/*!********************************************************************************!*\
  !*** ./src/app/daily-sale-tracker/components/new-sale/new-sale.component.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RhaWx5LXNhbGUtdHJhY2tlci9jb21wb25lbnRzL25ldy1zYWxlL25ldy1zYWxlLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/daily-sale-tracker/components/new-sale/new-sale.component.ts ***!
  \******************************************************************************/
/*! exports provided: NewSaleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewSaleComponent", function() { return NewSaleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_contact_contact_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/contact/contact.service */ "./src/app/contact/contact.service.ts");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");














var NewSaleComponent = /** @class */ (function () {
    function NewSaleComponent(fb, session, contactService, agentService, campaignService, clientService, saleService, message, router) {
        this.fb = fb;
        this.session = session;
        this.contactService = contactService;
        this.agentService = agentService;
        this.campaignService = campaignService;
        this.clientService = clientService;
        this.saleService = saleService;
        this.message = message;
        this.router = router;
        this.form = this.createForm();
        this.formSubmitted = false;
        this.showNewContactFields = false;
        this.showSetContactUI = false;
        this.showNewRemarkField = false;
        this.saleStatuses = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"]([]);
        this.utilities = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"]([]);
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_9__["States"].$get();
        this.returnUrl = '';
    }
    NewSaleComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.returnUrl = this.session.previousUrl;
        this.session.getUserItem().subscribe(function (u) {
            _this.user = u;
            _this.contactService.getContactsByClient(_this.user.sessionUser.sessionClient)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["tap"])(function (next) { return _this._contacts = next; }))
                .subscribe(function (contacts) { return _this.contacts = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(contacts); });
            _this.agentService.getAgentsByClient(_this.user.sessionUser.sessionClient)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["tap"])(function (next) { return _this._agents = next; }))
                .subscribe(function (agents) { return _this.agents = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(agents); });
            _this.campaignService.getCampaignsByClient(_this.user.sessionUser.sessionClient)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["tap"])(function (next) {
                _this._campaigns = next;
                _this._utilities = [];
                next.forEach(function (c) { return _this._utilities = _this._utilities.concat(c.utilities); });
            }))
                .subscribe(function (campaigns) { return _this.campaigns = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(campaigns); });
            _this.clientService.getSaleStatuses(_this.user.sessionUser.sessionClient)
                .subscribe(function (statuses) {
                _this._saleStatuses = statuses.filter(function (s) { return s.isActive; });
                _this.saleStatuses.next(_this._saleStatuses);
            });
            _this.initializeComponent();
        });
    };
    NewSaleComponent.prototype.showNewContactForm = function () {
        this.resetContactForm('contact');
        this.showNewContactFields = !this.showNewContactFields;
    };
    NewSaleComponent.prototype.setNewContact = function () {
        this.setControlsTouched(this.form.get('contact'));
        if (this.form.get('contact').invalid)
            return;
        this.showNewContactFields = false;
        this.showSetContactUI = true;
    };
    NewSaleComponent.prototype.setControlsTouched = function (group) {
        for (var c in group.controls) {
            group.controls[c].markAsTouched();
            if (this.hasProperty(group.controls[c], 'controls')) {
                this.setControlsTouched(group.controls[c]['controls']);
            }
        }
    };
    NewSaleComponent.prototype.hasProperty = function (obj, prop) {
        var proto = obj.__proto__ || obj.constructor.prototype;
        return (prop in obj) &&
            (!(prop in proto) || proto[prop] !== obj[prop]);
    };
    NewSaleComponent.prototype.unsetNewContact = function (formGroupName) {
        this.resetContactForm(formGroupName);
        this.showNewContactFields = false;
        this.showSetContactUI = false;
    };
    NewSaleComponent.prototype.resetContactForm = function (formGroupName) {
        this.form.controls[formGroupName].patchValue({
            firstName: '',
            lastName: '',
            prefix: '',
            ssn: '',
            dob: '',
            street: '',
            street2: '',
            city: '',
            state: '',
            zip: '',
            phone: '',
            email: '',
            fax: ''
        });
        this.form.get(formGroupName).reset();
    };
    NewSaleComponent.prototype.showNewRemarkForm = function () {
        if (!this.form.value.remarks.length)
            this.form.controls.remarks.patchValue([]);
        this.form.controls.remarks.push(this.fb.group({
            remarkId: this.fb.control(''),
            dailySaleId: this.fb.control(''),
            description: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])
        }));
        this.formRemarks = [{}];
        this.showNewRemarkField = true;
    };
    NewSaleComponent.prototype.undoRemark = function () {
        var i = 0;
        while (this.form.controls.remarks.length) {
            this.form.controls.remarks.removeAt(i);
            i++;
        }
        this.form.controls.remarks.reset();
        this.showNewRemarkField = false;
    };
    NewSaleComponent.prototype.displayFn = function (contact) {
        return typeof contact === 'object' && contact != null
            ? contact.firstName + " " + contact.lastName
            : '';
    };
    NewSaleComponent.prototype.initializeComponent = function () {
        var _this = this;
        /** watch for form changes to campaign id and update utility dropdown options accordingly */
        this.form.controls.campaignId.valueChanges.subscribe(function (val) {
            var filteredUtils = _this._utilities.filter(function (u) { return u.campaignId == val; });
            if (!filteredUtils.length) {
                _this.form.patchValue({ utilityId: null });
                _this.form.controls.utilityId.reset();
            }
            _this.utilities.next(filteredUtils);
        });
    };
    NewSaleComponent.prototype.save = function () {
        var _this = this;
        /**
         * Check to see if the user selected and existing contact or if they used the "new contact"
         * form to create a new contact and then revalidate the sale form.
         */
        if (this.form.get('existingContact').dirty && this.form.get('existingContact').valid) {
            delete this.form.controls['contact'];
        }
        else if (this.form.get('contact').dirty && this.form.get('contact').valid) {
            delete this.form.controls['existingContact'];
        }
        this.setControlsTouched(this.form);
        this.form.updateValueAndValidity();
        if (this.form.invalid)
            return;
        var model = this.prepareModel();
        /** WRITE THE SERVICE CALL TO DAILY SALE CONTROLLER */
        this.saleService.saveSaleWithContactInfo(this.user.sessionUser.sessionClient, model.campaignId, model)
            .subscribe(function (sale) {
            _this.message.addMessage('Sale saved!', 'dismiss', 5000);
            setTimeout(function () { return _this.router.navigate(['/daily-tracker']); }, 2500);
        }, function (err) {
            console.error(err);
        });
    };
    NewSaleComponent.prototype.clearForm = function () {
        this.form.reset();
        this.router.navigate([this.returnUrl]);
    };
    NewSaleComponent.prototype.validateContactInput = function (event) {
        var input = event.target.value;
        var exists = false;
        this._contacts.forEach(function (c) {
            if (c.firstName.includes(input))
                return exists = true;
            if (c.lastName.includes(input))
                return exists = true;
        });
        if (!exists)
            this.form.get('existingContact').setErrors({ nonExistent: true });
    };
    NewSaleComponent.prototype.createForm = function () {
        return this.fb.group({
            dailySaleId: this.fb.control(''),
            agentId: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            campaignId: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            utilityId: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            contactId: this.fb.control(''),
            clientId: this.fb.control(''),
            podAccount: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            existingContact: this.fb.control('', [this.contactValidatorFn]),
            contact: this.fb.group({
                contactId: this.fb.control(''),
                clientId: this.fb.control(''),
                firstName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                lastName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                middleName: this.fb.control(''),
                prefix: this.fb.control(''),
                suffix: this.fb.control(''),
                ssn: this.fb.control(''),
                dob: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                street: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                street2: this.fb.control(''),
                city: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                state: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                zip: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
                phone: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern('[0-9]+')]),
                email: this.fb.control(''),
                fax: this.fb.control('')
            }),
            status: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            saleDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            paidStatus: this.fb.control(''),
            paidDate: this.fb.control(''),
            chargeDate: this.fb.control(''),
            repaidDate: this.fb.control(''),
            remarks: this.fb.array([])
        });
    };
    NewSaleComponent.prototype.contactValidatorFn = function () {
        var _this = this;
        return function (control) {
            var invalid = control.value == null && _this.form.get('contact').invalid;
            return invalid ? { 'required': { value: control.value } } : null;
        };
    };
    NewSaleComponent.prototype.prepareModel = function () {
        return {
            dailySaleId: this.form.value.dailySaleId,
            agentId: this.form.value.agentId,
            campaignId: this.form.value.campaignId,
            utilityId: this.form.value.utilityId,
            clientId: this.form.value.clientId || this.user.sessionUser.sessionClient,
            podAccount: this.form.value.podAccount,
            contact: typeof this.form.value.existingContact === 'object'
                ? this.form.value.existingContact
                : {
                    contactId: this.form.value.contactId,
                    clientId: this.user.sessionUser.sessionClient,
                    firstName: this.form.value.contact.firstName,
                    lastName: this.form.value.contact.lastName,
                    middleName: this.form.value.contact.middleName,
                    prefix: this.form.value.contact.prefix,
                    suffix: this.form.value.contact.suffix,
                    ssn: this.form.value.contact.ssn,
                    dob: this.form.value.contact.dob,
                    street: this.form.value.contact.street,
                    street2: this.form.value.contact.street2,
                    city: this.form.value.contact.city,
                    state: this.form.value.contact.state,
                    zip: this.form.value.contact.zip,
                    phone: this.form.value.contact.phone,
                    email: this.form.value.contact.email,
                    fax: this.form.value.contact.fax
                },
            status: this.form.value.status,
            paidStatus: this.form.value.paidStatus,
            saleDate: this.form.value.saleDate,
            paidDate: this.form.value.paidDate,
            chargeDate: this.form.value.chargeDate,
            repaidDate: this.form.value.repaidDate,
            remarks: this.form.value.remarks.length > 0
                ? this.form.value.remarks
                : null
        };
    };
    NewSaleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-new-sale',
            template: __webpack_require__(/*! ./new-sale.component.html */ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.html"),
            styles: [__webpack_require__(/*! ./new-sale.component.scss */ "./src/app/daily-sale-tracker/components/new-sale/new-sale.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _app_contact_contact_service__WEBPACK_IMPORTED_MODULE_4__["ContactService"],
            _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_5__["AgentService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_6__["CampaignService"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_10__["ClientService"],
            _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_11__["DailySaleTrackerService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_12__["MessageService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"]])
    ], NewSaleComponent);
    return NewSaleComponent;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-card class=\"page-header-accent\">\n    <mat-card-header>\n        <mat-card-title>\n            <h3>Sales Tracker</h3>\n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-subtitle>\n        <mat-form-field class=\"mx-1\">\n            <input matInput [matDatepicker]=\"trackerStart\" placeholder=\"Start Date\" [(value)]=\"startDate\"\n                (dateChange)=\"handleDateChange($event, true)\" />\n            <mat-datepicker-toggle matSuffix [for]=\"trackerStart\"></mat-datepicker-toggle>\n            <mat-datepicker #trackerStart [startAt]=\"startDate\"></mat-datepicker>\n        </mat-form-field>\n        <mat-form-field class=\"mx-1\">\n            <input matInput [matDatepicker]=\"trackerEnd\" placeholder=\"End Date\" [(value)]=\"endDate\" (dateChange)=\"handleDateChange($event, false)\" />\n            <mat-datepicker-toggle matSuffix [for]=\"trackerEnd\"></mat-datepicker-toggle>\n            <mat-datepicker #trackerEnd [startAt]=\"endDate\"></mat-datepicker>\n        </mat-form-field>\n        <mat-form-field class=\"mx-1\" *ngIf=\"selectedCampaign != null\">\n            <mat-select placeholder=\"Select Campaign\" [value]=\"selectedCampaign.campaignId\" (selectionChange)=\"changeSelectedCampaignId($event)\">\n                <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                    {{ c.name }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <!-- <button type=\"button\" mat-button color=\"primary\" class=\"mx-4\" (click)=\"showAddSaleDialog()\">\n            Add Sale\n        </button> -->\n        <button type=\"button\" mat-button color=\"primary\" class=\"mx-4\" [routerLink]=\"['/new-sale-contact']\">\n            <mat-icon inline=\"true\">add</mat-icon>\n            <span>Sale</span>\n        </button>\n    </mat-card-subtitle>\n</mat-card>\n\n<mat-card>\n    <mat-card-content>\n\n        <!-- NO TABLE DATA VIEW -->\n        <div class=\"row justify-content-center no-data-message\" *ngIf=\"!(dataSource$.getValue() != null && dataSource$.getValue().length); else hasTableData;\">\n            <div class=\"col-md-6 text-center\">\n                <h4>\n                    Looks like you don't have any sales or this time period. Adjust the date range above or add a sale.\n                </h4>\n                <button mat-raised-button type=\"button\" color=\"primary\" (click)=\"showAddSaleDialog()\">Add Sale</button>\n            </div>\n        </div>\n\n        <!-- TABLE -->\n        <ng-template #hasTableData>\n            <form [formGroup]=\"form\">\n                <table mat-table [dataSource]=\"sales\" multiTemplateDataRows formArrayName=\"sales\" *ngIf=\"dataSource$.getValue() != null && dataSource$.getValue().length > 0\">\n\n                    <ng-container matColumnDef=\"saleDate\">\n                        <th mat-header-cell *matHeaderCellDef>Date</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\" class=\"pl-0 pr-1\">\n                            <button type=\"button\" mat-icon-button (click)=\"expandedRowHover(item)\" *ngIf=\"item.remarks.length > 0\">\n                                <mat-icon>{{showNotes ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</mat-icon>\n                            </button>\n                            {{ item.saleDate | date:'shortDate' }}\n                        </td>\n                    </ng-container>\n\n                    <!-- agent dropdown -->\n                    <ng-container matColumnDef=\"agentId\">\n                        <th mat-header-cell *matHeaderCellDef>Agent</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\" class=\"px-1\">\n                            {{getAgentName(item.agentId)}}\n                        </td>\n                    </ng-container>\n\n                    <!-- account number  -->\n                    <ng-container matColumnDef=\"podAccount\">\n                        <th mat-header-cell *matHeaderCellDef>POD/Account</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            {{item.podAccount}}\n                        </td>\n                    </ng-container>\n\n                    <!-- customer first name -->\n                    <ng-container matColumnDef=\"firstName\">\n                        <th mat-header-cell *matHeaderCellDef>First Name</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            {{item.contact?.firstName}}\n                        </td>\n                    </ng-container>\n\n                    <!-- customer last name -->\n                    <ng-container matColumnDef=\"lastName\">\n                        <th mat-header-cell *matHeaderCellDef>Last Name</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            {{item.contact?.lastName}}\n                        </td>\n                    </ng-container>\n\n                    <!-- sale status -->\n                    <ng-container matColumnDef=\"status\">\n                        <th mat-header-cell *matHeaderCellDef>Status</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            <mat-form-field appearance=\"outline\">\n                                <mat-select formControlName=\"status\" required (selectionChange)=\"updateExistingSalesRow(i)\">\n                                    <mat-option *ngFor=\"let s of statuses | async\" [value]=\"s.saleStatusId\">\n                                        {{s.name}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                        </td>\n                    </ng-container>\n\n                    <!-- paid status -->\n                    <ng-container matColumnDef=\"paidStatus\">\n                        <th mat-header-cell *matHeaderCellDef>Paid Status</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            <mat-form-field appearance=\"outline\">\n                                <mat-select formControlName=\"paidStatus\" required (selectionChange)=\"updateExistingSalesRow(i)\">\n                                    <mat-option *ngFor=\"let p of paidStatusOptions\" [value]=\"p.id\">\n                                        {{p.name}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                        </td>\n                    </ng-container>\n\n                    <!-- activity date -->\n                    <ng-container matColumnDef=\"activityDate\">\n                        <th mat-header-cell *matHeaderCellDef>Activity</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            <ng-container *ngIf=\"form.controls['sales'].controls[i].controls.activityDate.value != null; else nullActivity\">\n                                {{form.controls['sales'].controls[i].controls.activityDate.value | date:'shortDate'}}\n                            </ng-container>\n                            <ng-template #nullActivity>\n                                <span class=\"text-muted font-italic\">(No date)</span>\n                            </ng-template>\n                        </td>\n                    </ng-container>\n\n                    <ng-container matColumnDef=\"save\">\n                        <th mat-header-cell *matHeaderCellDef>&nbsp;</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\">\n                            <div class=\"table-shrink\" class=\"hover-item\">\n                                <button mat-icon-button (click)=\"showEditSaleDialog(i)\">\n                                    <mat-icon>edit</mat-icon>\n                                </button>\n                                <button mat-icon-button color=\"warn\" (click)=\"deleteSale(i)\">\n                                    <mat-icon>delete</mat-icon>\n                                </button>\n                            </div>\n                        </td>\n                    </ng-container>\n\n                    <ng-container matColumnDef=\"expandedDetail\">\n                        <td mat-cell *matCellDef=\"let item; let i = dataIndex\" [attr.colspan]=\"displayColumns.length\">\n                            <div class=\"element-detail\" [@detailExpand]=\"item == expandedElement ? 'expanded' : 'collapsed'\">\n                                <mat-list>\n                                    <h3 mat-subheader>Notes</h3>\n                                    <mat-list-item *ngIf=\"item.remarks.length == 0; else hasRemarks\">\n                                        <mat-icon mat-list-icon>error_outline</mat-icon>\n                                        <h4 mat-line>Sorry, no notes for this sale exist.</h4>\n                                    </mat-list-item>\n                                    <ng-template #hasRemarks>\n                                        <mat-list-item *ngFor=\"let r of item.remarks\">\n                                            <mat-icon mat-list-icon>folder</mat-icon>\n                                            <h4 mat-line class=\"white-space-normal\">{{r.description}}</h4>\n                                            <p mat-line>{{r.updatedAt | date:'shortDate'}}</p>\n                                        </mat-list-item>\n                                    </ng-template>\n                                </mat-list>\n                            </div>\n                        </td>\n                    </ng-container>\n\n                    <tr mat-header-row *matHeaderRowDef=\"displayColumns; sticky: true\"></tr>\n                    <tr mat-row *matRowDef=\"let row; columns: displayColumns; let i=index\" class=\"element-row hoverable\"></tr>\n                    <tr mat-row *matRowDef=\"let expandedRow; columns: ['expandedDetail']\" class=\"detail-row\"></tr>\n                </table>\n            </form>\n        </ng-template>\n\n\n    </mat-card-content>\n</mat-card>\n\n<vs-float-button mat-icon=\"add\" (callback)=\"showAddSaleDialog()\" [isOpen]=\"floatIsOpen\"></vs-float-button>"

/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n  width: 100%; }\n\n.no-data-message {\n  padding: 1rem 0; }\n\nbutton.edit {\n  opacity: 0; }\n\ntr:hover > * > button.edit {\n  -webkit-animation: fadeIn 0.8s forwards;\n          animation: fadeIn 0.8s forwards; }\n\ntr > * > button.fade-in {\n  -webkit-animation: fadeIn 0.8s forwards;\n          animation: fadeIn 0.8s forwards; }\n\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(50px);\n            transform: translateY(50px); }\n  30% {\n    opacity: 0; }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateY(0);\n            transform: translateY(0); } }\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(50px);\n            transform: translateY(50px); }\n  30% {\n    opacity: 0; }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateY(0);\n            transform: translateY(0); } }\n\n.element-detail {\n  max-height: 25vh;\n  overflow: hidden;\n  overflow-y: auto;\n  display: flex; }\n\n.detail-row {\n  height: 0; }\n\n:host ::ng-deep .mat-form-field-infix {\n  min-width: 100px !important;\n  max-width: 180px !important;\n  width: 0 auto; }\n\n:host ::ng-deep .mat-header-cell:last-child, .mat-cell:last-child {\n  padding: 0; }\n\n.table-shrink {\n  min-width: 50px !important;\n  max-width: 100px !important;\n  width: 0 auto; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvZGFpbHktc2FsZS10cmFja2VyL2RhaWx5LXNhbGUtdHJhY2tlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVcsRUFDWjs7QUFFRDtFQUNFLGdCQUFlLEVBQ2hCOztBQUVEO0VBQ0UsV0FBVSxFQUNYOztBQUVEO0VBRUksd0NBQStCO1VBQS9CLGdDQUErQixFQUNoQzs7QUFISDtFQU1JLHdDQUErQjtVQUEvQixnQ0FBK0IsRUFDaEM7O0FBR0g7RUFDRTtJQUNFLFdBQVU7SUFDVixvQ0FBMkI7WUFBM0IsNEJBQTJCLEVBQUE7RUFHN0I7SUFDRSxXQUFVLEVBQUE7RUFHWjtJQUNFLFdBQVU7SUFDVixpQ0FBd0I7WUFBeEIseUJBQXdCLEVBQUEsRUFBQTs7QUFaNUI7RUFDRTtJQUNFLFdBQVU7SUFDVixvQ0FBMkI7WUFBM0IsNEJBQTJCLEVBQUE7RUFHN0I7SUFDRSxXQUFVLEVBQUE7RUFHWjtJQUNFLFdBQVU7SUFDVixpQ0FBd0I7WUFBeEIseUJBQXdCLEVBQUEsRUFBQTs7QUFJNUI7RUFDRSxpQkFBZ0I7RUFDaEIsaUJBQWdCO0VBQ2hCLGlCQUFnQjtFQUNoQixjQUFhLEVBQ2Q7O0FBRUQ7RUFDRSxVQUFTLEVBQ1Y7O0FBY0Q7RUFDSSw0QkFBMkI7RUFDM0IsNEJBQTJCO0VBQzNCLGNBQWEsRUFDaEI7O0FBRUQ7RUFDSSxXQUFVLEVBQ2I7O0FBRUQ7RUFDSSwyQkFBMEI7RUFDMUIsNEJBQTJCO0VBQzNCLGNBQWEsRUFDaEIiLCJmaWxlIjoic3JjL2FwcC9kYWlseS1zYWxlLXRyYWNrZXIvZGFpbHktc2FsZS10cmFja2VyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLm5vLWRhdGEtbWVzc2FnZSB7XG4gIHBhZGRpbmc6IDFyZW0gMDtcbn1cblxuYnV0dG9uLmVkaXQge1xuICBvcGFjaXR5OiAwO1xufVxuXG50ciB7XG4gICY6aG92ZXIgPiAqID4gYnV0dG9uLmVkaXQge1xuICAgIGFuaW1hdGlvbjogZmFkZUluIDAuOHMgZm9yd2FyZHM7XG4gIH1cblxuICAmID4gKiA+IGJ1dHRvbi5mYWRlLWluIHtcbiAgICBhbmltYXRpb246IGZhZGVJbiAwLjhzIGZvcndhcmRzO1xuICB9XG59XG5cbkBrZXlmcmFtZXMgZmFkZUluIHtcbiAgMCUge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDUwcHgpO1xuICB9XG5cbiAgMzAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG5cbiAgMTAwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gIH1cbn1cblxuLmVsZW1lbnQtZGV0YWlsIHtcbiAgbWF4LWhlaWdodDogMjV2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLmRldGFpbC1yb3cge1xuICBoZWlnaHQ6IDA7XG59XG5cbi8vIC5taW4tMTIwIHtcbi8vICAgbWluLXdpZHRoOiAxMjBweDtcbi8vIH1cblxuLy8gLm1pbi0xODAge1xuLy8gICBtaW4td2lkdGg6IDE4MHB4O1xuLy8gfVxuXG4vLyA6aG9zdCA6Om5nLWRlZXAgdGQgPiAqID4gLm1hdC1mb3JtLWZpZWxkLXdyYXBwZXIge1xuLy8gICBwYWRkaW5nOiAuMjVyZW0gMDtcbi8vIH1cblxuOmhvc3QgOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XG4gICAgbWluLXdpZHRoOiAxMDBweCAhaW1wb3J0YW50O1xuICAgIG1heC13aWR0aDogMTgwcHggIWltcG9ydGFudDtcbiAgICB3aWR0aDogMCBhdXRvO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLm1hdC1oZWFkZXItY2VsbDpsYXN0LWNoaWxkLCAubWF0LWNlbGw6bGFzdC1jaGlsZCB7XG4gICAgcGFkZGluZzogMDtcbn1cblxuLnRhYmxlLXNocmluayB7XG4gICAgbWluLXdpZHRoOiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgbWF4LXdpZHRoOiAxMDBweCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAwIGF1dG87XG59Il19 */"

/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.component.ts ***!
  \********************************************************************/
/*! exports provided: DailySaleTrackerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DailySaleTrackerComponent", function() { return DailySaleTrackerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/core/agents/agents.service */ "./src/app/core/agents/agents.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/add-sale.component */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/delete-sale.component */ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @app/fab-float-btn/float-btn.service */ "./src/app/fab-float-btn/float-btn.service.ts");



















var DailySaleTrackerComponent = /** @class */ (function () {
    function DailySaleTrackerComponent(agentService, clientService, campaignService, userService, msg, trackerService, dialog, fb, floatBtnService) {
        var _this = this;
        this.agentService = agentService;
        this.clientService = clientService;
        this.campaignService = campaignService;
        this.userService = userService;
        this.msg = msg;
        this.trackerService = trackerService;
        this.dialog = dialog;
        this.fb = fb;
        this.floatBtnService = floatBtnService;
        this.paidStatusOptions = [
            { id: 0, name: 'Unpaid' },
            { id: 1, name: 'Paid' },
            { id: 2, name: 'Chargeback' },
            { id: 3, name: 'Repaid' }
        ];
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_14__["States"].$get();
        this.displayColumns = [
            'saleDate',
            'agentId',
            'podAccount',
            'firstName',
            'lastName',
            'status',
            'paidStatus',
            'activityDate',
            'save'
        ];
        this.store = {
            statuses: null,
            sales: null
        };
        this.dataSource$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](null);
        this.statuses = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](null);
        this.showNotes = false;
        /** why are we doing this? why not just use an observable w/async pipe to dataSource$? */
        this.dataSource$.subscribe(function (next) {
            if (next == null)
                return;
            _this.sales = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(next);
        });
        this.floatIsOpen = this.floatBtnService.opened$.asObservable();
    }
    DailySaleTrackerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.createForm();
        this.startDate = moment__WEBPACK_IMPORTED_MODULE_3__().add(-1, 'd');
        this.endDate = moment__WEBPACK_IMPORTED_MODULE_3__();
        this.userService.user.subscribe(function (u) {
            _this.userInfo = u;
            Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["forkJoin"])(_this.clientService.getSaleStatuses(_this.userInfo.sessionUser.sessionClient), _this.campaignService.getCampaigns(_this.userInfo.sessionUser.sessionClient)).subscribe(function (_a) {
                var saleStatuses = _a[0], campaigns = _a[1];
                _this.store.statuses = saleStatuses;
                _this.statuses.next(saleStatuses);
                _this.campaigns = lodash__WEBPACK_IMPORTED_MODULE_4__["sortBy"](campaigns, ['name']);
                _this.campaigns.unshift({
                    campaignId: 0,
                    clientId: _this.userInfo.sessionUser.sessionClient,
                    name: 'All Campaigns',
                    active: true
                });
                if (_this.campaigns.length) {
                    _this.selectedCampaign = _this.campaigns[0];
                }
                else {
                    _this.selectedCampaign = {
                        campaignId: 0,
                        clientId: null,
                        name: null,
                        active: false
                    };
                }
                _this.refreshDailySales(_this.startDate, _this.endDate);
            });
        });
        this.agentService
            .getAgents(true)
            .then(function (agents) {
            _this.agents = agents;
        })
            .catch(this.msg.showWebApiError);
    };
    DailySaleTrackerComponent.prototype.handleDateChange = function ($event, isStartDate) {
        var mDate = $event.value;
        if (isStartDate) {
            this.startDate = mDate;
        }
        else {
            this.endDate = mDate;
        }
        var start = this.startDate;
        var end = this.endDate;
        this.refreshDailySales(start, end);
    };
    DailySaleTrackerComponent.prototype.expandedRowHover = function (row) {
        var _this = this;
        row.showNotes = row.showNotes == null ? true : !row.showNotes;
        this.showNotes = !this.showNotes;
        row = this.showNotes ? row : null;
        setTimeout(function () {
            _this.expandedElement = row;
        }, 250);
    };
    DailySaleTrackerComponent.prototype.showAddSaleDialog = function () {
        var _this = this;
        this.floatBtnService.open();
        this.dialog
            .open(_app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_12__["AddSaleDialog"], {
            width: '800px',
            data: {
                statuses: this.store.statuses,
                agents: this.agents,
                selectedCampaign: this.selectedCampaign,
                campaigns: this.campaigns,
                user: this.userInfo
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            _this.floatBtnService.close();
            if (result == null)
                return;
            var dto = result;
            dto.clientId = _this.userInfo.sessionUser.sessionClient;
            dto.saleDate = _this.formatSqlDate(dto.saleDate, true);
            _this.trackerService.createDailySale(dto.clientId, dto).subscribe(function () {
                _this.refreshDailySales(_this.startDate, _this.endDate);
            });
        });
    };
    DailySaleTrackerComponent.prototype.changeSelectedCampaignId = function (event) {
        this.selectedCampaign = lodash__WEBPACK_IMPORTED_MODULE_4__["find"](this.campaigns, { campaignId: event.value });
        this.refreshDailySales(this.startDate, this.endDate);
    };
    DailySaleTrackerComponent.prototype.castString = function (value) {
        return value + '';
    };
    DailySaleTrackerComponent.prototype.formatSqlDate = function (date, withTimestamp) {
        if (withTimestamp === void 0) { withTimestamp = false; }
        if (withTimestamp)
            return date.format('YYYY-MM-DD HH:mm:ss');
        return date.format('YYYY-MM-DD');
    };
    DailySaleTrackerComponent.prototype.getFormGroup = function (name, index) {
        return this.form.get(name).get(index + '');
    };
    DailySaleTrackerComponent.prototype.getSalesControl = function (name, index) {
        return this.form
            .get('sales')
            .get(index + '')
            .get(name);
    };
    DailySaleTrackerComponent.prototype.updateExistingSalesRow = function (index) {
        var _this = this;
        var sale = this.form.get('sales').get(index + '');
        // if the user chose a paid status of "unpaid", let's call the method to handle this
        // which simply unsets the activity date
        if (sale.value.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].unpaid)
            this.handleUnpaidSaleStatus(index);
        var dto = this.prepareModel(sale, index);
        var changeType, changeDate;
        switch (sale.value.paidStatus) {
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].chargeback:
                changeType = 'Chargeback';
                changeDate = dto.chargeDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].paid:
                changeType = 'Paid';
                changeDate = dto.paidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].repaid:
                changeType = 'Repaid';
                changeDate = dto.repaidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].unpaid:
            default:
                changeType = 'Unpaid';
                changeDate = null;
                break;
        }
        if (sale.value.paidStatus != _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].unpaid) {
            var changeDateTime = moment__WEBPACK_IMPORTED_MODULE_3__().toString();
            var formattedChangeDate = moment__WEBPACK_IMPORTED_MODULE_3__(changeDate).format('MM-DD-YYYY');
            var changeAgent = this.userInfo.firstName + ' ' + this.userInfo.lastName;
            var remark = "Paid status was changed to: " + changeType + " (" + formattedChangeDate + ") on " + changeDateTime + " by: " + changeAgent + ".";
            dto.remarks.push({
                remarkId: null,
                dailySaleId: dto.dailySaleId,
                description: remark,
                modifiedBy: this.userInfo.id
            });
        }
        this.trackerService.updateDailySale(dto.clientId, dto).subscribe(function (result) {
            _this.store.sales[index] = result;
            _this.patchFormSaleValue(result, index);
            _this.msg.addMessage('Saved!', 'dismiss', 3000);
        });
    };
    DailySaleTrackerComponent.prototype.handleUnpaidSaleStatus = function (index) {
        this.form.get('sales').get(index + '').patchValue({
            activityDate: null
        });
    };
    DailySaleTrackerComponent.prototype.showEditSaleDialog = function (index) {
        // this was checking form validity when we were completing the entire form right in the table
        // but don't think i need this anymore
        // const sale:FormGroup = this.form.get('sales').get(index+'') as FormGroup;
        // if (sale.invalid) return;
        var _this = this;
        var dto = this.store.sales[index];
        var campaign;
        if (this.selectedCampaign.campaignId < 1) {
            campaign = lodash__WEBPACK_IMPORTED_MODULE_4__["find"](this.campaigns, { campaignId: dto.campaignId });
        }
        else {
            campaign = this.selectedCampaign;
        }
        this.dialog
            .open(_app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_12__["AddSaleDialog"], {
            width: '800px',
            data: {
                agents: this.agents,
                selectedCampaign: campaign,
                sale: dto,
                statuses: this.store.statuses,
                campaigns: this.campaigns,
                user: this.userInfo
            }
        })
            .afterClosed()
            .subscribe(function (dto) {
            if (dto == null)
                return;
            _this.trackerService.updateDailySale(_this.userInfo.sessionUser.sessionClient, dto).subscribe(function (sale) {
                _this.store.sales[index] = sale;
                // this.patchFormSaleValue(sale, index);
                _this.refreshDailySales(_this.startDate, _this.endDate);
                _this.msg.addMessage('Saved!', 'dismiss', 3000);
            });
        });
    };
    DailySaleTrackerComponent.prototype.deleteSale = function (index) {
        var _this = this;
        var sale = this.form.get('sales').get(index + '');
        if (this.showNotes)
            this.expandedRowHover(null);
        this.dialog
            .open(_app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_16__["DeleteSaleDialog"], {
            width: '300'
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            var dto = _this.prepareModel(sale, index);
            if (dto.dailySaleId < 1)
                return;
            _this.trackerService
                .deleteDailySale(_this.userInfo.sessionUser.sessionClient, dto.dailySaleId)
                .subscribe(function () {
                _this.msg.addMessage('Successfully deleted sale.', 'dismiss', 3000);
                _this.refreshDailySales(_this.startDate, _this.endDate);
            });
        });
    };
    DailySaleTrackerComponent.prototype.getAgentName = function (agentId) {
        var agent = lodash__WEBPACK_IMPORTED_MODULE_4__["find"](this.agents, { agentId: agentId });
        return agent.firstName + ' ' + agent.lastName;
    };
    DailySaleTrackerComponent.prototype.getSaleStatus = function (statusId) {
        return (lodash__WEBPACK_IMPORTED_MODULE_4__["find"](this.statuses.getValue(), { saleStatusId: statusId }) || { id: statusId, name: null });
    };
    DailySaleTrackerComponent.prototype.getPaidStatus = function (paidStatusId) {
        return lodash__WEBPACK_IMPORTED_MODULE_4__["find"](this.paidStatusOptions, { id: paidStatusId });
    };
    DailySaleTrackerComponent.prototype.refreshDailySales = function (startDate, endDate) {
        var _this = this;
        var startRange = startDate.clone();
        var endRange = endDate.clone();
        startRange = startRange.add(-1, 'd');
        endRange = endRange.add(1, 'd');
        this.trackerService
            .getDailySalesByDate(this.userInfo.sessionUser.sessionClient, this.selectedCampaign.campaignId, this.formatSqlDate(startRange), this.formatSqlDate(endRange))
            .subscribe(function (sales) {
            _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_4__["orderBy"](sales, ['saleDate'], ['desc']);
            _this.tableEmpty = sales.length < 1;
            _this.dataSource$.next(_this.store.sales);
            _this.createForm();
        });
    };
    DailySaleTrackerComponent.prototype.createForm = function () {
        this.form = this.fb.group({
            sales: this.createSalesFormArray()
        });
    };
    DailySaleTrackerComponent.prototype.createSalesFormArray = function () {
        if (this.store.sales == null || this.store.sales.length < 1)
            return this.fb.array([]);
        var result = this.fb.array([]);
        for (var i = 0; i < this.store.sales.length; i++) {
            var d = this.store.sales[i];
            result.push(this.fb.group({
                dailySaleId: this.fb.control(d.dailySaleId || ''),
                agent: this.fb.control(d.agentId || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                account: this.fb.control(d.podAccount || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                firstName: this.fb.control(d.firstName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                lastName: this.fb.control(d.lastName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                street: this.fb.control(d.street || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                street2: this.fb.control(d.street2 || ''),
                city: this.fb.control(d.city || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                state: this.fb.control(d.state || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                zip: this.fb.control(d.zip || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                status: this.fb.control(d.status || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                paidStatus: this.fb.control(d.paidStatus, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                saleDate: this.fb.control(d.saleDate || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]),
                activityDate: this.fb.control(this.calculateActivityDate(d)),
                remarks: this.createRemarksFormArray(d.remarks)
            }));
        }
        return result;
    };
    DailySaleTrackerComponent.prototype.calculateActivityDate = function (sale) {
        var activityDate;
        switch (sale.paidStatus) {
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].paid:
                activityDate = sale.paidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].chargeback:
                activityDate = sale.chargeDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].repaid:
                activityDate = sale.repaidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].unpaid:
            default:
                activityDate = null;
                break;
        }
        return activityDate;
    };
    DailySaleTrackerComponent.prototype.setActivityDateProperty = function (formPaidStatus, modelField, index) {
        var actMo = moment__WEBPACK_IMPORTED_MODULE_3__(this.form.value.sales[index].activityDate);
        if (modelField == 'paidDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].paid && actMo.isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_3__(this.form.value.sales[index].activityDate).format('YYYY-MM-DD');
        }
        else if (modelField == 'chargeDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].chargeback && actMo.isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_3__(this.form.value.sales[index].activityDate).format('YYYY-MM-DD');
        }
        else if (modelField == 'repaidDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].repaid && actMo.isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_3__(this.form.value.sales[index].activityDate).format('YYYY-MM-DD');
        }
        return this.store.sales[index][modelField] || null;
    };
    DailySaleTrackerComponent.prototype.createRemarksFormArray = function (remarks) {
        var _this = this;
        var result = this.fb.array([]);
        remarks.forEach(function (r) {
            result.push(_this.fb.control(r.description || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_15__["Validators"].required]));
        });
        return result;
    };
    DailySaleTrackerComponent.prototype.patchFormSaleValue = function (sale, index) {
        this.form
            .get('sales')
            .get(index + '')
            .patchValue({
            dailySaleId: sale.dailySaleId,
            agent: sale.agentId,
            account: sale.podAccount,
            firstName: sale.firstName,
            lastName: sale.lastName,
            street: sale.street,
            street2: sale.street2,
            city: sale.city,
            state: sale.state,
            zip: sale.zip,
            status: sale.status,
            paidStatus: +sale.paidStatus,
            activityDate: this.calculateActivityDate(sale),
            saleDate: sale.saleDate,
            remarks: sale.remarks
        });
    };
    DailySaleTrackerComponent.prototype.prepareModel = function (form, index) {
        if (index === void 0) { index = null; }
        return {
            dailySaleId: form.value.dailySaleId,
            agentId: form.value.agent,
            campaignId: this.resolveClientId(index),
            clientId: this.userInfo.sessionUser.sessionClient,
            firstName: form.value.firstName,
            lastName: form.value.lastName,
            street: form.value.street,
            street2: form.value.street2,
            city: form.value.city,
            state: form.value.state,
            zip: form.value.zip,
            status: form.value.status,
            paidStatus: form.value.paidStatus,
            paidDate: this.setActivityDateProperty(form.value.paidStatus, 'paidDate', index),
            chargeDate: this.setActivityDateProperty(form.value.paidStatus, 'chargeDate', index),
            repaidDate: this.setActivityDateProperty(form.value.paidStatus, 'repaidDate', index),
            remarks: this.prepareRemarks(index),
            saleDate: form.value.saleDate,
            podAccount: form.value.account
        };
    };
    DailySaleTrackerComponent.prototype.resolveClientId = function (saleIndex) {
        if (this.selectedCampaign.campaignId > 0)
            return this.selectedCampaign.campaignId;
        return this.store.sales[saleIndex].campaignId;
    };
    DailySaleTrackerComponent.prototype.prepareRemarks = function (index) {
        var _this = this;
        var result = [];
        if (this.form.value.remarks == null)
            return [];
        this.form.value.remarks.forEach(function (r) {
            result.push({
                remarkId: null,
                dailySaleId: _this.store.sales[index].dailySaleId,
                description: r,
                modifiedBy: _this.userInfo.id
            });
        });
        return result;
    };
    DailySaleTrackerComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-daily-sale-tracker',
            template: __webpack_require__(/*! ./daily-sale-tracker.component.html */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.html"),
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["trigger"])('detailExpand', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["state"])('collapsed', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["style"])({ height: '0px', minHeight: '0', display: 'none' })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["state"])('expanded', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["style"])({ height: '*' })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["transition"])('expanded <=> collapsed', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_17__["animate"])('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))
                ])
            ],
            providers: [_app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_18__["FloatBtnService"]],
            styles: [__webpack_require__(/*! ./daily-sale-tracker.component.scss */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_5__["AgentsService"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_8__["ClientService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_13__["CampaignService"],
            _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_9__["UserService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_6__["MessageService"],
            _daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_10__["DailySaleTrackerService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_11__["MatDialog"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_15__["FormBuilder"],
            _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_18__["FloatBtnService"]])
    ], DailySaleTrackerComponent);
    return DailySaleTrackerComponent;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts":
/*!******************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.service.ts ***!
  \******************************************************************/
/*! exports provided: DailySaleTrackerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DailySaleTrackerService", function() { return DailySaleTrackerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");






var DailySaleTrackerService = /** @class */ (function () {
    function DailySaleTrackerService(http, auth) {
        this.http = http;
        this.auth = auth;
        this.url = this.auth.apiUrl + "api";
    }
    DailySaleTrackerService.prototype.getDailySalesByDate = function (clientId, campaignId, startDate, endDate) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/campaigns/" + campaignId + "/from/" + startDate + "/to/" + endDate;
        return this.http.get(url);
    };
    DailySaleTrackerService.prototype.getDailySalesByAgent = function (clientId, agentId, startDate, endDate) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/agents/" + agentId + "/from/" + startDate + "/to/" + endDate;
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.createDailySale = function (clientId, dto) {
        var url = this.url + "/clients/" + clientId + "/daily-sales";
        return this.http.post(url, dto);
    };
    DailySaleTrackerService.prototype.checkUniquePodAccount = function (account) {
        var url = this.url + "/pods/" + account;
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.updateDailySale = function (clientId, dto) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/" + dto.dailySaleId;
        return this.http.post(url, dto)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.deleteDailySale = function (clientId, dailySaleId) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/" + dailySaleId;
        return this.http.delete(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.saveSaleWithContactInfo = function (clientId, campaignId, saleWithContact) {
        var url = this.url + "/clients/" + clientId + "/campaigns/" + campaignId + "/daily-sales";
        return this.http.post(url, saleWithContact);
    };
    DailySaleTrackerService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            // client side network error
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            // backend returned server error
            console.error("\n        Server returned error code " + error.status + ": " + error.error + "\n      ");
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])('There was a network error. Please try again.');
    };
    DailySaleTrackerService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], _app_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], DailySaleTrackerService);
    return DailySaleTrackerService;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/add-sale.component.html":
/*!********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/add-sale.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-header\">\n    <h3 class=\"modal-title\">\n        {{existingSale != null && existingSale.dailySaleId > 0 ? 'Edit Sale' : 'Add Sale'}}\n    </h3>\n    <span class=\"clickable float-right\">\n        <i class=\"material-icons\" (click)=\"onNoClick()\">clear</i>\n    </span>\n</div>\n<div class=\"modal-body\" *ngIf=\"!showEditContactForm\">\n    <p class=\"text-muted\">\n        All fields denoted with * are required.\n    </p>\n    <form [formGroup]=\"form\" class=\"add-daily-sale-form\">\n\n        <!-- CAMPAIGN ROW -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <!-- <input matInput placeholder=\"Campaign\" [value]=\"selectedCampaign.name\" /> -->\n                    <mat-select placeholder=\"Campaign\" formControlName=\"campaign\" required>\n                        <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                            {{c.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('campaign').hasError('required') && (form.get('campaign').touched || submitted)\">\n                        Please select a campaign\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- AGENT AND SALE DATE -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Agent\" formControlName=\"agent\" required>\n                        <mat-option *ngFor=\"let a of agents\" [value]=\"a.agentId\">\n                            {{a.firstName}} {{a.lastName}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('agent').hasError('required') && (form.get('agent').touched || submitted)\">\n                        Please select an Agent\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"saleDatePicker\" placeholder=\"Sale Date\" formControlName=\"saleDate\"\n                        required />\n                    <mat-datepicker-toggle matSuffix [for]=\"saleDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #saleDatePicker></mat-datepicker>\n                    <mat-error *ngIf=\"form.get('saleDate').hasError('required') && (form.get('saleDate').touched || submitted)\">\n                        Please select a sale date\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput placeholder=\"POD/Account\" formControlName=\"account\" required />\n                    <mat-error *ngIf=\"form.get('account').hasError('required') && (form.get('account').touched || submitted)\">\n                        Please enter a POD or Account No\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Sale Status\" formControlName=\"status\" required>\n                        <mat-option *ngFor=\"let s of statuses\" [value]=\"s.saleStatusId\">\n                            {{s.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('status').hasError('required') && (form.get('status').touched || submitted)\">\n                        Please select a status\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Paid Status\" formControlName=\"paidStatus\" required>\n                        <mat-option value=\"0\">Unpaid</mat-option>\n                        <mat-option value=\"1\">Paid</mat-option>\n                        <mat-option value=\"2\">Chargeback</mat-option>\n                        <mat-option value=\"3\">Repaid</mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('paidStatus').hasError('required') && (form.get('paidStatus').touched || submitted)\">\n                        Please select paid status\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"paidDatePicker\" formControlName=\"paidDate\" placeholder=\"Paid Date\" />\n                    <mat-datepicker-toggle matSuffix [for]=\"paidDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #paidDatePicker></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"chargebackDatePicker\" formControlName=\"chargeDate\" placeholder=\"Chargeback Date\" />\n                    <mat-datepicker-toggle matSuffix [for]=\"chargebackDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #chargebackDatePicker></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"repaidDatePicker\" formControlName=\"repaidDate\" placeholder=\"Repaid Date\" />\n                    <mat-datepicker-toggle matSuffix [for]=\"repaidDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #repaidDatePicker></mat-datepicker>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <ng-container *ngIf=\"existingSale?.contact != null; else addContactInfoLink\">\n            <div class=\"row my-4\">\n                <div class=\"col-md-12\">\n                    <span>Customer Information</span>\n                    <mat-divider></mat-divider>\n                </div>\n            </div>\n\n            <div class=\"row\" *ngIf=\"existingSale.contact != null\">\n                <div class=\"col-md-12 d-flex justify-content-between\">\n                    <div>\n                        <span class=\"font-weight-bold\">\n                            {{existingSale.contact.firstName}} {{existingSale.contact.lastName}}\n                        </span>\n                        <address>\n                            {{existingSale.contact.street}} <br />\n                            <ng-container *ngIf=\"existingSale.contact.street2 != null\">\n                                {{existingSale.contact.street2}} <br />\n                            </ng-container>\n                            {{existingSale.contact.city}} {{existingSale.contact.state}} {{existingSale.contact.zip}}\n                            <br /><br />\n                            <span class=\"font-weight-bold\">\n                                Date of Birth\n                            </span>\n                            <br />\n                            {{existingSale.contact.dob | date:'mediumDate'}}\n                            <br /><br />\n                            <span class=\"font-weight-bold\">Email</span>\n                            <br />\n                            {{existingSale.contact.email}}\n                        </address>\n                    </div>\n                    <div>\n                        <button type=\"button\" mat-button (click)=\"editContact(existingSale.contact)\">\n                            <mat-icon inline=\"true\">edit</mat-icon>\n                            <span>Edit</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </ng-container>\n        <ng-template #addContactInfoLink>\n            <div class=\"row my-4\">\n                <div class=\"col-md-12\">\n                    <span (click)=\"navigateToSaleDetail()\">Click here</span> to add contact info.\n                </div>\n            </div>\n        </ng-template>\n\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <mat-list formArrayName=\"remarks\">\n                    <div class=\"d-flex justify-content-between\">\n                        <h4 class=\"m-0\">\n                            Activity\n                        </h4>\n                        <span *ngIf=\"remarks.length\">\n                            <button type=\"button\" mat-stroked-button color=\"primary\" (click)=\"addRemark()\">\n                                Add Remark\n                            </button>\n                        </span>\n                    </div>\n\n                    <mat-form-field *ngIf=\"showAddRemarkInput\">\n                        <textarea matInput placeholder=\"Enter Remark\" #remarkField [formControl]=\"getRemarkFormControl()\"></textarea>\n                        <button mat-button type=\"button\" matSuffix mat-icon-button (click)=\"saveNewRemark()\">\n                            <mat-icon inline=\"true\">save</mat-icon>\n                        </button>\n                        <button mat-button type=\"button\" matSuffix mat-icon-button (click)=\"cancelNewRemark()\">\n                            <mat-icon inline=\"true\">clear</mat-icon>\n                        </button>\n                    </mat-form-field>\n                    <mat-list-item *ngFor=\"let r of remarks; let i=index\" [formGroupName]=\"i\" [matTooltip]=\"r.description\">\n                        <mat-icon mat-list-icon>note</mat-icon>\n                        <h4 mat-line>{{r.user.firstName}} {{r.user.lastName}}</h4>\n                        <p mat-line>{{r.description}}</p>\n                        <p mat-line>{{r.updatedAt | date}}</p>\n                        <mat-divider></mat-divider>\n                    </mat-list-item>\n                    <mat-list-item *ngIf=\"remarks.length < 1 && !showAddRemarkInput\" class=\"clickable\" (click)=\"addRemark()\">\n                        <mat-icon mat-list-icon>note_add</mat-icon>\n                        <h4 mat-line>Add a Remark</h4>\n                    </mat-list-item>\n\n                </mat-list>\n\n            </div>\n        </div>\n\n    </form>\n    <div class=\"float-right\">\n        <button mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button mat-raised-button (click)=\"saveDialog()\" color=\"primary\" [disabled]=\"form.invalid\">Save</button>\n    </div>\n</div>\n<div class=\"modal-body\" *ngIf=\"showEditContactForm\">\n    <div [formGroup]=\"contactForm\">\n        <div class=\"row\">\n            <div class=\"col-md-5\">\n                <mat-form-field class=\"w-100 mr-1\">\n                    <input matInput type=\"text\" formControlName=\"firstName\" placeholder=\"First Name\" required />\n                    <mat-error *ngIf=\"contactForm.get('firstName').hasError('required')\">\n                        Please enter contact first name.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-7\">\n                <mat-form-field class=\"w-100 ml-1\">\n                    <input matInput type=\"text\" formControlName=\"lastName\" placeholder=\"Last Name\" required />\n                    <mat-error *ngIf=\"contactForm.get('lastName').hasError('required')\">\n                        Please enter a contact last name.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-8\">\n                <mat-form-field class=\"w-100 mr-1\">\n                    <input matInput type=\"text\" formControlName=\"street\" placeholder=\"Street Address\" required />\n                    <mat-error *ngIf=\"contactForm.get('street').hasError('required')\">\n                        Please enter a street address.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-4\">\n                <mat-form-field class=\"w-100 ml-1\">\n                    <input matInput type=\"text\" formControlName=\"street2\" placeholder=\"Apt/Unit\" />\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field class=\"w-100 mr-1\">\n                    <input matInput type=\"text\" formControlName=\"city\" placeholder=\"City\" required />\n                    <mat-error *ngIf=\"contactForm.get('city').hasError('required')\">\n                        Please enter a city.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-2\">\n                <mat-form-field class=\"w-100 mx-1\">\n                    <mat-select placeholder=\"State\" formControlName=\"state\" required>\n                        <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">\n                            {{s.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"contactForm.get('state').hasError('required')\">\n                        Please select a state.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-4\">\n                <mat-form-field class=\"w-100 ml-1\">\n                    <input matInput type=\"text\" formControlName=\"zip\" placeholder=\"Zip\" required />\n                    <mat-error *ngIf=\"contactForm.get('zip').hasError('required')\">\n                        Please enter a zip code.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-4\">\n                <mat-form-field class=\"w-100 mr-1\">\n                    <input matInput type=\"text\" formControlName=\"phone\" placeholder=\"Phone\" required/>\n                    <mat-error *ngIf=\"contactForm.get('phone').hasError('required')\">\n                        Please enter a phone number.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-5\">\n                <mat-form-field class=\"w-100 mx-1\">\n                    <input matInput type=\"text\" formControlName=\"email\" placeholder=\"Email\" required />\n                    <mat-error *ngIf=\"contactForm.get('email').hasError('required')\">\n                        Please enter an email address.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-3\">\n                <mat-form-field class=\"w-100 ml-1\">\n                    <input matInput [matDatepicker]=\"dobPicker\" formControlName=\"dob\" placeholder=\"Date of Birth\" required />\n                    <mat-datepicker-toggle [for]=\"dobPicker\" matSuffix>\n                        <mat-icon>date_range</mat-icon>\n                    </mat-datepicker-toggle>\n                    <mat-datepicker #dobPicker></mat-datepicker>\n                    <mat-error *ngIf=\"contactForm.get('dob').hasError('required')\">\n                        Please pick a date of birth.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-12 d-flex justify-content-between\">\n                <button type=\"button\" mat-button (click)=\"cancelContactForm()\">\n                    <mat-icon inline=\"true\">reply</mat-icon>\n                    <span>Go Back</span>\n                </button>\n                <button type=\"button\" mat-button color=\"primary\" (click)=\"saveContactForm()\">\n                    <mat-icon inline=\"true\">save</mat-icon>\n                    <span>Save</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/add-sale.component.scss":
/*!********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/add-sale.component.scss ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".add-daily-sale-form mat-form-field {\n  display: block; }\n\n.add-daily-sale-form /deep/ .mat-form-field-infix {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvZGFpbHktc2FsZS10cmFja2VyL2RpYWxvZ3MvYWRkLXNhbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFHSSxlQUFjLEVBQ2Y7O0FBSkg7RUFPSSxZQUFXLEVBQ1oiLCJmaWxlIjoic3JjL2FwcC9kYWlseS1zYWxlLXRyYWNrZXIvZGlhbG9ncy9hZGQtc2FsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmFkZC1kYWlseS1zYWxlLWZvcm0ge1xuXG4gIG1hdC1mb3JtLWZpZWxkIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4gIC9kZWVwLyAubWF0LWZvcm0tZmllbGQtaW5maXgge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/add-sale.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/add-sale.component.ts ***!
  \******************************************************************/
/*! exports provided: AddSaleDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddSaleDialog", function() { return AddSaleDialog; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _app_contact_contact_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/contact/contact.service */ "./src/app/contact/contact.service.ts");











var AddSaleDialog = /** @class */ (function () {
    function AddSaleDialog(ref, data, fb, campaignService, router, contactService) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.campaignService = campaignService;
        this.router = router;
        this.contactService = contactService;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_7__["States"].$get();
        this.hideTooltip = false;
        this.showAddRemarkInput = false;
        this.showEditContactForm = false;
    }
    AddSaleDialog.prototype.ngOnInit = function () {
        var _this = this;
        this.newRemarks = [];
        this.today = moment__WEBPACK_IMPORTED_MODULE_5__();
        this.existingSale = this.data.sale || {};
        this.isExistingSale = this.data.sale != null;
        this.remarks = this.data.sale != null ? this.data.sale.remarks : [];
        this.sortRemarks();
        this.statuses = this.data.statuses;
        this.agents = this.data.agents;
        this.selectedCampaign = this.data.selectedCampaign;
        this.user = this.data.user;
        if (this.isExistingSale && this.data.campaigns == null) {
            this.campaignService.getCampaigns(this.user.sessionUser.sessionClient, false).then(function (results) {
                _this.campaigns = results;
            });
        }
        else {
            this.campaigns = lodash__WEBPACK_IMPORTED_MODULE_6__["cloneDeep"](this.data.campaigns);
            // remove "all campaigns" option, so that the user has to be pick a valid campaign
            lodash__WEBPACK_IMPORTED_MODULE_6__["remove"](this.campaigns, { campaignId: 0 });
        }
        this.createForm();
        this.submitted = true;
    };
    AddSaleDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    AddSaleDialog.prototype.saveDialog = function () {
        this.submitted = true;
        this.form.updateValueAndValidity();
        if (this.form.invalid)
            return;
        var dto = this.prepareModel();
        this.ref.close(dto);
    };
    AddSaleDialog.prototype.editContact = function (contact) {
        this.contactForm = this.createContactForm(contact);
        this.showEditContactForm = true;
    };
    AddSaleDialog.prototype.cancelContactForm = function () {
        this.contactForm.reset();
        this.showEditContactForm = false;
    };
    AddSaleDialog.prototype.saveContactForm = function () {
        var model = this.prepareContactModel();
        console.dir(model);
        /** SEND THE FORM AND SAVE TO API */
    };
    AddSaleDialog.prototype.navigateToSaleDetail = function () {
        this.router.navigate(['/new-sale-contact']);
        this.ref.close();
    };
    AddSaleDialog.prototype.getFormControlValidity = function (field) {
        return this.form.get(field).invalid && (this.form.get(field).touched || this.form.pending);
    };
    AddSaleDialog.prototype.getRemarkAgent = function (id) {
        return lodash__WEBPACK_IMPORTED_MODULE_6__["find"](this.agents, { agentId: id }) || {};
    };
    AddSaleDialog.prototype.addRemark = function () {
        this.remarkControl = this.fb.group({
            remarkId: this.fb.control(''),
            description: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        });
        this.form.get('remarks').push(this.remarkControl);
        this.showAddRemarkInput = true;
    };
    AddSaleDialog.prototype.getRemarkFormControl = function () {
        return this.remarkControl.get('description');
    };
    AddSaleDialog.prototype.saveNewRemark = function () {
        var dto = {
            remarkId: this.remarkControl.value.remarkId,
            dailySaleId: this.existingSale.dailySaleId,
            description: this.remarkControl.value.description,
            modifiedBy: this.user.id,
            createdAt: moment__WEBPACK_IMPORTED_MODULE_5__(),
            updatedAt: moment__WEBPACK_IMPORTED_MODULE_5__(),
            user: this.user
        };
        this.remarks.push(dto);
        this.newRemarks.push(dto);
        this.showAddRemarkInput = false;
        this.sortRemarks();
    };
    AddSaleDialog.prototype.cancelNewRemark = function () {
        this.showAddRemarkInput = false;
    };
    AddSaleDialog.prototype.handlePaidStatusChange = function (event) {
        var selection = +event.value;
        var newActivityValue;
        switch (selection) {
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].paid:
                newActivityValue = this.existingSale.paidDate || null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].chargeback:
                newActivityValue = this.existingSale.chargeDate || null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].repaid:
                newActivityValue = this.existingSale.repaidDate || null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].unpaid:
            default:
                newActivityValue = null;
                break;
        }
        this.form.patchValue({ activityDate: newActivityValue });
    };
    AddSaleDialog.prototype.createContactForm = function (contact) {
        if (contact === void 0) { contact = {}; }
        return this.fb.group({
            contactId: this.fb.control(contact.contactId || ''),
            prefix: this.fb.control(contact.prefix || ''),
            firstName: this.fb.control(contact.firstName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            lastName: this.fb.control(contact.lastName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            suffix: this.fb.control(contact.suffix || ''),
            street: this.fb.control(contact.street || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            street2: this.fb.control(contact.street2 || ''),
            city: this.fb.control(contact.city || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            state: this.fb.control(contact.state || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            zip: this.fb.control(contact.zip || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            email: this.fb.control(contact.email || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            phone: this.fb.control(contact.phone || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            fax: this.fb.control(contact.fax || ''),
            ssn: this.fb.control(contact.ssn || ''),
            dob: this.fb.control(contact.dob || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        });
    };
    AddSaleDialog.prototype.prepareContactModel = function () {
        var form = this.contactForm.value;
        return {
            contactId: form.contactId,
            firstName: form.firstName,
            lastName: form.lastName,
            street: form.street,
            street2: form.street2,
            city: form.city,
            state: form.state,
            zip: form.zip,
            email: form.email,
            phone: form.phone,
            fax: form.fax,
            ssn: form.ssn,
            clientId: this.user.sessionUser.sessionClient,
            prefix: form.prefix,
            suffix: form.suffix,
            dob: form.dob
        };
    };
    AddSaleDialog.prototype.createForm = function () {
        var campaignValue = this.existingSale.campaignId != null && this.existingSale.campaignId > 0
            ? this.existingSale.campaignId
            : this.selectedCampaign.campaignId > 0
                ? this.selectedCampaign.campaignId
                : '';
        this.form = this.fb.group({
            saleDate: this.fb.control(this.existingSale.saleDate || this.today, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            agent: this.fb.control(this.existingSale.agentId || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            campaign: this.fb.control({ value: campaignValue, disabled: this.isExistingSale }, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            account: this.fb.control(this.existingSale.podAccount || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            firstName: this.fb.control(this.existingSale.firstName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            lastName: this.fb.control(this.existingSale.lastName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            address: this.fb.control(this.existingSale.street || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            address2: this.fb.control(this.existingSale.street2 || ''),
            city: this.fb.control(this.existingSale.city || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            state: this.fb.control(this.existingSale.state || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            zip: this.fb.control(this.existingSale.zip || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            status: this.fb.control(this.existingSale.status || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            paidStatus: this.fb.control(this.formatPaidStatus() || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            paidDate: this.fb.control(this.existingSale.paidDate || ''),
            chargeDate: this.fb.control(this.existingSale.chargeDate || ''),
            repaidDate: this.fb.control(this.existingSale.repaidDate || ''),
            remarks: this.createRemarksFormArray()
        });
    };
    AddSaleDialog.prototype.createRemarksFormArray = function () {
        var _this = this;
        var result = this.fb.array([]);
        this.remarks.forEach(function (r) {
            result.push(_this.fb.group({
                remarkId: _this.fb.control(r.remarkId),
                description: _this.fb.control(r.description || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
            }));
        });
        return result;
    };
    AddSaleDialog.prototype.prepareModel = function () {
        return {
            dailySaleId: this.existingSale.dailySaleId || null,
            agentId: this.form.value.agent,
            campaignId: this.form.value.campaign,
            clientId: this.user.sessionUser.sessionClient,
            firstName: this.form.value.firstName,
            lastName: this.form.value.lastName,
            street: this.form.value.address,
            street2: this.form.value.address2,
            city: this.form.value.city,
            state: this.form.value.state,
            zip: this.form.value.zip,
            status: this.form.value.status,
            paidStatus: this.form.value.paidStatus,
            paidDate: this.setActivityDateProperty(this.form.value.paidStatus, 'paidDate'),
            chargeDate: this.setActivityDateProperty(this.form.value.paidStatus, 'chargeDate'),
            repaidDate: this.setActivityDateProperty(this.form.value.paidStatus, 'repaidDate'),
            saleDate: this.form.value.saleDate,
            podAccount: this.form.value.account,
            remarks: this.newRemarks
        };
    };
    AddSaleDialog.prototype.formatPaidStatus = function () {
        return this.existingSale.paidStatus != null ? this.existingSale.paidStatus + '' : null;
    };
    AddSaleDialog.prototype.calculateActivityDate = function (sale) {
        var activityDate;
        switch (sale.paidStatus) {
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].paid:
                activityDate = sale.paidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].chargeback:
                activityDate = sale.chargeDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].repaid:
                activityDate = sale.repaidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].unpaid:
            default:
                activityDate = null;
                break;
        }
        return activityDate;
    };
    AddSaleDialog.prototype.setActivityDateProperty = function (formPaidStatus, modelField) {
        var actMo = moment__WEBPACK_IMPORTED_MODULE_5__(this.form.value.activityDate);
        if (modelField == 'paidDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].paid && actMo.isValid()) {
            return actMo.format('YYYY-MM-DD');
        }
        else if (modelField == 'chargeDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].chargeback && actMo.isValid()) {
            return actMo.format('YYYY-MM-DD');
        }
        else if (modelField == 'repaidDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].repaid && actMo.isValid()) {
            return actMo.format('YYYY-MM-DD');
        }
        return this.existingSale[modelField] || null;
    };
    AddSaleDialog.prototype.sortRemarks = function () {
        return lodash__WEBPACK_IMPORTED_MODULE_6__["orderBy"](this.remarks, ['updatedAt'], ['desc']);
    };
    AddSaleDialog = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-add-daily-sale',
            template: __webpack_require__(/*! ./add-sale.component.html */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.html"),
            styles: [__webpack_require__(/*! ./add-sale.component.scss */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_8__["CampaignService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
            _app_contact_contact_service__WEBPACK_IMPORTED_MODULE_10__["ContactService"]])
    ], AddSaleDialog);
    return AddSaleDialog;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/delete-sale.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h5>Delete this sale?</h5>\n<p>Deleting a sale cannot be undone.</p>\n\n<div class=\"row justify-content-between\">\n  <button mat-button (click)=\"onNoClick()\">No</button>\n  <button mat-button color=\"primary\" [mat-dialog-close]=\"true\">Delete</button>\n</div>\n"

/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts ***!
  \*********************************************************************/
/*! exports provided: DeleteSaleDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteSaleDialog", function() { return DeleteSaleDialog; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var DeleteSaleDialog = /** @class */ (function () {
    function DeleteSaleDialog(ref) {
        this.ref = ref;
    }
    DeleteSaleDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    DeleteSaleDialog = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'delete-sale-dialog',
            template: __webpack_require__(/*! ./delete-sale.component.html */ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.html")
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"]])
    ], DeleteSaleDialog);
    return DeleteSaleDialog;
}());



/***/ }),

/***/ "./src/app/dashboard/chart-js-content.ts":
/*!***********************************************!*\
  !*** ./src/app/dashboard/chart-js-content.ts ***!
  \***********************************************/
/*! exports provided: ChartJsContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartJsContent", function() { return ChartJsContent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var ChartJsContent = /** @class */ (function () {
    function ChartJsContent(_template) {
        this._template = _template;
    }
    ChartJsContent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
            selector: 'chart-js-content, [chartJsContent], [chart-js-content]'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"]])
    ], ChartJsContent);
    return ChartJsContent;
}());



/***/ }),

/***/ "./src/app/dashboard/dashboard.component.html":
/*!****************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-content *ngIf=\"!isMobileLayout\">\n                    <div class=\"d-flex justify-content-between\">\n                        <h3 class=\"m-0\">Sales Analysis</h3>\n                        <div class=\"d-flex\">\n                            <ng-container *ngIf=\"(user|async).role.role >= roleType.companyAdmin && !isMobileLayout\">\n                                <mat-form-field class=\"mr-2\">\n                                    <mat-label>Viewing:</mat-label>\n                                    <mat-select [value]=\"selectedAgent.agentId\" (selectionChange)=\"handleAgentChange($event)\">\n                                        <mat-option *ngFor=\"let a of (agents|async)\" [value]=\"a.agentId\">\n                                            {{a.firstName}} {{a.lastName}}\n                                        </mat-option>\n                                    </mat-select>\n                                </mat-form-field>\n                            </ng-container>\n                            <button mat-button type=\"button\" color=\"primary\" (click)=\"showAddSaleDialog()\">\n                                <mat-icon inline=\"true\">add_circle</mat-icon> SALE\n                            </button>\n                        </div>\n                    </div>\n                </mat-card-content>\n                <mat-card-content [class.justify-content-between]=\"isMobileLayout\" *ngIf=\"isMobileLayout\">\n                    <ng-container *ngIf=\"(user|async).role.role >= roleType.companyAdmin\">\n                        <mat-form-field>\n                            <mat-select [value]=\"selectedAgent.agentId\" (selectionChange)=\"handleAgentChange($event)\" placeholder=\"Currently Viewing:\">\n                                <mat-option *ngFor=\"let a of (agents|async)\" [value]=\"a.agentId\">\n                                    {{a.firstName}} {{a.lastName}}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </ng-container>\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-8\">\n            <mat-card>\n                <mat-card-content>\n                    <canvas #chart>{{chartData}}</canvas>\n                </mat-card-content>\n                <mat-card-actions>\n                    <div class=\"row px-4\">\n                        <div class=\"col-md-6\" [ngClass]=\"{'d-flex justify-content-center': isMobileLayout}\">\n                            <mat-form-field>\n                                <input matInput [matDatepicker]=\"startDatepicker\" placeholder=\"Start Date\" [value]=\"startDate\"\n                                    (dateInput)=\"updateDashboard($event)\" [max]=\"endDate\" />\n                                <mat-datepicker-toggle matSuffix [for]=\"startDatepicker\"></mat-datepicker-toggle>\n                                <mat-datepicker #startDatepicker></mat-datepicker>\n                            </mat-form-field>\n                        </div>\n\n                        <div class=\"col-md-6\" [ngClass]=\"{'d-flex justify-content-center': isMobileLayout}\">\n                            <mat-form-field [class.float-right]=\"!isMobileLayout\">\n                                <input matInput [matDatepicker]=\"endDatepicker\" placeholder=\"End Date\" [value]=\"endDate\"\n                                    (dateInput)=\"updateDashboard($event, false)\" [min]=\"startDate\" />\n                                <mat-datepicker-toggle matSuffix [for]=\"endDatepicker\"></mat-datepicker-toggle>\n                                <mat-datepicker #endDatepicker></mat-datepicker>\n                            </mat-form-field>\n                        </div>\n\n                    </div>\n                </mat-card-actions>\n            </mat-card>\n        </div>\n        <div class=\"col-md-4 sale-stream-container\">\n            <h5 class=\"mb-0\">Filter: </h5>\n            <div class=\"card mb-2\">\n                <mat-button-toggle-group #filterBy=\"matButtonToggleGroup\" (change)=\"handleFilter($event)\" [value]=\"selectedFilter\">\n                    <mat-button-toggle value=\"-1\">\n                        None\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"0\">\n                        Unpaid\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"1\">\n                        Paid\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"2\">\n                        Chargeback\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"3\">\n                        Repaid\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div [class.sale-stream]=\"!isMobileLayout\">\n                <div class=\"card my-1\" *ngFor=\"let s of (sales|async)\">\n                    <div class=\"d-flex m-2\">\n                        <div class=\"mx-2\">\n                            <div><mat-icon>person</mat-icon></div>\n                            <div *ngIf=\"isSalePaid(s.paidStatus)\" class=\"text-success\"><mat-icon>monetization_on</mat-icon></div>\n                        </div>\n                        <div class=\"flex-grow-1\">\n                            <h5 class=\"card-title\">{{s.firstName}} {{s.lastName}}</h5>\n                            <div class=\"card-text\">\n                                <div>\n                                    <span class=\"font-weight-bold\">Status:</span><br />\n                                    {{getStatus(s.status).name}}\n                                </div>\n                                <div *ngIf=\"isSalePaid(s.paidStatus)\" class=\"text-muted font-italic\">\n                                    <span>Paid:</span>\n                                    <ng-container *ngIf=\"s.paidDate != null; else noPaidDate\">{{s.paidDate | date:'shortDate'}}</ng-container>\n                                    <ng-template #noPaidDate>[No Paid Date]</ng-template>\n                                </div>\n                                <address class=\"mt-3\">\n                                    {{s.street}} {{s.street2}} <br />\n                                    {{s.city}}, {{s.state}} {{s.zip}}\n                                </address>\n                            </div>\n                        </div>\n                        <div>\n                            <span class=\"badge badge-pill\" [ngClass]=\"getBadgeColorFromPaidStatus(s.paidStatus)\">{{getPaidStatus(s.paidStatus)}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.scss":
/*!****************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".sale-stream {\n  max-height: 392px;\n  overflow-y: scroll; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtFQUNJLGtCQUFpQjtFQUNqQixtQkFBa0IsRUFDckIiLCJmaWxlIjoic3JjL2FwcC9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uc2FsZS1zdHJlYW0tY29udGFpbmVyIHtcbiAgICBcbn1cblxuLnNhbGUtc3RyZWFtIHtcbiAgICBtYXgtaGVpZ2h0OiAzOTJweDtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG59Il19 */"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.ts":
/*!**************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.ts ***!
  \**************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/core/agents/agents.service */ "./src/app/core/agents/agents.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/dashboard/dialogs/add-sale-dialog.component */ "./src/app/dashboard/dialogs/add-sale-dialog.component.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/src/chart.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/cdk/layout */ "./node_modules/@angular/cdk/esm5/layout.es5.js");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");

















var DashboardComponent = /** @class */ (function () {
    function DashboardComponent(session, agentsService, /** we are going to deprecate this soon... 10/22/18 */ dialog, campaignService, clientService, dailySaleService, breakpoints, msg, rend, agentService) {
        var _this = this;
        this.session = session;
        this.agentsService = agentsService;
        this.dialog = dialog;
        this.campaignService = campaignService;
        this.clientService = clientService;
        this.dailySaleService = dailySaleService;
        this.breakpoints = breakpoints;
        this.msg = msg;
        this.rend = rend;
        this.agentService = agentService;
        this.selectedFilter = '-1';
        this.roleType = {
            systemAdmin: 7,
            companyAdmin: 6,
            humanResources: 5,
            regManager: 4,
            manager: 3,
            supervisor: 2,
            user: 1
        };
        this.store = {};
        this.sales$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        breakpoints.observe([
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_14__["Breakpoints"].HandsetLandscape,
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_14__["Breakpoints"].HandsetPortrait
        ]).subscribe(function (result) {
            _this.isMobileLayout = result.matches;
        });
        this.sales = this.sales$.asObservable();
    }
    DashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        // we must set the time to 0:00 in order to correctly do calculations, because momentjs 
        // will calculate and round the hours & minutes to the closest day otherwise. 
        var today = moment__WEBPACK_IMPORTED_MODULE_2__().hours(0).minutes(0).seconds(0);
        this.startDate = today.clone().subtract(1, 'week');
        this.endDate = today.clone().hours(11);
        this.selectedAgent = {};
        this.session.getUserItem().subscribe(function (u) {
            _this.store.user = u;
            _this.user = Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(u);
            if (u.role.role >= _this.roleType.companyAdmin) {
                _this.agentsService.getAgentsByClient(u.sessionUser.sessionClient)
                    .subscribe(function (users) {
                    _this.store.users = users;
                    _this.store.agents = _this.mapUserToAgent(users);
                    _this.agents = Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(_this.store.agents);
                    _this.selectedAgent = _this.store.agents[0];
                    _this.loadSales();
                });
            }
            else if (u.role.role == _this.roleType.manager || u.role.role == _this.roleType.supervisor) {
                /** TODO: FIGURE OUT WHAT NEEDS TO HAPPEN HERE... HOW DO I GET JUST AGENTS FOR THIS USER */
            }
            else {
                if (_this.store.user.agent == null) {
                    _this.agentService.getAgentByUser(_this.store.user.sessionUser.sessionClient, _this.store.user.id)
                        .subscribe(function (agent) {
                        _this.selectedAgent = agent;
                        /** After we've gotten a selected agent, let's load the sales */
                        _this.loadSales();
                    });
                }
                else {
                    _this.loadSales();
                }
            }
        });
    };
    /**
     * This is our beef cake, work horse method right here that does all the heavy lifting.
     *
     * Make sure the user is set and selected agent is set before calling this.
     */
    DashboardComponent.prototype.loadSales = function () {
        var _this = this;
        this.campaignService.getCampaignsByAgent(this.store.user.sessionUser.sessionClient, this.selectedAgent.agentId)
            .subscribe(function (campaigns) {
            _this.store.campaigns = campaigns;
            _this.campaigns = Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(campaigns);
        });
        this.dailySaleService.getDailySalesByAgent(this.store.user.sessionUser.sessionClient, this.selectedAgent.agentId, this.startDate.toDateString(), this.endDate.toDateString()).subscribe(function (sales) {
            _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_3__["orderBy"](sales, ['saleDate'], ['desc']);
            _this.sales$.next(_this.store.sales);
            _this.clientService.getSaleStatuses(_this.store.user.sessionUser.sessionClient).subscribe(function (statuses) {
                _this.store.statuses = statuses;
                _this.createChart(sales);
            });
        });
    };
    DashboardComponent.prototype.ngAfterContentInit = function () {
        var chart = this.rend.createElement('canvas');
        chart.innerHTML = chart;
        // this.portal = new TemplatePortal(this.chartRef.nativeElement, this.viewContainerRef, chart);
    };
    DashboardComponent.prototype.addChartElement = function () {
    };
    DashboardComponent.prototype.mapUserToAgent = function (users) {
        var result = [];
        for (var i = 0; i < users.length; i++) {
            if (users[i].agent == null)
                continue;
            result.push(users[i].agent);
        }
        return result;
    };
    DashboardComponent.prototype.getStatus = function (statusId) {
        if (statusId == null)
            return { name: null, clientId: null, saleStatusId: null, isActive: null };
        return (lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.store.statuses, { saleStatusId: statusId }) || {
            name: null,
            clientId: null,
            saleStatusId: null,
            isActive: null
        });
    };
    DashboardComponent.prototype.getPaidStatus = function (paidStatusId) {
        if (paidStatusId == null)
            return null;
        var result;
        switch (paidStatusId) {
            case _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].paid:
                result = 'Paid';
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].repaid:
                result = 'Repaid';
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].chargeback:
                result = 'Chargeback';
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].unpaid:
            default:
                result = 'Unpaid';
                break;
        }
        return result;
    };
    DashboardComponent.prototype.isSalePaid = function (paidStatus) {
        if (paidStatus == null)
            return false;
        return paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].paid || paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].repaid;
    };
    DashboardComponent.prototype.getBadgeColorFromPaidStatus = function (payStatus) {
        if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].unpaid) {
            return 'badge-warning';
        }
        else if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].paid) {
            return 'badge-success';
        }
        else if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].chargeback) {
            return 'badge-danger';
        }
        else if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].repaid) {
            return 'badge-success';
        }
    };
    DashboardComponent.prototype.createChart = function (sales) {
        var chartDate = this.startDate.clone();
        var labels = [], suggestedMax = 0;
        var numDays = this.calculateDuration();
        var _loop_1 = function (i) {
            var checkDate = chartDate.clone().add(i, 'days');
            labels.push(checkDate.format('l'));
            var salesCount = lodash__WEBPACK_IMPORTED_MODULE_3__["filter"](sales, function (s) {
                return moment__WEBPACK_IMPORTED_MODULE_2__(s.saleDate).isSame(checkDate, 'day');
            }).length;
            if (salesCount > suggestedMax)
                suggestedMax = salesCount + 3;
        };
        for (var i = 0; i <= numDays; i++) {
            _loop_1(i);
        }
        this.createNewChart(suggestedMax, labels, sales);
    };
    DashboardComponent.prototype.createNewChart = function (suggestedMax, labels, sales) {
        this.chartData = new chart_js__WEBPACK_IMPORTED_MODULE_13__["Chart"](this.chartRef.nativeElement, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: this.createSaleDataArray(sales)
            },
            options: {
                scales: {
                    xAxes: [{ stacked: true }],
                    yAxes: [
                        {
                            stacked: true,
                            beginAtZero: true,
                            ticks: {
                                suggestedMax: suggestedMax,
                                min: 0,
                                stepSize: 1
                            }
                        }
                    ]
                }
            }
        });
    };
    DashboardComponent.prototype.updateAngularChartView = function () {
        this.vc.detach();
        this.vc.insert(this.chartTemplate.createEmbeddedView(null));
    };
    DashboardComponent.prototype.updateChartDatasets = function (sales) {
        // TODO: Chart.js Angular bug where the dom element doesn't actually get removed and unable to properly update 
        // the chart.
        this.chartData.clear();
        this.chartData.destroy();
        var chartDate = this.startDate.clone();
        var labels = [];
        var suggestedMax = 0;
        var numDays = this.calculateDuration();
        var _loop_2 = function (i) {
            var checkDate = chartDate.clone().add(i, 'days');
            labels.push(checkDate.format('l'));
            var salesCount = lodash__WEBPACK_IMPORTED_MODULE_3__["filter"](sales, function (s) {
                return moment__WEBPACK_IMPORTED_MODULE_2__(s.saleDate).isSame(checkDate, 'day');
            }).length;
            if (salesCount > suggestedMax)
                suggestedMax = salesCount + 3;
        };
        for (var i = 0; i <= numDays; i++) {
            _loop_2(i);
        }
        this.createNewChart(suggestedMax, labels, sales);
    };
    DashboardComponent.prototype.createSaleDataArray = function (sales) {
        var _this = this;
        var chartDate = this.startDate.clone();
        var salesData = [];
        this.store.statuses.forEach(function (s) {
            var columnData = {
                label: s.name,
                data: [],
                backgroundColor: _this.randomColor()
            };
            var numDays = _this.calculateDuration();
            var _loop_3 = function (i) {
                var checkDate = chartDate.clone().add(i, 'days');
                var filteredSales = lodash__WEBPACK_IMPORTED_MODULE_3__["filter"](sales, function (sale) {
                    return sale.status == s.saleStatusId && moment__WEBPACK_IMPORTED_MODULE_2__(sale.saleDate).isSame(checkDate, 'day');
                });
                columnData.data.push({
                    x: checkDate.format('l'),
                    y: filteredSales.length || 0
                });
            };
            // loop through seven days
            for (var i = 0; i <= numDays; i++) {
                _loop_3(i);
            }
            salesData.push(columnData);
        });
        return salesData;
    };
    /**
     * Custom method to find the duration including the start/end dates to display on the chart.
     *
     */
    DashboardComponent.prototype.calculateDuration = function () {
        var start = this.startDate.clone();
        var end = this.endDate.clone();
        return end.diff(start, 'days');
    };
    DashboardComponent.prototype.randomColor = function () {
        var r = Math.floor(Math.random() * 255);
        var g = Math.floor(Math.random() * 255);
        var b = Math.floor(Math.random() * 255);
        return "rgba(" + r + ", " + g + ", " + b + ", 0.5)";
    };
    DashboardComponent.prototype.updateDashboard = function (event, isStart) {
        var _this = this;
        if (event === void 0) { event = null; }
        if (isStart === void 0) { isStart = true; }
        if (event != null && event.value != null) {
            if (isStart) {
                this.startDate = moment__WEBPACK_IMPORTED_MODULE_2__(event.value).hours(0).minutes(0).seconds(0);
            }
            else {
                this.endDate = moment__WEBPACK_IMPORTED_MODULE_2__(event.value).hours(11).minutes(0).seconds(0);
            }
        }
        var startDate = this.startDate.clone().toDateString();
        var endDate = this.endDate.clone().toDateString();
        this.dailySaleService
            .getDailySalesByAgent(this.store.user.id, this.selectedAgent.agentId, startDate, endDate)
            .subscribe(function (sales) {
            _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_3__["orderBy"](sales, ['saleDate'], ['desc']);
            _this.handleFilter();
        });
    };
    DashboardComponent.prototype.handleAgentChange = function (event) {
        this.selectedAgent = lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.store.agents, { agentId: event.value });
        this.updateDashboard();
    };
    DashboardComponent.prototype.showAddSaleDialog = function () {
        var _this = this;
        this.dialog
            .open(_app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_9__["AgentAddSaleDialog"], {
            width: '600px',
            data: {
                user: this.store.user,
                agent: this.selectedAgent,
                campaigns: this.store.campaigns,
                statuses: this.store.statuses
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            var newSale = result.dailySaleId == null || result.dailySaleId < 1;
            _this.dailySaleService
                .createDailySale(_this.store.user.sessionUser.sessionClient, result)
                .subscribe(function (sale) {
                var existing = lodash__WEBPACK_IMPORTED_MODULE_3__["findIndex"](_this.store.sales, { dailySaleId: sale.dailySaleId });
                if (newSale) {
                    /** If the array in the store isn't instaniated */
                    if (_this.store.sales == null)
                        _this.store.sales = [];
                    _this.store.sales.push(sale);
                    _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_3__["orderBy"](_this.store.sales, ['saleDate'], ['desc']);
                }
                else {
                    _this.store.sales[existing] = sale;
                }
                _this.handleFilter();
            });
        });
    };
    DashboardComponent.prototype.handleFilter = function (event) {
        var _this = this;
        if (event === void 0) { event = null; }
        if (event != null)
            this.selectedFilter = event.value;
        if (this.selectedFilter == -1) {
            this.updateChartDatasets(this.store.sales);
            this.sales$.next(this.store.sales);
        }
        else {
            var filteredSales = lodash__WEBPACK_IMPORTED_MODULE_3__["filter"](this.store.sales, function (sale) {
                return sale.paidStatus == _this.selectedFilter;
            });
            this.updateChartDatasets(filteredSales);
            this.sales$.next(this.store.sales);
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('chart'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DashboardComponent.prototype, "chartRef", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('chartTemplate'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"])
    ], DashboardComponent.prototype, "chartTemplate", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('chartContainer', { read: 'ViewContainerRef' }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"])
    ], DashboardComponent.prototype, "vc", void 0);
    DashboardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-dashboard',
            template: __webpack_require__(/*! ./dashboard.component.html */ "./src/app/dashboard/dashboard.component.html"),
            styles: [__webpack_require__(/*! ./dashboard.component.scss */ "./src/app/dashboard/dashboard.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"],
            _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_7__["AgentsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_10__["CampaignService"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_11__["ClientService"],
            _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_12__["DailySaleTrackerService"],
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_14__["BreakpointObserver"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_15__["MessageService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"],
            _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_16__["AgentService"]])
    ], DashboardComponent);
    return DashboardComponent;
}());



/***/ }),

/***/ "./src/app/dashboard/dialogs/add-sale-dialog.component.html":
/*!******************************************************************!*\
  !*** ./src/app/dashboard/dialogs/add-sale-dialog.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h3 mat-dialog-title>\n    Add Sale\n    <button type=\"button\" class=\"float-right\" mat-icon-button (click)=\"onNoClick()\" tabindex=\"-1\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</h3>\n<p class=\"text-muted\">\n    All fields denoted with * are required.\n</p>\n<mat-dialog-content class=\"add-daily-sale-form\">\n    <form [formGroup]=\"form\">\n\n        <!-- CAMPAIGN AND SALE DATE -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Campaign\" formControlName=\"campaignId\" required>\n                        <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                            {{c.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('campaignId').hasError('required') && (form.get('campaignId').touched || submitted)\">\n                        Please select a campaign\n                    </mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input \n                        matInput\n                        [matDatepicker]=\"saleDatepicker\"\n                        placeholder=\"Sale Date\"\n                        formControlName=\"saleDate\"\n                        required\n                    />\n                    <mat-datepicker-toggle matSuffix [for]=\"saleDatepicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #saleDatepicker></mat-datepicker>\n                    <mat-error *ngIf=\"form.get('saleDate').hasError('required') && (form.get('saleDate').touched || submitted)\">\n                        Please select a sale date\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row my-4\">\n            <div class=\"col-md-12\">\n                <span>Customer Information</span>\n                <mat-divider></mat-divider>\n            </div>\n        </div>\n\n        <!-- POD/ACCOUNT -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"POD/Account\" formControlName=\"podAccount\" (blur)=\"checkUniqueAccount()\" required />\n                    <mat-error *ngIf=\"form.get('podAccount').hasError('required') && (form.get('podAccount').touched || submitted)\">\n                        Please enter a POD or Account No\n                    </mat-error>\n                    <mat-error *ngIf=\"form.get('podAccount').hasError('notUnique') && (form.get('podAccount').touched || submitted)\">\n                        Please enter a unique Account No\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER NAME  -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"First Name\" formControlName=\"firstName\" required />\n                    <mat-error *ngIf=\"form.get('firstName').hasError('required') && (form.get('firstName').touched || submitted)\">\n                        Please enter a first name\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Last Name\" formControlName=\"lastName\" required />\n                    <mat-error *ngIf=\"form.get('lastName').hasError('required') && (form.get('lastName').touched || submitted)\">\n                        Please enter a last name\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER ADDRESS -->\n        <div class=\"row\">\n            <div class=\"col-md-8\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Address\" formControlName=\"street\" required />\n                    <mat-error *ngIf=\"form.get('street').hasError('required') && (form.get('street').touched || submitted)\">\n                        Please enter a street address\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-4\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Apt/Suite/Unit\" formControlName=\"street2\" />\n                    <mat-hint>Optional</mat-hint>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER ADDRESS CON'T -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"City\" formControlName=\"city\" required />\n                    <mat-error *ngIf=\"form.get('city').hasError('required') && (form.get('city').touched || submitted)\">\n                        Please enter a city\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-3\">\n                <mat-form-field>\n                    <mat-select formControlName=\"state\" placeholder=\"State\" required>\n                        <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">\n                            {{s.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('state').hasError('required') && (form.get('state').touched || submitted)\">\n                        Please select a state\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-3\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Postal Code\" formControlName=\"zip\" required />\n                    <mat-error *ngIf=\"form.get('zip').hasError('required') && (form.get('zip').touched || submitted)\">\n                        Please enter a zip code\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n    </form>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button mat-button (click)=\"onNoClick()\">Cancel</button>\n    <button\n        mat-raised-button\n        (click)=\"saveAgentSale()\"\n        color=\"primary\"\n        [disabled]=\"form.invalid\"\n    >Save</button>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/dashboard/dialogs/add-sale-dialog.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/dashboard/dialogs/add-sale-dialog.component.scss ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".add-daily-sale-form mat-form-field {\n  display: block; }\n\n.add-daily-sale-form /deep/ .mat-form-field-infix {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvZGFzaGJvYXJkL2RpYWxvZ3MvYWRkLXNhbGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBR00sZUFBYyxFQUNmOztBQUpMO0VBT00sWUFBVyxFQUNaIiwiZmlsZSI6InNyYy9hcHAvZGFzaGJvYXJkL2RpYWxvZ3MvYWRkLXNhbGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uYWRkLWRhaWx5LXNhbGUtZm9ybSB7XG5cbiAgICBtYXQtZm9ybS1maWVsZCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gIFxuICAgIC9kZWVwLyAubWF0LWZvcm0tZmllbGQtaW5maXgge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICBcbiAgfVxuICAiXX0= */"

/***/ }),

/***/ "./src/app/dashboard/dialogs/add-sale-dialog.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/dashboard/dialogs/add-sale-dialog.component.ts ***!
  \****************************************************************/
/*! exports provided: AgentAddSaleDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentAddSaleDialog", function() { return AgentAddSaleDialog; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");









var AgentAddSaleDialog = /** @class */ (function () {
    function AgentAddSaleDialog(ref, data, fb, dailySaleService) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.dailySaleService = dailySaleService;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_7__["States"].$get();
    }
    AgentAddSaleDialog.prototype.ngOnInit = function () {
        this.agent = this.data.agent || {};
        this.campaigns = this.data.campaigns || [];
        this.user = this.data.user || {};
        this.statuses = this.data.statuses || [];
        this.createForm();
    };
    AgentAddSaleDialog.prototype.saveAgentSale = function () {
        this.submitted = true;
        if (this.form.invalid)
            return;
        this.ref.close(this.prepareModel());
    };
    AgentAddSaleDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    AgentAddSaleDialog.prototype.checkUniqueAccount = function () {
        var _this = this;
        var account = this.form.value.podAccount;
        if (account == null || account.length < 1)
            return;
        this.dailySaleService.checkUniquePodAccount(account)
            .subscribe(function (unique) {
            if (!unique)
                _this.form.controls.podAccount.setErrors({ 'notUnique': true });
        });
    };
    AgentAddSaleDialog.prototype.createForm = function () {
        this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroup"]({
            saleDate: this.fb.control(moment__WEBPACK_IMPORTED_MODULE_5__().format('YYYY-MM-DD'), [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            agentId: this.fb.control(this.agent.agentId, [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            campaignId: this.fb.control({ value: this.campaigns[0].campaignId, disabled: this.campaigns.length < 2 }, [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            podAccount: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            firstName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            lastName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            street: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            street2: this.fb.control(''),
            city: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            state: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            zip: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required])
        });
    };
    AgentAddSaleDialog.prototype.prepareModel = function () {
        var pendingStatusQuery = lodash__WEBPACK_IMPORTED_MODULE_6__["find"](this.statuses, function (s) {
            return s.name.toLowerCase() == 'pending';
        }).saleStatusId;
        return {
            dailySaleId: null,
            agentId: this.form.value.agentId,
            campaignId: this.form.value.campaignId,
            clientId: this.user.sessionUser.sessionClient,
            firstName: this.form.value.firstName,
            lastName: this.form.value.lastName,
            street: this.form.value.street,
            street2: this.form.value.street2,
            city: this.form.value.city,
            state: this.form.value.state,
            zip: this.form.value.zip,
            status: pendingStatusQuery || -1,
            paidStatus: _app_models__WEBPACK_IMPORTED_MODULE_2__["PaidStatusType"].unpaid,
            podAccount: this.form.value.podAccount,
            remarks: [],
            saleDate: this.form.value.saleDate
        };
    };
    AgentAddSaleDialog = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-agent-sale-dialog',
            template: __webpack_require__(/*! ./add-sale-dialog.component.html */ "./src/app/dashboard/dialogs/add-sale-dialog.component.html"),
            styles: [__webpack_require__(/*! ./add-sale-dialog.component.scss */ "./src/app/dashboard/dialogs/add-sale-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"],
            _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_8__["DailySaleTrackerService"]])
    ], AgentAddSaleDialog);
    return AgentAddSaleDialog;
}());



/***/ }),

/***/ "./src/app/directives/debounce-keyup.directive.ts":
/*!********************************************************!*\
  !*** ./src/app/directives/debounce-keyup.directive.ts ***!
  \********************************************************/
/*! exports provided: DebounceKeyupDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebounceKeyupDirective", function() { return DebounceKeyupDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");




var DebounceKeyupDirective = /** @class */ (function () {
    function DebounceKeyupDirective() {
        this.debounceKeyup = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.keyups = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    DebounceKeyupDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.keyups.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(250)).subscribe(function (e) { return _this.debounceKeyup.emit(e); });
    };
    DebounceKeyupDirective.prototype.keyup = function (event) {
        event.preventDefault();
        event.stopPropagation();
        this.keyups.next(event);
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DebounceKeyupDirective.prototype, "debounceKeyup", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('keyup', ['$event']),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
    ], DebounceKeyupDirective.prototype, "keyup", null);
    DebounceKeyupDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
            selector: '[debounceKeyup]'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], DebounceKeyupDirective);
    return DebounceKeyupDirective;
}());



/***/ }),

/***/ "./src/app/directives/directives.module.ts":
/*!*************************************************!*\
  !*** ./src/app/directives/directives.module.ts ***!
  \*************************************************/
/*! exports provided: DirectivesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectivesModule", function() { return DirectivesModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _debounce_keyup_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./debounce-keyup.directive */ "./src/app/directives/debounce-keyup.directive.ts");
/* harmony import */ var _let_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./let.directive */ "./src/app/directives/let.directive.ts");
/* harmony import */ var _scroll_lock_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scroll-lock.directive */ "./src/app/directives/scroll-lock.directive.ts");






var DirectivesModule = /** @class */ (function () {
    function DirectivesModule() {
    }
    DirectivesModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _debounce_keyup_directive__WEBPACK_IMPORTED_MODULE_3__["DebounceKeyupDirective"],
                _let_directive__WEBPACK_IMPORTED_MODULE_4__["LetDirective"],
                _scroll_lock_directive__WEBPACK_IMPORTED_MODULE_5__["ScrollLockDirective"]
            ],
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]],
            exports: [
                _debounce_keyup_directive__WEBPACK_IMPORTED_MODULE_3__["DebounceKeyupDirective"],
                _let_directive__WEBPACK_IMPORTED_MODULE_4__["LetDirective"],
                _scroll_lock_directive__WEBPACK_IMPORTED_MODULE_5__["ScrollLockDirective"]
            ]
        })
    ], DirectivesModule);
    return DirectivesModule;
}());



/***/ }),

/***/ "./src/app/directives/let.directive.ts":
/*!*********************************************!*\
  !*** ./src/app/directives/let.directive.ts ***!
  \*********************************************/
/*! exports provided: LetDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LetDirective", function() { return LetDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var LetDirective = /** @class */ (function () {
    function LetDirective(viewContainer, templateRef) {
        this.context = { ngLet: null };
        viewContainer.createEmbeddedView(templateRef, this.context);
    }
    Object.defineProperty(LetDirective.prototype, "ngLet", {
        set: function (value) {
            this.context.ngLet = value;
        },
        enumerable: true,
        configurable: true
    });
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], LetDirective.prototype, "ngLet", null);
    LetDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
            selector: '[ngLet]'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"]])
    ], LetDirective);
    return LetDirective;
}());



/***/ }),

/***/ "./src/app/directives/scroll-lock.directive.ts":
/*!*****************************************************!*\
  !*** ./src/app/directives/scroll-lock.directive.ts ***!
  \*****************************************************/
/*! exports provided: ScrollLockDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollLockDirective", function() { return ScrollLockDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var ScrollLockDirective = /** @class */ (function () {
    function ScrollLockDirective(elementRef, zone, cd) {
        var _this = this;
        this.zone = zone;
        this.cd = cd;
        // private methods
        this.handleEvent = function (event) {
            if (!_this.isTrappingEvent(event))
                return;
            // Regardless of whether or not we're going to allow this event to be applied
            // locally, we want to stop the event from propagating above this container. This way,
            // we make sure that an acestor instance higher up in the DOM, doesn't accidentally interfere
            // with the default behavior being applied locally.
            event.stopPropagation();
            if (_this.eventShouldBePrevented(event))
                event.preventDefault();
        };
        this.element = elementRef.nativeElement;
    }
    ScrollLockDirective.prototype.ngOnChanges = function () {
        this.trapScroll = this.parseBoolean(this.trapScroll);
        if (this.element.tabIndex >= -1) {
            this.element.tabIndex = -1;
        }
        else {
            this.element.removeAttribute('tabIndex');
        }
        this.cd.detectChanges();
    };
    ScrollLockDirective.prototype.ngOnDestroy = function () {
        this.element.removeEventListener('wheel', this.handleEvent, false);
    };
    ScrollLockDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            // NOTE: All modern browsers support "wheel". As such, we'll apply this
            // as a progressive enhancement and not worry about older browsers.
            _this.element.addEventListener("wheel", _this.handleEvent, false);
            _this.element.addEventListener("keydown", _this.handleEvent, false);
        });
    };
    ScrollLockDirective.prototype.eventShouldBePrevented = function (event) {
        var target = event.target;
        // check for embedded scrolling opportunities
        while (target !== this.element) {
            // if the event will cause scrolling in an embedded event, then we do not
            // want to prevent the default behavior of the event.
            if (this.isScrollableElement(target))
                return false;
            target = target.parentNode;
        }
        // if we've made it this far, there weren't any embedded scrollable elements to
        // inspect. As such, we can now examine the container. If the event will cause
        // scrolling in container element, then we DO NOT want to prevent
        return true;
    };
    ScrollLockDirective.prototype.isScrollableElement = function (element) {
        if (getComputedStyle(element).overflowY === 'hidden')
            return false;
        return element.scrollHeight !== element.clientHeight;
    };
    ScrollLockDirective.prototype.isTrappingEvent = function (event) {
        if (!this.trapScroll)
            return false;
        return true;
    };
    ScrollLockDirective.prototype.parseBoolean = function (value) {
        return value == true;
    };
    ScrollLockDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
            selector: '[scrollLock]',
            inputs: ['trapScroll']
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], ScrollLockDirective);
    return ScrollLockDirective;
}());



/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.component.html":
/*!************************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<button\n  mat-fab\n  [ngClass]=\"{'vfb-resting': !(isOpen | async), 'vfb-open': (isOpen | async), 'bottom-left':bottomLeft, 'bottom-right':bottomRight, 'top-left':topLeft, 'top-right':topRight}\"\n  [attr.color]=\"colorType\"\n  color=\"accent\"\n  [attr.disabled]=\"disabled\"\n  (click)=\"onClick()\"\n>\n  <mat-icon [attr.aria-label]=\"ariaLabel\">{{matIcon}}</mat-icon>\n</button>\n"

/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.component.scss":
/*!************************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*-------------------------------*\\\n  #VARS\n\\*-------------------------------*/\n/*-------------------------------*\\\n  #BASE | Raw Styles\n\\*-------------------------------*/\n/**\n * CORE BUTTON STYLES\n */\n.top-left, .top-right, .bottom-left, .bottom-right {\n  margin: 25px;\n  position: fixed;\n  white-space: nowrap; }\n/*-------------------------------*\\\n  #BASE | Modifiers\n\\*-------------------------------*/\n.top-left {\n  left: 0;\n  top: 0; }\n.top-right {\n  right: 0;\n  top: 0; }\n.bottom-left {\n  left: 0;\n  bottom: 0; }\n.bottom-right {\n  right: 0;\n  bottom: 0; }\n/*------------------------------------*\\\n    #BUTTONS | Modifiers\n\\*------------------------------------*/\n.vfb-resting, .vfb-active {\n  -webkit-transform: scale(1) rotate(360deg);\n  transform: scale(1) rotate(360deg);\n  transition: -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1); }\n.vfb-open {\n  -webkit-transform: scale(1) rotate(45deg);\n  transform: scale(1) rotate(45deg);\n  transition: -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvZmFiLWZsb2F0LWJ0bi9mYWItZmxvYXQtYnRuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBOzttQ0FFbUM7QUFLbkM7O21DQUVtQztBQUVuQzs7R0FFRztBQUNIO0VBQ0UsYUFYb0I7RUFZcEIsZ0JBQWU7RUFDZixvQkFBbUIsRUFDcEI7QUFHRDs7bUNBRW1DO0FBRW5DO0VBRUUsUUFBTztFQUFFLE9BQU0sRUFDaEI7QUFFRDtFQUVFLFNBQVE7RUFBRSxPQUFNLEVBQ2pCO0FBRUQ7RUFFRSxRQUFPO0VBQUUsVUFBUyxFQUNuQjtBQUVEO0VBRUUsU0FBUTtFQUFFLFVBQVMsRUFDcEI7QUFFRDs7d0NBRXdDO0FBRXhDO0VBQ0UsMkNBQTBDO0VBQ2xDLG1DQUFrQztFQUVsQywrREFBa0Q7RUFBbEQsdURBQWtEO0VBQWxELDJHQUFrRCxFQUMzRDtBQUVEO0VBQ0UsMENBQXlDO0VBQ2pDLGtDQUFpQztFQUVqQywrREFBa0Q7RUFBbEQsdURBQWtEO0VBQWxELDJHQUFrRCxFQUMzRCIsImZpbGUiOiJzcmMvYXBwL2ZhYi1mbG9hdC1idG4vZmFiLWZsb2F0LWJ0bi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKlxcXG4gICNWQVJTXG5cXCotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJGJvcmRlci1kaXN0YW5jZTogMjVweCAhZGVmYXVsdDtcblxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qXFxcbiAgI0JBU0UgfCBSYXcgU3R5bGVzXG5cXCotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuLyoqXG4gKiBDT1JFIEJVVFRPTiBTVFlMRVNcbiAqL1xuJWZiLWNvbXBvbmVudCB7XG4gIG1hcmdpbjogJGJvcmRlci1kaXN0YW5jZTtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSpcXFxuICAjQkFTRSB8IE1vZGlmaWVyc1xuXFwqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbi50b3AtbGVmdCB7XG4gIEBleHRlbmQgJWZiLWNvbXBvbmVudDtcbiAgbGVmdDogMDsgdG9wOiAwO1xufVxuXG4udG9wLXJpZ2h0IHtcbiAgQGV4dGVuZCAlZmItY29tcG9uZW50O1xuICByaWdodDogMDsgdG9wOiAwO1xufVxuXG4uYm90dG9tLWxlZnQge1xuICBAZXh0ZW5kICVmYi1jb21wb25lbnQ7XG4gIGxlZnQ6IDA7IGJvdHRvbTogMDtcbn1cblxuLmJvdHRvbS1yaWdodCB7XG4gIEBleHRlbmQgJWZiLWNvbXBvbmVudDtcbiAgcmlnaHQ6IDA7IGJvdHRvbTogMDtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qXFxcbiAgICAjQlVUVE9OUyB8IE1vZGlmaWVyc1xuXFwqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuLnZmYi1yZXN0aW5nLCAudmZiLWFjdGl2ZSB7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoMzYwZGVnKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgzNjBkZWcpO1xuICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDE1MG1zIGN1YmljLWJlemllciguNCwwLDEsMSk7XG4gICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDE1MG1zIGN1YmljLWJlemllciguNCwwLDEsMSk7XG59XG5cbi52ZmItb3BlbiB7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoNDVkZWcpO1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDQ1ZGVnKTtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAxNTBtcyBjdWJpYy1iZXppZXIoLjQsMCwxLDEpO1xuICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAxNTBtcyBjdWJpYy1iZXppZXIoLjQsMCwxLDEpO1xufVxuXG4iXX0= */"

/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.component.ts ***!
  \**********************************************************/
/*! exports provided: FabFloatBtnComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FabFloatBtnComponent", function() { return FabFloatBtnComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var FabFloatBtnComponent = /** @class */ (function () {
    function FabFloatBtnComponent(el) {
        this.callback = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        var element = el.nativeElement;
        this.colorType = element.getAttribute('color') || null;
        this.ariaLabel = element.getAttribute('aria-label') || null;
        this.matIcon = element.getAttribute('mat-icon') || null;
        this.isMini = element.getAttribute('is-mini') != null ? true : false;
        this.disabled = element.getAttribute('disabled') != null ? 'disabled' : 'false';
        this.position = element.getAttribute('position');
        this.topLeft = this.position == 'tl';
        this.topRight = this.position == 'tr';
        this.bottomLeft = this.position == 'bl';
        this.bottomRight = this.position == 'br'
            ? true
            : (!this.topLeft && !this.topRight && !this.bottomLeft)
                ? true
                : false;
    }
    FabFloatBtnComponent.prototype.ngOnInit = function () {
        this.buttonType = this.isMini ? 'mat-mini-fab' : 'mat-fab';
    };
    FabFloatBtnComponent.prototype.onClick = function () {
        // call the callback!
        this.callback.emit('any');
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], FabFloatBtnComponent.prototype, "callback", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"])
    ], FabFloatBtnComponent.prototype, "isOpen", void 0);
    FabFloatBtnComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-float-button',
            template: __webpack_require__(/*! ./fab-float-btn.component.html */ "./src/app/fab-float-btn/fab-float-btn.component.html"),
            styles: [__webpack_require__(/*! ./fab-float-btn.component.scss */ "./src/app/fab-float-btn/fab-float-btn.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]])
    ], FabFloatBtnComponent);
    return FabFloatBtnComponent;
}());



/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.module.ts ***!
  \*******************************************************/
/*! exports provided: FabFloatBtnModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FabFloatBtnModule", function() { return FabFloatBtnModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.component */ "./src/app/fab-float-btn/fab-float-btn.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");







var FabFloatBtnModule = /** @class */ (function () {
    function FabFloatBtnModule() {
    }
    FabFloatBtnModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["BrowserModule"], _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__["BrowserAnimationsModule"], _app_material_material_module__WEBPACK_IMPORTED_MODULE_5__["MaterialModule"]],
            declarations: [_app_fab_float_btn_fab_float_btn_component__WEBPACK_IMPORTED_MODULE_2__["FabFloatBtnComponent"]],
            exports: [_app_fab_float_btn_fab_float_btn_component__WEBPACK_IMPORTED_MODULE_2__["FabFloatBtnComponent"]]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FabFloatBtnModule);
    return FabFloatBtnModule;
}());



/***/ }),

/***/ "./src/app/fab-float-btn/float-btn.service.ts":
/*!****************************************************!*\
  !*** ./src/app/fab-float-btn/float-btn.service.ts ***!
  \****************************************************/
/*! exports provided: FloatBtnService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloatBtnService", function() { return FloatBtnService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var FloatBtnService = /** @class */ (function () {
    function FloatBtnService() {
        this.opened$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    FloatBtnService.prototype.toggle = function (opened) {
        var value = opened || !this._opened;
        this._opened = value;
        this.opened$.next(this._opened);
    };
    FloatBtnService.prototype.open = function () {
        this._opened = true;
        this.opened$.next(true);
    };
    FloatBtnService.prototype.close = function () {
        this._opened = false;
        this.opened$.next(false);
    };
    FloatBtnService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FloatBtnService);
    return FloatBtnService;
}());



/***/ }),

/***/ "./src/app/header/header.component.css":
/*!*********************************************!*\
  !*** ./src/app/header/header.component.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".toolbar-spacer {\n  flex: 1 1 auto;\n}\n\n.toolbar-icon {\n  padding: 0 14px;\n}\n\n.mat-menu-item {\n  font-size: .85rem;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBZTtDQUNoQjs7QUFFRDtFQUNFLGdCQUFnQjtDQUNqQjs7QUFFRDtFQUNFLGtCQUFrQjtDQUNuQiIsImZpbGUiOiJzcmMvYXBwL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b29sYmFyLXNwYWNlciB7XG4gIGZsZXg6IDEgMSBhdXRvO1xufVxuXG4udG9vbGJhci1pY29uIHtcbiAgcGFkZGluZzogMCAxNHB4O1xufVxuXG4ubWF0LW1lbnUtaXRlbSB7XG4gIGZvbnQtc2l6ZTogLjg1cmVtO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/header/header.component.html":
/*!**********************************************!*\
  !*** ./src/app/header/header.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\" class=\"app-header-bar\">\n  <mat-toolbar-row>\n    <span *ngIf=\"(loggedInStatus | async)\">\n      <button mat-icon-button (click)=\"toggleSidenav()\">\n        <mat-icon>{{(navOpen|async) ? 'arrow_back_ios' : 'menu'}}</mat-icon>\n      </button>\n    </span>\n    \n    <span routerLink=\"/\" class=\"font-weight-light h1 mb-0 d-flex align-items-center clickable\">\n        <img src=\"dist/assets/images/logo-notext.svg\" class=\"mr-2\" width=\"40\" height=\"40\" />\n        {{menuTitle | async}}\n    </span>\n    <span class=\"toolbar-spacer\"></span>\n    <button mat-icon-button [matMenuTriggerFor]=\"menu\" *ngIf=\"(loggedInStatus | async); else loggedOut\">\n      <mat-icon>more_vert</mat-icon>\n    </button>\n    <mat-menu #menu=\"matMenu\" class=\"mat-menu\">\n      <button mat-menu-item *ngIf=\"(loggedInStatus | async) && showClientSelector\" (click)=\"openDialog()\">Change Client</button>\n      <!-- <button mat-menu-item *ngIf=\"isAdmin\"></button> -->\n      <button mat-menu-item (click)=\"onLogout()\" *ngIf=\"(loggedInStatus | async)\">Logout</button>\n      <!-- <ng-template #loggedOut><button mat-menu-item routerLink=\"/login\"> Login </button></ng-template> -->\n    </mat-menu>\n    <ng-template #loggedOut>\n        <button type=\"button\" mat-icon-button [routerLink]=\"['/login']\">\n            <mat-icon>exit_to_app</mat-icon>\n        </button>\n    </ng-template>\n  </mat-toolbar-row>\n</mat-toolbar>\n"

/***/ }),

/***/ "./src/app/header/header.component.ts":
/*!********************************************!*\
  !*** ./src/app/header/header.component.ts ***!
  \********************************************/
/*! exports provided: HeaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderComponent", function() { return HeaderComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../client-selector/client-selector.component */ "./src/app/client-selector/client-selector.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/sidenav/sidenav.service */ "./src/app/sidenav/sidenav.service.ts");










var HeaderComponent = /** @class */ (function () {
    function HeaderComponent(authService, userService, session, dialog, router, sidenavService) {
        var _this = this;
        this.authService = authService;
        this.userService = userService;
        this.session = session;
        this.dialog = dialog;
        this.router = router;
        this.sidenavService = sidenavService;
        this.defaultTitle = 'Payment Dynamics';
        this.menuTitle = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this.defaultTitle);
        this.loggedInStatus = this.session.isLoginSubject.asObservable();
        this.loggedInStatus.subscribe(function (authenticated) {
            if (!authenticated) {
                _this.menuTitle.next(_this.defaultTitle);
            }
        });
        this.session.userItem.subscribe(function (next) {
            _this.user = next;
            _this.menuTitle.next(_this.user.sessionUser.client.name);
            _this.showClientSelector = _this.user.clients.length > 1 && _this.user.role.role > 5;
            _this.isAdmin = _this.user.role.role > 5;
        });
        this.navOpen = this.sidenavService.opened$.asObservable();
    }
    HeaderComponent.prototype.ngOnInit = function () {
        this.session.getItem('user');
    };
    HeaderComponent.prototype.ngAfterViewInit = function () {
        // this.sidenav.
    };
    HeaderComponent.prototype.onLogout = function () {
        var _this = this;
        this.authService.logout().then(function (url) {
            _this.session.navigateByUrl(url);
        });
    };
    /**
     * Uses session service to toggle side nav
     */
    HeaderComponent.prototype.toggleSidenav = function () {
        this.sidenavService.toggle();
    };
    HeaderComponent.prototype.openDialog = function () {
        var dialogRef = this.dialog.open(_client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_6__["ClientSelectorComponent"], {
            width: '400px',
            data: this.user
        });
        dialogRef.afterClosed().subscribe(function (result) {
            // console.log('dialog was closed');
        });
    };
    HeaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-header',
            template: __webpack_require__(/*! ./header.component.html */ "./src/app/header/header.component.html"),
            styles: [__webpack_require__(/*! ./header.component.css */ "./src/app/header/header.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_8__["UserService"],
            _session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_9__["SidenavService"]])
    ], HeaderComponent);
    return HeaderComponent;
}());



/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.component.css":
/*!***************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".spinner {\n  position: fixed;\n  padding: 0px;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 9998;\n  background: #000;\n  opacity: 0.6;\n  transition: opacity 0.3s linear;\n}\n\n.center {\n  margin: auto;\n  width: 100%;\n}\n\n.loading-text {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  padding: 0;\n  margin: 0;\n  color: #FFF;\n  font-family: sans-serif;\n  background: transparent;\n  text-align: center;\n  padding-top: 33%;\n}\n\n.spinner img {\n  position: fixed;\n  padding: 0px;\n  /* height: 100%; width: 100%; top: 0; left: 0; */\n  z-index: 10;\n  background: #000;\n  opacity: 0.6;\n  transition: opacity 0.3s linear;\n}\n\n.hidden {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.3s, opacity 0.3s linear;\n}\n\n.visible {\n  visibility: visible;\n}\n\n.lds-roller {\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  left: 48%;\n  top: 47%;\n}\n\n.lds-roller div {\n  -webkit-animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  -webkit-transform-origin: 32px 32px;\n          transform-origin: 32px 32px;\n}\n\n.lds-roller div:after {\n  content: \\\" \\\";\n  display: block;\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: #fff;\n  margin: -3px 0 0 -3px;\n}\n\n.lds-roller div:nth-child(1) {\n  -webkit-animation-delay: -0.036s;\n          animation-delay: -0.036s;\n}\n\n.lds-roller div:nth-child(1):after {\n  top: 50px;\n  left: 50px;\n}\n\n.lds-roller div:nth-child(2) {\n  -webkit-animation-delay: -0.072s;\n          animation-delay: -0.072s;\n}\n\n.lds-roller div:nth-child(2):after {\n  top: 54px;\n  left: 45px;\n}\n\n.lds-roller div:nth-child(3) {\n  -webkit-animation-delay: -0.108s;\n          animation-delay: -0.108s;\n}\n\n.lds-roller div:nth-child(3):after {\n  top: 57px;\n  left: 39px;\n}\n\n.lds-roller div:nth-child(4) {\n  -webkit-animation-delay: -0.144s;\n          animation-delay: -0.144s;\n}\n\n.lds-roller div:nth-child(4):after {\n  top: 58px;\n  left: 32px;\n}\n\n.lds-roller div:nth-child(5) {\n  -webkit-animation-delay: -0.18s;\n          animation-delay: -0.18s;\n}\n\n.lds-roller div:nth-child(5):after {\n  top: 57px;\n  left: 25px;\n}\n\n.lds-roller div:nth-child(6) {\n  -webkit-animation-delay: -0.216s;\n          animation-delay: -0.216s;\n}\n\n.lds-roller div:nth-child(6):after {\n  top: 54px;\n  left: 19px;\n}\n\n.lds-roller div:nth-child(7) {\n  -webkit-animation-delay: -0.252s;\n          animation-delay: -0.252s;\n}\n\n.lds-roller div:nth-child(7):after {\n  top: 50px;\n  left: 14px;\n}\n\n.lds-roller div:nth-child(8) {\n  -webkit-animation-delay: -0.288s;\n          animation-delay: -0.288s;\n}\n\n.lds-roller div:nth-child(8):after {\n  top: 45px;\n  left: 10px;\n}\n\n@-webkit-keyframes lds-roller {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes lds-roller {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9hZGluZy1zcGlubmVyL2xvYWRpbmctc3Bpbm5lci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixPQUFPO0VBQ1AsUUFBUTtFQUNSLGFBQWE7RUFDYixZQUFZO0VBQ1osY0FBYztFQUNkLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsZ0NBQWdDO0NBQ2pDOztBQUVEO0VBQ0UsYUFBYTtFQUNiLFlBQVk7Q0FDYjs7QUFFRDtFQUNFLGdCQUFnQjtFQUNoQixPQUFPO0VBQ1AsWUFBWTtFQUNaLGFBQWE7RUFDYixRQUFRO0VBQ1IsV0FBVztFQUNYLFVBQVU7RUFDVixZQUFZO0VBQ1osd0JBQXdCO0VBQ3hCLHdCQUF3QjtFQUN4QixtQkFBbUI7RUFDbkIsaUJBQWlCO0NBQ2xCOztBQUVEO0VBQ0UsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixpREFBaUQ7RUFDakQsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsZ0NBQWdDO0NBQ2pDOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxvREFBb0Q7Q0FDckQ7O0FBRUQ7RUFDRSxvQkFBb0I7Q0FDckI7O0FBRUQ7RUFDRSxzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0VBQ2IsVUFBVTtFQUNWLFNBQVM7Q0FDVjs7QUFFRDtFQUNFLHlFQUFpRTtVQUFqRSxpRUFBaUU7RUFDakUsb0NBQTRCO1VBQTVCLDRCQUE0QjtDQUM3Qjs7QUFFRDtFQUNFLGVBQWU7RUFDZixlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixzQkFBc0I7Q0FDdkI7O0FBRUQ7RUFDRSxpQ0FBeUI7VUFBekIseUJBQXlCO0NBQzFCOztBQUVEO0VBQ0UsVUFBVTtFQUNWLFdBQVc7Q0FDWjs7QUFFRDtFQUNFLGlDQUF5QjtVQUF6Qix5QkFBeUI7Q0FDMUI7O0FBRUQ7RUFDRSxVQUFVO0VBQ1YsV0FBVztDQUNaOztBQUVEO0VBQ0UsaUNBQXlCO1VBQXpCLHlCQUF5QjtDQUMxQjs7QUFFRDtFQUNFLFVBQVU7RUFDVixXQUFXO0NBQ1o7O0FBRUQ7RUFDRSxpQ0FBeUI7VUFBekIseUJBQXlCO0NBQzFCOztBQUVEO0VBQ0UsVUFBVTtFQUNWLFdBQVc7Q0FDWjs7QUFFRDtFQUNFLGdDQUF3QjtVQUF4Qix3QkFBd0I7Q0FDekI7O0FBRUQ7RUFDRSxVQUFVO0VBQ1YsV0FBVztDQUNaOztBQUVEO0VBQ0UsaUNBQXlCO1VBQXpCLHlCQUF5QjtDQUMxQjs7QUFFRDtFQUNFLFVBQVU7RUFDVixXQUFXO0NBQ1o7O0FBRUQ7RUFDRSxpQ0FBeUI7VUFBekIseUJBQXlCO0NBQzFCOztBQUVEO0VBQ0UsVUFBVTtFQUNWLFdBQVc7Q0FDWjs7QUFFRDtFQUNFLGlDQUF5QjtVQUF6Qix5QkFBeUI7Q0FDMUI7O0FBRUQ7RUFDRSxVQUFVO0VBQ1YsV0FBVztDQUNaOztBQUVEO0VBQ0U7SUFDRSxnQ0FBd0I7WUFBeEIsd0JBQXdCO0dBQ3pCO0VBQ0Q7SUFDRSxrQ0FBMEI7WUFBMUIsMEJBQTBCO0dBQzNCO0NBQ0Y7O0FBUEQ7RUFDRTtJQUNFLGdDQUF3QjtZQUF4Qix3QkFBd0I7R0FDekI7RUFDRDtJQUNFLGtDQUEwQjtZQUExQiwwQkFBMEI7R0FDM0I7Q0FDRiIsImZpbGUiOiJzcmMvYXBwL2xvYWRpbmctc3Bpbm5lci9sb2FkaW5nLXNwaW5uZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcGlubmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBwYWRkaW5nOiAwcHg7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgei1pbmRleDogOTk5ODtcbiAgYmFja2dyb3VuZDogIzAwMDtcbiAgb3BhY2l0eTogMC42O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MgbGluZWFyO1xufVxuXG4uY2VudGVyIHtcbiAgbWFyZ2luOiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmxvYWRpbmctdGV4dCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBsZWZ0OiAwO1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG4gIGNvbG9yOiAjRkZGO1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZy10b3A6IDMzJTtcbn1cblxuLnNwaW5uZXIgaW1nIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBwYWRkaW5nOiAwcHg7XG4gIC8qIGhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7IHRvcDogMDsgbGVmdDogMDsgKi9cbiAgei1pbmRleDogMTA7XG4gIGJhY2tncm91bmQ6ICMwMDA7XG4gIG9wYWNpdHk6IDAuNjtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGxpbmVhcjtcbn1cblxuLmhpZGRlbiB7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyAwLjNzLCBvcGFjaXR5IDAuM3MgbGluZWFyO1xufVxuXG4udmlzaWJsZSB7XG4gIHZpc2liaWxpdHk6IHZpc2libGU7XG59XG5cbi5sZHMtcm9sbGVyIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiA2NHB4O1xuICBoZWlnaHQ6IDY0cHg7XG4gIGxlZnQ6IDQ4JTtcbiAgdG9wOiA0NyU7XG59XG5cbi5sZHMtcm9sbGVyIGRpdiB7XG4gIGFuaW1hdGlvbjogbGRzLXJvbGxlciAxLjJzIGN1YmljLWJlemllcigwLjUsIDAsIDAuNSwgMSkgaW5maW5pdGU7XG4gIHRyYW5zZm9ybS1vcmlnaW46IDMycHggMzJweDtcbn1cblxuLmxkcy1yb2xsZXIgZGl2OmFmdGVyIHtcbiAgY29udGVudDogXFxcIiBcXFwiO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogNnB4O1xuICBoZWlnaHQ6IDZweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBtYXJnaW46IC0zcHggMCAwIC0zcHg7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoMSkge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjAzNnM7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoMSk6YWZ0ZXIge1xuICB0b3A6IDUwcHg7XG4gIGxlZnQ6IDUwcHg7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoMikge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjA3MnM7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoMik6YWZ0ZXIge1xuICB0b3A6IDU0cHg7XG4gIGxlZnQ6IDQ1cHg7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoMykge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjEwOHM7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoMyk6YWZ0ZXIge1xuICB0b3A6IDU3cHg7XG4gIGxlZnQ6IDM5cHg7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoNCkge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjE0NHM7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoNCk6YWZ0ZXIge1xuICB0b3A6IDU4cHg7XG4gIGxlZnQ6IDMycHg7XG59XG5cbi5sZHMtcm9sbGVyIGRpdjpudGgtY2hpbGQoNSkge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjE4cztcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg1KTphZnRlciB7XG4gIHRvcDogNTdweDtcbiAgbGVmdDogMjVweDtcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg2KSB7XG4gIGFuaW1hdGlvbi1kZWxheTogLTAuMjE2cztcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg2KTphZnRlciB7XG4gIHRvcDogNTRweDtcbiAgbGVmdDogMTlweDtcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg3KSB7XG4gIGFuaW1hdGlvbi1kZWxheTogLTAuMjUycztcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg3KTphZnRlciB7XG4gIHRvcDogNTBweDtcbiAgbGVmdDogMTRweDtcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg4KSB7XG4gIGFuaW1hdGlvbi1kZWxheTogLTAuMjg4cztcbn1cblxuLmxkcy1yb2xsZXIgZGl2Om50aC1jaGlsZCg4KTphZnRlciB7XG4gIHRvcDogNDVweDtcbiAgbGVmdDogMTBweDtcbn1cblxuQGtleWZyYW1lcyBsZHMtcm9sbGVyIHtcbiAgMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIDEwMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gIH1cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.component.html":
/*!****************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #spinnerContainer [ngClass]=\"{'visible': showSpinner, 'hidden': !showSpinner, 'spinner': true, 'center': true}\" [innerHTML]=\"template\"></div>\n<h1 [style.zIndex]=\"zIndex\" [ngClass]=\"{'visible': showSpinner, 'hidden': !showSpinner, 'loading-text': true}\"> {{loadingText}} </h1>\n"

/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.component.ts ***!
  \**************************************************************/
/*! exports provided: LoadingSpinnerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingSpinnerComponent", function() { return LoadingSpinnerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _loading_spinner_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading-spinner.service */ "./src/app/loading-spinner/loading-spinner.service.ts");



var LoadingSpinnerComponent = /** @class */ (function () {
    function LoadingSpinnerComponent(service) {
        this.service = service;
        this.loadingText = '';
        this.zIndex = 9999;
        this.template = "\n  <div class=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>";
    }
    LoadingSpinnerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.service.showSpinner.subscribe(function (next) {
            _this.showSpinner = next;
        });
    };
    LoadingSpinnerComponent.prototype.show = function () {
        this.service.show();
    };
    LoadingSpinnerComponent.prototype.hide = function () {
        this.service.hide();
    };
    LoadingSpinnerComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vero-loading-spinner',
            template: __webpack_require__(/*! ./loading-spinner.component.html */ "./src/app/loading-spinner/loading-spinner.component.html"),
            styles: [__webpack_require__(/*! ./loading-spinner.component.css */ "./src/app/loading-spinner/loading-spinner.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_loading_spinner_service__WEBPACK_IMPORTED_MODULE_2__["LoadingSpinnerService"]])
    ], LoadingSpinnerComponent);
    return LoadingSpinnerComponent;
}());



/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.service.ts":
/*!************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.service.ts ***!
  \************************************************************/
/*! exports provided: LoadingSpinnerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingSpinnerService", function() { return LoadingSpinnerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var LoadingSpinnerService = /** @class */ (function () {
    function LoadingSpinnerService() {
        this.showSpinner$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.showSpinner = this.showSpinner$.asObservable();
    }
    LoadingSpinnerService.prototype.show = function () {
        this.showSpinner$.next(true);
    };
    LoadingSpinnerService.prototype.hide = function () {
        this.showSpinner$.next(false);
    };
    LoadingSpinnerService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], LoadingSpinnerService);
    return LoadingSpinnerService;
}());



/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"row justify-content-center\">\n  <div class=\"col-sm-4\" [ngClass]=\"{'text-center': pageLoading}\">\n    <div class=\"card\">\n      <img class=\"card-img-top\" src=\"dist/assets/images/login.png\" alt=\"Login image\">\n      <div class=\"card-body\">\n        <form #f=\"ngForm\" (ngSubmit)=\"onSubmit(f)\" novalidate class=\"login-container\">\n          <mat-form-field floatLabel=\"true\" hintLabel=\"We'll never share your login credentials.\">\n            <input matInput name=\"username\" ngModel #username=\"ngModel\" placeholder=\"username\" required [disabled]=lockLoginInputs />\n            <mat-error *ngIf=\"username.invalid\">{{getErrorMessage()}}</mat-error>\n          </mat-form-field>\n          <mat-form-field floatLabel=\"password\">\n            <input matInput name=\"password\" ngModel #password=\"ngModel\" placeholder=\"password\" required type=\"password\" [disabled]=lockLoginInputs />\n            <mat-error *ngIf=\"password.invalid\">{{getErrorMessage()}}</mat-error>\n          </mat-form-field>\n          <button mat-button [disabled]=lockLoginInputs>Login</button>\n        </form>\n        <mat-progress-bar *ngIf=\"lockLoginInputs\" mode=\"indeterminate\"></mat-progress-bar>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/login/login.component.scss":
/*!********************************************!*\
  !*** ./src/app/login/login.component.scss ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".card-img-top {\n  margin: auto;\n  width: 50%;\n  padding: 10px 5px 0 5px; }\n\n.login-container {\n  display: flex;\n  flex-direction: column; }\n\n.login-container > * {\n  width: 100%; }\n\n.card {\n  margin: 1.25rem; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxhQUFZO0VBQ1osV0FBVTtFQUNWLHdCQUF1QixFQUN4Qjs7QUFFRDtFQUNFLGNBQWE7RUFDYix1QkFBc0IsRUFDdkI7O0FBRUQ7RUFDRSxZQUFXLEVBQ1o7O0FBRUQ7RUFDRSxnQkFBZSxFQUNoQiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uY2FyZC1pbWctdG9wIHtcbiAgbWFyZ2luOiBhdXRvO1xuICB3aWR0aDogNTAlO1xuICBwYWRkaW5nOiAxMHB4IDVweCAwIDVweDtcbn1cblxuLmxvZ2luLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi5sb2dpbi1jb250YWluZXIgPiAqIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jYXJkIHtcbiAgbWFyZ2luOiAxLjI1cmVtO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");







var LoginComponent = /** @class */ (function () {
    function LoginComponent(authService, session, userService) {
        this.authService = authService;
        this.session = session;
        this.userService = userService;
        this.lockLoginInputs = false;
        this.redirectQueue = [];
        this.username = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
        this.password = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
    }
    LoginComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.user.subscribe(function (next) {
            _this.user = next;
            _this.session.hideLoader();
        });
    };
    LoginComponent.prototype.ngAfterViewChecked = function () { };
    LoginComponent.prototype.ngOnDestroy = function () {
        this.lockLoginInputs = false;
    };
    LoginComponent.prototype.onSubmit = function (f) {
        var _this = this;
        this.session.showLoader();
        // this.usernameInput = f.value.username;
        var loginData = {
            //   grant_type: 'password',
            // client_id: 3,
            //   client_secret: 'qHZzQxduSU92Vgb0hBwLcx4W4jjKWf5lykM0bxnm',
            username: f.value.username,
            password: f.value.password,
        };
        if (f.form.valid) {
            this.lockLoginInputs = true;
            this.pageLoading = true;
            this.authService.ngLogin(loginData).subscribe(function (response) {
                _this.pageLoading = false;
                _this.lockLoginInputs = false;
                var sessionToken = {
                    data: { access_token: response.token },
                    expires: moment__WEBPACK_IMPORTED_MODULE_5__().valueOf() + 1000 * (60 * 24 * 3)
                };
                _this.session.login(sessionToken);
                _this.userService.storeNgUser(response.user);
            });
            // this.authService
            //     .login(loginData)
            //     .then(data => {
            //         this.pageLoading = false;
            //         this.lockLoginInputs = false;
            //         let token: ILocalStorage<IToken> = <ILocalStorage<IToken>>{
            //             data: data,
            //             expires: moment().valueOf() + 1000 * (60 * 24 * 3)
            //         };
            //         this.session.login(token);
            //         this.userService.loadUser(this.usernameInput);
            //         // TODO: this isn't working yet... need to re-work login routing
            //         // this.session.navigateTo(this.session.navigateQueue[0]);
            //     })
            //     .catch(err => {
            //         this.pageLoading = false;
            //         this.lockLoginInputs = false;
            //         this.session.clearStorage();
            //         let friendlyResponse = ' Please check your credentials and try again.';
            //         this.msg.addMessage(err.message + friendlyResponse, 'close');
            //         this.session.hideLoader();
            //     });
        }
    };
    LoginComponent.prototype.loginHandler = function () {
        this.pageLoading = false;
    };
    LoginComponent.prototype.getErrorMessage = function () {
        return this.username.hasError('required')
            ? 'You must enter a value'
            : this.password.hasError('required')
                ? 'You must enter a value'
                : '';
    };
    LoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.scss */ "./src/app/login/login.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__["UserService"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/masks/ssn.directive.ts":
/*!****************************************!*\
  !*** ./src/app/masks/ssn.directive.ts ***!
  \****************************************/
/*! exports provided: MaskSsn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaskSsn", function() { return MaskSsn; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");



/**
 * https://stackoverflow.com/questions/37800841/input-mask-fields-in-angular2-forms
 * This isn't working yet, need to better understand how directives interact with input fields.
 *
*/
var MaskSsn = /** @class */ (function () {
    function MaskSsn(model) {
        this.model = model;
    }
    MaskSsn.prototype.ngOnInit = function () {
        if (this.model.model.length > 0 && this.model.model.length < 12) {
            this.ssn = this.model.model.slice(0, 3) + '-' + this.model.model.slice(3, 5) + '-' + this.model.model.slice(5, 9);
            this.model.valueAccessor.writeValue(this.model.model.slice(0, 3) + '-' + this.model.model.slice(3, 5) + '-' + this.model.model.slice(5, 9));
        }
    };
    MaskSsn.prototype.onInputChange = function (event, backspace) {
        // remove all casting characters and set ssn value to new value
        for (var i = 0; i < event.length; i++) {
            var pos = event.charAt(i);
            if (isNaN(parseInt(pos, 10))) {
                event = event.replaceAt(pos, this.model.value.charAt(i));
            }
            this.ssn = event;
        }
        this.model.valueAccessor.writeValue(this.model.model.slice(0, 3) + '-' + this.model.model.slice(3, 5) + '-' + this.model.model.slice(5, 9));
    };
    MaskSsn = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
            selector: '[ngModel][maskssn]',
            host: {
                '(ngModelChange)': 'onInputChange($event)',
                '(keydown.baskspace)': 'onInputChange($event.target.value, true)'
            }
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgModel"]])
    ], MaskSsn);
    return MaskSsn;
}());



/***/ }),

/***/ "./src/app/material/material.module.ts":
/*!*********************************************!*\
  !*** ./src/app/material/material.module.ts ***!
  \*********************************************/
/*! exports provided: MaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaterialModule", function() { return MaterialModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");




var modules = [
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatBadgeModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonToggleModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCardModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCheckboxModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatChipsModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDatepickerModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatExpansionModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatGridListModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatListModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatMenuModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatNativeDateModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginatorModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressBarModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatRadioModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatRippleModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSelectModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSidenavModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSliderModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSlideToggleModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBarModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSortModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTabsModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatToolbarModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTooltipModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatStepperModule"],
    _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_3__["MatMomentDateModule"]
];
var MaterialModule = /** @class */ (function () {
    function MaterialModule() {
    }
    MaterialModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [],
            exports: modules.slice()
        })
    ], MaterialModule);
    return MaterialModule;
}());



/***/ }),

/***/ "./src/app/message.service.ts":
/*!************************************!*\
  !*** ./src/app/message.service.ts ***!
  \************************************/
/*! exports provided: MessageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageService", function() { return MessageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");




var MessageService = /** @class */ (function () {
    function MessageService(bar, session) {
        var _this = this;
        this.bar = bar;
        this.session = session;
        this.messages = [];
        this.openBar = null;
        this.dismissSnackBar = function () { return _this.openBar.dismiss(); };
        this.showWebApiError = function (e) {
            var msg = e != null ? e.error.message : e.statusText != null ? e.statusText : e.message;
            _this.openBar = _this.bar.open(msg, 'dismiss');
            _this.session.hideLoader();
        };
    }
    /**
     * @param message string
     * @param action string @default 'dismiss'
     * @param duration number @default null Results in message that will not disappear until
     * explicitly closed by the user.
     */
    MessageService.prototype.addMessage = function (message, action, duration) {
        if (action === void 0) { action = 'dismiss'; }
        if (duration === void 0) { duration = null; }
        var options = duration > 0 ? { duration: duration } : {};
        this.openBar = this.bar.open(message, action, options);
        this.session.hideLoader();
    };
    MessageService.prototype.showObserverError = function (e, caught) {
        var msg = e != null ? e.error.message : e.statusText != null ? e.statusText : e.message;
        this.openBar = this.bar.open(msg, 'dismiss');
        this.session.hideLoader();
        return caught;
    };
    MessageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBar"], _app_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"]])
    ], MessageService);
    return MessageService;
}());



/***/ }),

/***/ "./src/app/messages/messages.component.css":
/*!*************************************************!*\
  !*** ./src/app/messages/messages.component.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lc3NhZ2VzL21lc3NhZ2VzLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/messages/messages.component.html":
/*!**************************************************!*\
  !*** ./src/app/messages/messages.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/messages.component.ts":
/*!************************************************!*\
  !*** ./src/app/messages/messages.component.ts ***!
  \************************************************/
/*! exports provided: MessagesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessagesComponent", function() { return MessagesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");




var MessagesComponent = /** @class */ (function () {
    function MessagesComponent(messageService, bar) {
        this.messageService = messageService;
        this.bar = bar;
    }
    MessagesComponent.prototype.ngOnInit = function () {
        this.messages = this.messageService.messages;
    };
    MessagesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-messages',
            template: __webpack_require__(/*! ./messages.component.html */ "./src/app/messages/messages.component.html"),
            styles: [__webpack_require__(/*! ./messages.component.css */ "./src/app/messages/messages.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSnackBar"]])
    ], MessagesComponent);
    return MessagesComponent;
}());



/***/ }),

/***/ "./src/app/models/agent-sales.model.ts":
/*!*********************************************!*\
  !*** ./src/app/models/agent-sales.model.ts ***!
  \*********************************************/
/*! exports provided: AgentSale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentSale", function() { return AgentSale; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var AgentSale = /** @class */ (function () {
    function AgentSale(values) {
        if (values === void 0) { values = null; }
        this.agentSalesId = null;
        this.agentName = null;
        this.invoiceId = null;
        this.agentId = null;
        this.saleDate = null;
        this.firstName = null;
        this.lastName = null;
        this.address = null;
        this.city = null;
        this.state = null;
        this.postalCode = null;
        this.statusType = null;
        this.amount = null;
        this.note = null;
        this.createdAt = null;
        this.updatedAt = null;
        if (Array.isArray(values) && values.length > 7) {
            this.saleDate = moment__WEBPACK_IMPORTED_MODULE_0__(values[0], 'MM-DD-YYYY').format('YYYY-MM-DD');
            this.firstName = values[1];
            this.lastName = values[2];
            this.address = values[3];
            this.city = values[4];
            this.state = values[5] != null ? values[5].toUpperCase() : values[5];
            this.postalCode = values[6];
            this.statusType = (values[7].toLowerCase().replace(' ', '').indexOf('accept') > -1).toString();
            this.amount = this.statusType == 'true' ? values[8] : 0;
        }
        return this;
    }
    return AgentSale;
}());



/***/ }),

/***/ "./src/app/models/campaign-filters.model.ts":
/*!**************************************************!*\
  !*** ./src/app/models/campaign-filters.model.ts ***!
  \**************************************************/
/*! exports provided: CompOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompOperator", function() { return CompOperator; });
var CompOperator;
(function (CompOperator) {
    CompOperator[CompOperator["Equals"] = 0] = "Equals";
    CompOperator[CompOperator["LessThan"] = 1] = "LessThan";
    CompOperator[CompOperator["GreaterThan"] = 2] = "GreaterThan";
    CompOperator[CompOperator["LessThanEqualTo"] = 3] = "LessThanEqualTo";
    CompOperator[CompOperator["GreaterThanEqualTo"] = 4] = "GreaterThanEqualTo";
})(CompOperator || (CompOperator = {}));


/***/ }),

/***/ "./src/app/models/daily-sale.model.ts":
/*!********************************************!*\
  !*** ./src/app/models/daily-sale.model.ts ***!
  \********************************************/
/*! exports provided: PaidStatusType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaidStatusType", function() { return PaidStatusType; });
var PaidStatusType;
(function (PaidStatusType) {
    PaidStatusType[PaidStatusType["unpaid"] = 0] = "unpaid";
    PaidStatusType[PaidStatusType["paid"] = 1] = "paid";
    PaidStatusType[PaidStatusType["chargeback"] = 2] = "chargeback";
    PaidStatusType[PaidStatusType["repaid"] = 3] = "repaid";
})(PaidStatusType || (PaidStatusType = {}));


/***/ }),

/***/ "./src/app/models/index.ts":
/*!*********************************!*\
  !*** ./src/app/models/index.ts ***!
  \*********************************/
/*! exports provided: AgentSale, PayrollFilterType, PaidStatusType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _agent_sales_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./agent-sales.model */ "./src/app/models/agent-sales.model.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AgentSale", function() { return _agent_sales_model__WEBPACK_IMPORTED_MODULE_0__["AgentSale"]; });

/* harmony import */ var _daily_sale_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./daily-sale.model */ "./src/app/models/daily-sale.model.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PaidStatusType", function() { return _daily_sale_model__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"]; });

/* harmony import */ var _payroll_filter_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payroll-filter.model */ "./src/app/models/payroll-filter.model.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PayrollFilterType", function() { return _payroll_filter_model__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"]; });






/***/ }),

/***/ "./src/app/models/payroll-filter.model.ts":
/*!************************************************!*\
  !*** ./src/app/models/payroll-filter.model.ts ***!
  \************************************************/
/*! exports provided: PayrollFilterType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollFilterType", function() { return PayrollFilterType; });
var PayrollFilterType;
(function (PayrollFilterType) {
    PayrollFilterType[PayrollFilterType["startDate"] = 0] = "startDate";
    PayrollFilterType[PayrollFilterType["endDate"] = 1] = "endDate";
    PayrollFilterType[PayrollFilterType["agent"] = 2] = "agent";
    PayrollFilterType[PayrollFilterType["campaign"] = 3] = "campaign";
    PayrollFilterType[PayrollFilterType["client"] = 4] = "client";
    PayrollFilterType[PayrollFilterType["weekEnding"] = 5] = "weekEnding";
    PayrollFilterType[PayrollFilterType["isAutomated"] = 6] = "isAutomated";
    PayrollFilterType[PayrollFilterType["isReleased"] = 7] = "isReleased";
    PayrollFilterType[PayrollFilterType["automatedRelease"] = 8] = "automatedRelease";
})(PayrollFilterType || (PayrollFilterType = {}));


/***/ }),

/***/ "./src/app/models/role.model.ts":
/*!**************************************!*\
  !*** ./src/app/models/role.model.ts ***!
  \**************************************/
/*! exports provided: UserRole, Role */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserRole", function() { return UserRole; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Role", function() { return Role; });
var UserRole;
(function (UserRole) {
    UserRole[UserRole["user"] = 1] = "user";
    UserRole[UserRole["supervisor"] = 2] = "supervisor";
    UserRole[UserRole["manager"] = 3] = "manager";
    UserRole[UserRole["regionalManager"] = 4] = "regionalManager";
    UserRole[UserRole["humanResources"] = 5] = "humanResources";
    UserRole[UserRole["companyAdmin"] = 6] = "companyAdmin";
    UserRole[UserRole["systemAdmin"] = 7] = "systemAdmin";
})(UserRole || (UserRole = {}));
var Role = {
    user: UserRole.user,
    supervisor: UserRole.supervisor,
    manager: UserRole.manager,
    regionalManager: UserRole.regionalManager,
    humanResources: UserRole.humanResources,
    companyAdmin: UserRole.companyAdmin,
    systemAdmin: UserRole.systemAdmin
};


/***/ }),

/***/ "./src/app/my-information/my-information.component.html":
/*!**************************************************************!*\
  !*** ./src/app/my-information/my-information.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card class=\"page-header-accent\">\n    <form #f=\"ngForm\" (ngSubmit)=\"save(f)\" *ngIf=\"user$|async\">\n        <mat-card-header class=\"justify-content-between\">\n            <mat-card-title>\n                <h2>Welcome, {{welcome}}.</h2>\n            </mat-card-title>\n            <mat-card-subtitle>\n                <p *ngIf=\"weather === undefined\" class=\"text-muted weather-placeholder\">Your weather is loading...</p>\n                <p *ngIf=\"weather !== undefined\" class=\"weather-placeholder\">\n                    Today looks like a low of {{minTemp}} and high of {{maxTemp}} near {{weather.name}} <img src=\"https://openweathermap.org/img/w/{{weather.weather[0].icon}}.png\" />\n                </p>\n            </mat-card-subtitle>\n            <mat-slide-toggle [ngClass]=\"{'float-right': true, 'text-muted': !editProfile, 'text-light': editProfile}\"\n                [checked]=\"editProfile\" (change)=\"changeEditMode(f)\" [disabled]=\"f.touched\" color=\"primary\"></mat-slide-toggle>\n        </mat-card-header>\n        <mat-card-content class=\"flex-column\">\n            <h5 class=\"mb-2\">User Details</h5>\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <mat-form-field>\n                                <mat-label>First Name</mat-label>\n                                <input type=\"text\" name=\"firstName\" [ngModel]=\"(user$ | async).firstName\"\n                                    (ngModelChange)=\"user.firstName=$event\" matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Last Name</mat-label>\n                                <input type=\"text\" name=\"lastName\" [ngModel]=\"(user$ | async).lastName\" (ngModelChange)=\"user.lastName=$event\"\n                                    matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Username</mat-label>\n                                <input type=\"text\" name=\"username\" matInput [ngModel]=\"(user$ | async).username\"\n                                    disabled />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Email</mat-label>\n                                <input type=\"text\" name=\"email\" [(ngModel)]=\"user.email\" [ngModel]=\"(user$ | async).email\"\n                                    (ngModelChange)=\"user.email=$event\" matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <mat-form-field>\n                                <mat-label>Street Address</mat-label>\n                                <input type=\"text\" name=\"street\" [ngModel]=\"(detail$ | async).street\" (ngModelChange)=\"detail.street=$event\"\n                                    matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Apt/Suite</mat-label>\n                                <input type=\"text\" name=\"street2\" [ngModel]=\"(detail$ | async).street2\" (ngModelChange)=\"detail.street2=$event\"\n                                    matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>City</mat-label>\n                                <input type=\"text\" name=\"city\" [ngModel]=\"(detail$ | async).city\" (ngModelChange)=\"detail.city=$event\"\n                                    matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>State</mat-label>\n                                <input type=\"text\" name=\"state\" [ngModel]=\"(detail$ | async).state\" (ngModelChange)=\"detail.state=$event\"\n                                    matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Zip Code</mat-label>\n                                <input type=\"text\" name=\"zip\" [ngModel]=\"(detail$ | async).zip\" (ngModelChange)=\"detail.zip=$event\"\n                                    matInput [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Phone Number</mat-label>\n                                <input type=\"text\" name=\"phone\" matInput [ngModel]=\"(detail$ | async).phone\"\n                                    (ngModelChange)=\"detail.phone=$event\" [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Date of Birth</mat-label>\n                                <input type=\"text\" name=\"birthDate\" matInput [ngModel]=\"(detail$ | async).birthDate | date:'shortDate'\"\n                                    (ngModelChange)=\"detail.birthDate=$event\" [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Social Security Number</mat-label>\n                                <input type=\"text\" name=\"ssn\" matInput [ngModel]=\"(detail$ | async).ssn\"\n                                    (ngModelChange)=\"detail.ssn=$event\" [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-6\">\n                    <div class=\"row mb-3\">\n                        <div class=\"col-12\">\n                            <mat-form-field>\n                                <mat-label>Routing Number</mat-label>\n                                <input type=\"text\" name=\"routingNo\" matInput [ngModel]=\"(detail$ | async).bankRouting\"\n                                    (ngModelChange)=\"detail.bankRouting=$event\" [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-label>Account Number</mat-label>\n                                <input type=\"text\" name=\"accountNo\" matInput [ngModel]=\"(detail$ | async).bankAccount\"\n                                    (ngModelChange)=\"detail.bankAccount=$event\" [disabled]=\"!editProfile\" />\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </mat-card-content>\n        <mat-card-actions class=\"d-flex justify-content-between\">\n            <button mat-button type=\"button\" *ngIf=\"editProfile\" (click)=\"cancel(f)\">Cancel</button>\n            <button mat-raised-button type=\"submit\" color=\"primary\" *ngIf=\"editProfile\">Save</button>\n        </mat-card-actions>\n    </form>\n</mat-card>\n<mat-card *ngIf=\"client.clientId !== null && client.clientId > 0 && hasOnboarding\">\n    <form #onboardingForm=\"ngForm\" (ngSubmit)=\"saveOnboarding(onboardingForm)\">\n        <mat-card-header class=\"justify-content-between\">\n            <mat-card-title>\n                <h3>Onboarding <small class=\"text-muted\">(coming soon)</small></h3>\n            </mat-card-title>\n            <!-- uncomment when onboarding stuff is ready -->\n            <!-- <mat-slide-toggle class=\"float-right\" [checked]=\"editDetails\" (change)=\"changeOnboardingEditMode(onboardingForm)\" [disabled]=\"onboardingForm.touched\">Edit Mode</mat-slide-toggle> -->\n        </mat-card-header>\n        <mat-card-content class=\"flex-column\">\n            <mat-form-field>\n                <mat-label>Driver's License</mat-label>\n                <input type=\"text\" name=\"license\" matInput [disabled]=\"!editDetails\" />\n            </mat-form-field>\n            <mat-checkbox disabled=\"true\">Direct Deposit Info</mat-checkbox>\n            <mat-checkbox disabled=\"true\">ID Badge Image (headshot)</mat-checkbox>\n            <mat-checkbox disabled=\"true\">Full Profile Image (full body)</mat-checkbox>\n        </mat-card-content>\n        <mat-card-actions class=\"d-flex justify-content-between\">\n            <button mat-button type=\"button\" *ngIf=\"editDetails\" (click)=\"cancelDetails(onboardingForm)\">Cancel</button>\n            <button mat-raised-button type=\"submit\" color=\"primary\" *ngIf=\"editDetails\">Save</button>\n        </mat-card-actions>\n    </form>\n</mat-card>"

/***/ }),

/***/ "./src/app/my-information/my-information.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/my-information/my-information.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".weather-placeholder {\n  min-height: 50px; }\n\nmat-form-field.mat-form-field {\n  display: block;\n  font-size: 16px; }\n\nmat-card {\n  margin: 1rem; }\n\nmat-checkbox {\n  margin: 1rem; }\n\nh1, h2, h3, h4, h5 {\n  color: #505050; }\n\n:host ::ng-deep .mat-slide-toggle-thumb {\n  text-align: center;\n  vertical-align: middle; }\n\n:host ::ng-deep .mat-slide-toggle-thumb::before {\n    font-size: .8rem;\n    font-family: \"Material Icons\";\n    content: \"\\e3c9\"; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvbXktaW5mb3JtYXRpb24vbXktaW5mb3JtYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxpQkFBZ0IsRUFDakI7O0FBRUQ7RUFDRSxlQUFjO0VBQ2QsZ0JBQWUsRUFDaEI7O0FBRUQ7RUFDRSxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSxlQUFjLEVBQ2Y7O0FBR0Q7RUFDRSxtQkFBa0I7RUFDbEIsdUJBQXNCLEVBT3ZCOztBQVREO0lBS0ksaUJBQWdCO0lBQ2hCLDhCQUE2QjtJQUM3QixpQkFBZ0IsRUFDakIiLCJmaWxlIjoic3JjL2FwcC9teS1pbmZvcm1hdGlvbi9teS1pbmZvcm1hdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLndlYXRoZXItcGxhY2Vob2xkZXIge1xuICBtaW4taGVpZ2h0OiA1MHB4O1xufVxuXG5tYXQtZm9ybS1maWVsZC5tYXQtZm9ybS1maWVsZCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbm1hdC1jYXJkIHtcbiAgbWFyZ2luOiAxcmVtO1xufVxuXG5tYXQtY2hlY2tib3gge1xuICBtYXJnaW46IDFyZW07XG59XG5cbmgxLCBoMiwgaDMsIGg0LCBoNSB7XG4gIGNvbG9yOiAjNTA1MDUwO1xufVxuXG4vLyBUYXJnZXRzIGVkaXQgdG9nZ2xlIG9uIHRoZSBwYWdlIHRvIGFwcGx5IG1hdGVyaWFsIGljb24gZWRpdCBwZW5jaWxcbjpob3N0IDo6bmctZGVlcCAubWF0LXNsaWRlLXRvZ2dsZS10aHVtYiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcblxuICAmOjpiZWZvcmUge1xuICAgIGZvbnQtc2l6ZTogLjhyZW07XG4gICAgZm9udC1mYW1pbHk6IFwiTWF0ZXJpYWwgSWNvbnNcIjtcbiAgICBjb250ZW50OiBcIlxcZTNjOVwiO1xuICB9XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/my-information/my-information.component.ts":
/*!************************************************************!*\
  !*** ./src/app/my-information/my-information.component.ts ***!
  \************************************************************/
/*! exports provided: MyInformationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyInformationComponent", function() { return MyInformationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _weather_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../weather.service */ "./src/app/weather.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _loading_spinner_loading_spinner_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../loading-spinner/loading-spinner.service */ "./src/app/loading-spinner/loading-spinner.service.ts");
/* harmony import */ var _campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_models_role_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/models/role.model */ "./src/app/models/role.model.ts");











var MyInformationComponent = /** @class */ (function () {
    function MyInformationComponent(weatherApi, userService, msg, spinner, campaignService, session) {
        this.weatherApi = weatherApi;
        this.userService = userService;
        this.msg = msg;
        this.spinner = spinner;
        this.campaignService = campaignService;
        this.session = session;
        this.detail = {};
        this.editProfile = false;
        this.hasOnboarding = false;
        this.client = {};
        this.ssn = '123456789';
        this.campaigns = [];
        this.allCampaigns = [];
        this.detail$ = this.userService.userDetail$.asObservable();
    }
    MyInformationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.getUserItem().subscribe(function (user) {
            _this.user$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_9__["of"])(user);
            _this.user = user;
            /** set onboarding options */
            _this.hasOnboarding =
                user.sessionUser.client.options != null && user.role.role >= _app_models_role_model__WEBPACK_IMPORTED_MODULE_10__["UserRole"].companyAdmin
                    ? user.sessionUser.client.options.hasOnboarding
                    : false;
            _this.client = user.sessionUser.client;
            _this.welcome = user.firstName;
            _this.joinDate = moment__WEBPACK_IMPORTED_MODULE_2__(user.createdAt.date).format('MMMM Do, YYYY');
            _this.campaignService
                .getCampaigns(_this.user.sessionUser.sessionClient)
                .then(function (campaigns) {
                _this.allCampaigns = campaigns;
                _this.session.hideLoader();
            })
                .catch(_this.msg.showWebApiError);
        });
        // this.user$.subscribe(user => );
        // gets user's location from the browser
        navigator.geolocation.getCurrentPosition(function (pos) {
            _this.initWeather(pos.coords.longitude, pos.coords.latitude);
        });
    };
    MyInformationComponent.prototype.initWeather = function (longitude, latitude) {
        var _this = this;
        this.weatherApi.getWeatherByGeoLocale(longitude, latitude).then(function (result) {
            _this.weather = result;
            _this.minTemp = _this.convertToFahrenheit(_this.weather.main.temp_min);
            _this.maxTemp = _this.convertToFahrenheit(_this.weather.main.temp_max);
        });
    };
    MyInformationComponent.prototype.convertToFahrenheit = function (temp) {
        var result = 1.8 * (temp - 273) + 32;
        result = Math.round(result);
        return result + 'F';
    };
    MyInformationComponent.prototype.changeEditMode = function (f) {
        if (!f.dirty) {
            this.editProfile = !this.editProfile;
        }
        else {
            f.reset();
        }
    };
    MyInformationComponent.prototype.changeOnboardingEditMode = function (f) {
        if (!f.dirty) {
            this.editDetails = !this.editDetails;
        }
        else {
            f.reset();
        }
    };
    MyInformationComponent.prototype.save = function (f) {
        this.spinner.show();
        // if account numbers are null, make them zeros to be inserted into db
        this.formatBankAccountNumbers();
        this.userService.updateUser(this.user, this.detail);
        f.reset();
        this.editProfile = !this.editProfile;
        this.msg.addMessage('Saved successfully.', 'dismiss', 6000);
    };
    // need to finish this
    MyInformationComponent.prototype.cancel = function (f) {
        this.userService.reloadUser();
        this.editProfile = !this.editProfile;
    };
    MyInformationComponent.prototype.cancelDetails = function (f) {
        this.userService.reloadUserDetail();
        this.editDetails = !this.editDetails;
    };
    MyInformationComponent.prototype.saveOnboarding = function (f) {
        console.dir(f);
    };
    MyInformationComponent.prototype.clearId = function (saleIdName, campaignName) {
        this.detail[saleIdName] = null;
        this.detail[campaignName] = null;
    };
    MyInformationComponent.prototype.resetUserFormFields = function (f, user) {
        for (var key in f.value) {
            if (!f.value.hasOwnProperty(key))
                continue;
            var obj = f.form.controls[key];
            if (!obj.dirty)
                continue;
            this.user[key] = user[key];
            obj.markAsUntouched();
        }
    };
    MyInformationComponent.prototype.formatBankAccountNumbers = function (pageLoad) {
        if (pageLoad === void 0) { pageLoad = false; }
        if (pageLoad) {
            this.detail.bankRouting = this.detail.bankRouting === 0 ? null : this.detail.bankRouting;
            this.detail.bankAccount = this.detail.bankAccount === 0 ? null : this.detail.bankAccount;
        }
        else {
            this.detail.bankRouting = this.detail.bankRouting ? this.detail.bankRouting : 0;
            this.detail.bankAccount = this.detail.bankAccount ? this.detail.bankAccount : 0;
        }
    };
    MyInformationComponent.prototype.setEmptyUserDetail = function () {
        return {
            userDetailId: null,
            userId: null,
            street: null,
            street2: null,
            city: null,
            state: null,
            zip: null,
            phone: null,
            ssn: null,
            birthDate: null,
            bankRouting: null,
            bankAccount: null,
            saleOneId: null,
            saleTwoId: null,
            saleThreeId: null,
            createdAt: null,
            updatedAt: null
        };
    };
    MyInformationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'my-information',
            template: __webpack_require__(/*! ./my-information.component.html */ "./src/app/my-information/my-information.component.html"),
            styles: [__webpack_require__(/*! ./my-information.component.scss */ "./src/app/my-information/my-information.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_weather_service__WEBPACK_IMPORTED_MODULE_3__["WeatherService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"],
            _message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"],
            _loading_spinner_loading_spinner_service__WEBPACK_IMPORTED_MODULE_6__["LoadingSpinnerService"],
            _campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_7__["CampaignService"],
            _session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"]])
    ], MyInformationComponent);
    return MyInformationComponent;
}());



/***/ }),

/***/ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.html":
/*!********************************************************************************************************!*\
  !*** ./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.html ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div mat-dialog-title>\n    <h4>Confirm Auto-Release Date</h4>\n</div>\n<mat-dialog-content>\n    <p>\n        Please confirm your selection of date:\n    </p>\n    <p class=\"font-weight-bold text-center\">{{date | date:'fullDate'}}</p>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button type=\"button\" mat-raised-button color=\"accent\" (click)=\"onNoClick()\">Go Back</button>\n    <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"confirmDate()\">Confirm</button>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.scss":
/*!********************************************************************************************************!*\
  !*** ./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.scss ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvY29uZmlybS1hdXRvcmVsZWFzZS1kYXRlLWRpYWxvZy9jb25maXJtLWF1dG9yZWxlYXNlLWRhdGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.ts":
/*!******************************************************************************************************!*\
  !*** ./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: ConfirmAutoreleaseDateDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmAutoreleaseDateDialogComponent", function() { return ConfirmAutoreleaseDateDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var ConfirmAutoreleaseDateDialogComponent = /** @class */ (function () {
    function ConfirmAutoreleaseDateDialogComponent(ref, data) {
        this.ref = ref;
        this.data = data;
        this.date = this.data.date;
    }
    ConfirmAutoreleaseDateDialogComponent.prototype.ngOnInit = function () { };
    ConfirmAutoreleaseDateDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    ConfirmAutoreleaseDateDialogComponent.prototype.confirmDate = function () {
        this.ref.close(this.date);
    };
    ConfirmAutoreleaseDateDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-confirm-autorelease-date-dialog',
            template: __webpack_require__(/*! ./confirm-autorelease-date-dialog.component.html */ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.html"),
            styles: [__webpack_require__(/*! ./confirm-autorelease-date-dialog.component.scss */ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], ConfirmAutoreleaseDateDialogComponent);
    return ConfirmAutoreleaseDateDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<ng-template #detailTemplate let-details=\"details\">\n    <ng-container *ngFor=\"let detail of details; let ii = index\">\n        <div class=\"row my-3\">\n            <div class=\"col-md-11 offset-md-1 d-flex justify-content-between\">\n                <div>{{detail.agent.firstName}} {{detail.agent.lastName}}</div>\n                <div class=\"text-muted font-italic\">{{detail.sales}} {{detail.sales > 1 ? 'sales' : 'sale'}}</div>\n                <div class=\"text-muted\">{{detail | payrollDetailTotals:'netTotal' | currency}}</div>\n            </div>\n        </div>\n    </ng-container>\n</ng-template>\n\n<div mat-dialog-title class=\"d-flex justify-content-between\">\n    <h4 class=\"font-weight-bold\">Confirm to release {{payrolls.length}} {{payrolls.length > 1 ? 'payroll cycles.' : 'payroll cycle.'}}</h4>\n    <button type=\"button\" mat-icon-button (click)=\"onNoClick()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<mat-dialog-content>\n    <p class=\"text-muted font-italic\">\n        Once confirmed, the respective pay checks will be locked for release and can no longer be edited. Please ensure\n        that you are confirming the proper pay checks to be released. \n    </p>\n    <ng-container *ngFor=\"let p of payrolls; let i = index\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <span class=\"font-weight-bold mb-4\">{{(i + 1)+'.'}} </span>\n                <span class=\"font-weight-bold mb-4\">{{p.payCycle.startDate | date:'mediumDate'}} - {{p.payCycle.endDate | date:'mediumDate'}}</span>\n                <ng-container *ngTemplateOutlet=\"detailTemplate;context:{details:p.details}\"></ng-container>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"payrolls.length\">\n        <div class=\"row border-top pt-2 mt-2\">\n            <div class=\"col-md-12 d-flex justify-content-between font-weight-bold\">\n                <span>Gross Total projected in this release</span>\n                <span>{{payrolls | grossTotalReleaseAmount | currency}}</span>\n            </div>\n        </div>\n    </ng-container>\n</mat-dialog-content>\n<mat-dialog-actions class=\"mt-3 d-flex justify-content-between\">\n    <button type=\"button\" mat-button (click)=\"onNoClick()\">Go Back</button>\n    <button type=\"button\" mat-button color=\"primary\" (click)=\"confirmRelease()\">Confirm</button>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.scss ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvY29uZmlybS1yZWxlYXNlLWRpYWxvZy9jb25maXJtLXJlbGVhc2UtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.ts ***!
  \************************************************************************************/
/*! exports provided: ConfirmReleaseDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmReleaseDialogComponent", function() { return ConfirmReleaseDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);




var ConfirmReleaseDialogComponent = /** @class */ (function () {
    function ConfirmReleaseDialogComponent(ref, data) {
        this.ref = ref;
        this.data = data;
        this.grossTotalReleaseAmount = 0;
    }
    ConfirmReleaseDialogComponent.prototype.ngOnInit = function () {
        this.payrolls = this.data.payrolls || [];
        this.grossTotalReleaseAmount = this.grossTotalReleaseAmount + (lodash__WEBPACK_IMPORTED_MODULE_3__["sumBy"](this.payrolls, function (p) { return lodash__WEBPACK_IMPORTED_MODULE_3__["sumBy"](p.details, function (d) { return +d.grossTotal; }); }));
    };
    ConfirmReleaseDialogComponent.prototype.confirmRelease = function () {
        this.ref.close(true);
    };
    ConfirmReleaseDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    ConfirmReleaseDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-confirm-release-dialog',
            template: __webpack_require__(/*! ./confirm-release-dialog.component.html */ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.html"),
            styles: [__webpack_require__(/*! ./confirm-release-dialog.component.scss */ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], ConfirmReleaseDialogComponent);
    return ConfirmReleaseDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/confirm-release-dialog/gross-total-release-amount.pipe.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/payroll/confirm-release-dialog/gross-total-release-amount.pipe.ts ***!
  \***********************************************************************************/
/*! exports provided: GrossTotalReleaseAmountPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GrossTotalReleaseAmountPipe", function() { return GrossTotalReleaseAmountPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var GrossTotalReleaseAmountPipe = /** @class */ (function () {
    function GrossTotalReleaseAmountPipe() {
    }
    /**
     * Iterates through all payrolls, details and calculates the totals of the sales, expenses and overrides.
     *
     * @param payrolls
     * @param args
     */
    GrossTotalReleaseAmountPipe.prototype.transform = function (payrolls, args) {
        var total = 0;
        payrolls.forEach(function (p) {
            p.details.forEach(function (d) {
                var salesGross = d.grossTotal;
                var expenses = d.expenses.map(function (e) { return e.amount; }).reduce(function (t, n) { return t + n; }, 0);
                var overrides = d.overrides.map(function (o) { return (o.amount * o.units); }).reduce(function (t, n) { return t + n; }, 0);
                total += (+salesGross + +expenses + +overrides);
            });
        });
        return total;
    };
    GrossTotalReleaseAmountPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'grossTotalReleaseAmount'
        })
    ], GrossTotalReleaseAmountPipe);
    return GrossTotalReleaseAmountPipe;
}());



/***/ }),

/***/ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/payroll/override-expense-dialog/override-expense-dialog.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div mat-dialog-title class=\"d-flex justify-content-between\">\n    <h3>Paycheck Adjustments</h3>\n    <button type=\"button\" mat-icon-button (click)=\"onNoClick()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<mat-dialog-content>\n    <mat-tab-group [formGroup]=\"f\">\n\n        <!-- OVERRIDES TAB -->\n        <mat-tab label=\"Overrides\" formArrayName=\"overrides\" #overrideTab>\n            \n            <ng-container *ngFor=\"let o of detail.overrides; let i = index\">\n                <div class=\"row mt-4 mb-2\" [formGroupName]=\"i\">\n                    <div class=\"col-md-4\">\n                        <mat-form-field class=\"w-100\">\n                            <mat-select placeholder=\"Agent\" formControlName=\"agentId\" required>\n                                <mat-option *ngFor=\"let a of agents\" [value]=\"a.agentId\">\n                                    {{a.firstName}} {{a.lastName}}\n                                </mat-option>\n                            </mat-select>\n                            <mat-error *ngIf=\"f.get(['overrides', i, 'agentId']).hasError('required')\">\n                                Please select an agent\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <mat-form-field class=\"w-100\">\n                            <input type=\"text\" matInput\n                                placeholder=\"No. of Units\"\n                                formControlName=\"units\" \n                                required />\n                            <mat-error *ngIf=\"f.get(['overrides', i, 'units']).hasError('required')\">\n                                Please enter a number of units\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-4 d-flex\">\n                        <div>\n                            <mat-form-field class=\"w-100\">\n                                <input type=\"text\" matInput\n                                    placeholder=\"Amount per Unit\"\n                                    (blur)=\"formatCurrencyOnBlur(f.get(['overrides', i, 'amount']), $event)\"\n                                    formControlName=\"amount\"\n                                    required />\n                                <mat-error *ngIf=\"f.get(['overrides', i, 'amount']).hasError('required')\">\n                                    Please enter an amount per unit\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                        <button type=\"button\"\n                            mat-icon-button\n                            *ngIf=\"detail.overrides[i].overrideId == null || detail.overrides[i].overrideId == 0\"\n                            (click)=\"removeUnsavedOverride(i)\"\n                        >\n                            <mat-icon>remove_circle_outline</mat-icon>\n                        </button>\n                    </div>\n                </div>\n                <mat-divider></mat-divider>\n            </ng-container>\n            <ng-container *ngIf=\"detail.overrides == null || detail.overrides.length == 0\">\n                <div class=\"row my-4\">\n                    <div class=\"col-md-12\">\n                        <h5 class=\"text-muted font-italic\">\n                            No overrides for this paycheck. Click the add button below if you'd like to add one.\n                        </h5>\n                    </div>\n                </div>\n            </ng-container>\n            \n        </mat-tab>\n\n        <!-- EXPENSES TAB -->\n        <mat-tab label=\"Expenses\" formArrayName=\"expenses\" #expenseTab>\n            \n            <ng-container *ngFor=\"let e of detail.expenses; let i = index\">\n                <ng-container [formGroupName]=\"i\">\n                    <div class=\"row mt-4\">\n                        <div class=\"col-md-5\">\n                            <mat-form-field class=\"w-100\">\n                                <input type=\"text\" matInput\n                                    placeholder=\"Title\"\n                                    formControlName=\"title\"\n                                />\n                            </mat-form-field>\n                        </div>\n                        <div class=\"col-md-3\">\n                            <mat-form-field class=\"w-100\">\n                                <input type=\"text\" matInput\n                                    placeholder=\"Amount\"\n                                    (blur)=\"formatCurrencyOnBlur(f.get(['expenses', i, 'amount']), $event)\"\n                                    formControlName=\"amount\"\n                                    required\n                                />\n                            </mat-form-field>\n                        </div>\n                        <div class=\"col-md-4 d-flex\">\n                            <div>\n                                <mat-form-field class=\"w-100\">\n                                    <input matInput\n                                        [matDatepicker]=\"expenseDatepicker\"\n                                        placeholder=\"Date\"\n                                        formControlName=\"expenseDate\"\n                                        required\n                                    />\n                                    <mat-datepicker-toggle matSuffix [for]=\"expenseDatepicker\"></mat-datepicker-toggle>\n                                    <mat-datepicker #expenseDatepicker></mat-datepicker>\n                                </mat-form-field>\n                            </div>\n                            <button type=\"button\"\n                                mat-icon-button\n                                *ngIf=\"detail.expenses[i].expenseId == null || detail.expenses[i].expenseId == 0\"\n                                (click)=\"removeUnsavedExpense(i)\"\n                            >\n                                <mat-icon>remove_circle_outline</mat-icon>\n                            </button>\n                        </div>\n                    </div>\n                    <div class=\"row mb-2\">\n                        <div class=\"col-md-12\">\n                            <mat-form-field class=\"w-100\">\n                                <textarea matInput \n                                    placeholder=\"Description\" \n                                    formControlName=\"description\"\n                                    rows=\"5\"\n                                ></textarea>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </ng-container>\n                <mat-divider></mat-divider>\n            </ng-container>\n            <ng-container *ngIf=\"detail.expenses == null || detail.expenses.length == 0\">\n                <div class=\"row my-4\">\n                    <div class=\"col-md-12\">\n                        <h5 class=\"text-muted font-italic\">\n                            No expenses for this paycheck. Click the add button below if you'd like to add one.\n                        </h5>\n                    </div>\n                </div>\n            </ng-container>\n\n        </mat-tab>\n\n    </mat-tab-group>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-end\">\n    <button type=\"button\" mat-button color=\"primary\" (click)=\"addAdjustment()\">\n        Add {{ getActiveTabTitle() }}\n    </button>\n    <ng-container *ngIf=\"f.dirty && f.touched\">\n        <div class=\"d-flex\" [@enter]>\n            <mat-divider inset=\"true\"></mat-divider>\n            <button type=\"button\" mat-button\n                color=\"warn\"\n                (click)=\"onNoClick()\"\n            >Cancel</button>\n            <button type=\"button\" mat-button\n                color=\"primary\"\n                (click)=\"saveForm()\"\n            >Save</button>\n        </div>\n    </ng-container>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/payroll/override-expense-dialog/override-expense-dialog.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvb3ZlcnJpZGUtZXhwZW5zZS1kaWFsb2cvb3ZlcnJpZGUtZXhwZW5zZS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/payroll/override-expense-dialog/override-expense-dialog.component.ts ***!
  \**************************************************************************************/
/*! exports provided: OverrideExpenseDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverrideExpenseDialogComponent", function() { return OverrideExpenseDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");





var OverrideExpenseDialogComponent = /** @class */ (function () {
    function OverrideExpenseDialogComponent(ref, data, fb) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.f = this.createForm();
        this.detail = this.data.detail || {};
        this.agents = this.data.agents || [];
    }
    OverrideExpenseDialogComponent.prototype.ngOnInit = function () {
        if (this.detail != null)
            this.buildFormArrays();
    };
    OverrideExpenseDialogComponent.prototype.addAdjustment = function () {
        if (this.overrideTab.isActive)
            this.addOverrideFormItem();
        else
            this.addExpenseFormItem();
    };
    OverrideExpenseDialogComponent.prototype.getActiveTabTitle = function () {
        if (this.overrideTab.isActive) {
            return 'Override';
        }
        else if (this.expenseTab.isActive) {
            return 'Expense';
        }
        return 'Adjustment';
    };
    Object.defineProperty(OverrideExpenseDialogComponent.prototype, "overrides", {
        get: function () {
            return this.f.controls.overrides.value;
        },
        enumerable: true,
        configurable: true
    });
    OverrideExpenseDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    OverrideExpenseDialogComponent.prototype.removeUnsavedOverride = function (index) {
        if (this.detail.overrides[index].overrideId == null || this.detail.overrides[index].overrideId == 0) {
            this.detail.overrides.splice(index, 1);
            this.f.get('overrides').removeAt(index);
        }
    };
    OverrideExpenseDialogComponent.prototype.removeUnsavedExpense = function (index) {
        if (this.detail.expenses[index].expenseId == null || this.detail.expenses[index].expenseId == 0) {
            this.detail.expenses.splice(index, 1);
            this.f.get('expenses').removeAt(index);
        }
    };
    OverrideExpenseDialogComponent.prototype.formatCurrencyOnBlur = function (element, event) {
        var result = event.target.value;
        var i = result.lastIndexOf('.');
        if (i == -1) {
            result = result + ".00";
        }
        else if (result.slice(i).length < 2) {
            var cents = result.slice(i);
            if (cents == 0)
                result = result.slice(0, i) + '00';
            else
                result = result.slice(0, result.length - 1) + '0';
        }
        else if (result.slice(i).length > 2) {
            var cents = result.slice(i);
            result = result.replace(cents, "." + cents.slice(-2));
        }
        if (result.charAt(0) != '$')
            result = "$" + result;
        element.patchValue(result);
    };
    OverrideExpenseDialogComponent.prototype.saveForm = function () {
        if (!this.f.valid)
            return;
        var model = this.prepareModel();
        this.ref.close(model);
    };
    OverrideExpenseDialogComponent.prototype.prepareModel = function () {
        var overridesForm = this.f.get('overrides');
        var expensesForm = this.f.get('expenses');
        var overrides = [];
        var expenses = [];
        overridesForm.value.forEach(function (o) {
            overrides.push({
                overrideId: o.overrideId,
                payrollDetailsId: o.payrollDetailsId,
                agentId: o.agentId,
                amount: o.amount,
                units: o.units
            });
        });
        expensesForm.value.forEach(function (e) {
            expenses.push({
                expenseId: e.expenseId,
                payrollDetailsId: e.payrollDetailsId,
                agentId: e.agentId,
                amount: e.amount,
                description: e.description,
                expenseDate: e.expenseDate,
                title: e.title
            });
        });
        this.detail.overrides = overrides;
        this.detail.expenses = expenses;
        return this.detail;
    };
    OverrideExpenseDialogComponent.prototype.isNumericKeyPress = function (key) {
        var numericKeys = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
        return numericKeys.includes(key);
    };
    OverrideExpenseDialogComponent.prototype.isNumeric = function (value) {
        return !isNaN(value - parseFloat(value));
    };
    OverrideExpenseDialogComponent.prototype.addOverrideFormItem = function () {
        this.f.get('overrides').push(this.fb.group({
            overrideId: this.fb.control(''),
            payrollDetailsId: this.fb.control(this.detail.payrollDetailsId),
            agentId: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            units: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            amount: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        }));
        this.detail.overrides.push({
            overrideId: null,
            payrollDetailsId: this.detail.payrollDetailsId,
            agentId: this.detail.agentId,
            units: null,
            amount: null
        });
    };
    OverrideExpenseDialogComponent.prototype.addExpenseFormItem = function () {
        this.f.get('expenses').push(this.fb.group({
            expenseId: this.fb.control(''),
            payrollDetailsId: this.fb.control(this.detail.payrollDetailsId),
            agentId: this.fb.control(this.detail.agentId),
            title: this.fb.control(''),
            description: this.fb.control(''),
            amount: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            expenseDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        }));
        this.detail.expenses.push({
            expenseId: null,
            payrollDetailsId: this.detail.payrollDetailsId,
            agentId: this.detail.agentId,
            title: null,
            description: null,
            amount: null,
            expenseDate: null
        });
    };
    OverrideExpenseDialogComponent.prototype.buildFormArrays = function () {
        this.createOverridesFormArray();
        this.createExpensesFormArray();
    };
    OverrideExpenseDialogComponent.prototype.createForm = function () {
        return this.fb.group({
            overrides: this.fb.array([]),
            expenses: this.fb.array([])
        });
    };
    OverrideExpenseDialogComponent.prototype.createOverridesFormArray = function () {
        var _this = this;
        if (this.detail.overrides == null || this.detail.overrides.length == 0)
            return;
        this.detail.overrides.forEach(function (o) {
            _this.f.get('overrides').push(_this.fb.group({
                overrideId: _this.fb.control(o.overrideId),
                payrollDetailsId: _this.fb.control(o.payrollDetailsId),
                agentId: _this.fb.control(o.agentId, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
                units: _this.fb.control(o.units, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
                amount: _this.fb.control(o.amount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
            }));
        });
    };
    OverrideExpenseDialogComponent.prototype.createExpensesFormArray = function () {
        var _this = this;
        if (this.detail.expenses == null || this.detail.expenses.length == 0)
            return;
        this.detail.expenses.forEach(function (e) {
            _this.f.get('expenses').push(_this.fb.group({
                expenseId: _this.fb.control(e.expenseId),
                payrollDetailsId: _this.fb.control(e.payrollDetailsId),
                agentId: _this.fb.control(e.agentId),
                title: _this.fb.control(e.title),
                description: _this.fb.control(e.description),
                amount: _this.fb.control(e.amount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
                expenseDate: _this.fb.control(e.expenseDate, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
            }));
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('overrideTab'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTab"])
    ], OverrideExpenseDialogComponent.prototype, "overrideTab", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('expenseTab'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTab"])
    ], OverrideExpenseDialogComponent.prototype, "expenseTab", void 0);
    OverrideExpenseDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-override-expense-dialog',
            template: __webpack_require__(/*! ./override-expense-dialog.component.html */ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.html"),
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["trigger"])('enter', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["transition"])(':enter', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["style"])({ transform: 'translateX(100%)', opacity: 0 }),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["animate"])('500ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["style"])({ transform: 'translateX(0)', opacity: 1 }))
                    ]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["transition"])(':leave', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["style"])({ transform: 'translateX(0)', opacity: 1 }),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["animate"])('500ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_4__["style"])({ transform: 'translateX(100%)', opacity: 0 }))
                    ])
                ])
            ],
            styles: [__webpack_require__(/*! ./override-expense-dialog.component.scss */ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]])
    ], OverrideExpenseDialogComponent);
    return OverrideExpenseDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.html ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<h4 mat-dialog-title class=\"d-flex justify-content-between\">\n    <span>Are you sure?</span>\n    <button type=\"button\" mat-icon-button (click)=\"cancelDialog()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</h4>\n<mat-dialog-content>\n    You have selected sales with a status of \"unpaid\". Are you sure this is correct? \n</mat-dialog-content>\n<mat-dialog-actions class=\"justify-content-between\">\n    <button type=\"button\" mat-button (click)=\"cancelDialog()\">\n        <mat-icon>thumb_down</mat-icon> NO\n    </button>\n    <button type=\"button\" mat-stroked-button color=\"primary\" (click)=\"confirmSales()\">\n        <mat-icon>thumb_up</mat-icon> YES\n    </button>\n</mat-dialog-actions>\n"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.scss":
/*!*****************************************************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.scss ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvcGF5LWN5Y2xlL2NvbXBvbmVudHMvY29uZmlybS11bnBhaWQtc2VsZWN0aW9uLWRpYWxvZy9jb25maXJtLXVucGFpZC1zZWxlY3Rpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.ts":
/*!***************************************************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.ts ***!
  \***************************************************************************************************************************/
/*! exports provided: ConfirmUnpaidSelectionDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmUnpaidSelectionDialogComponent", function() { return ConfirmUnpaidSelectionDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var ConfirmUnpaidSelectionDialogComponent = /** @class */ (function () {
    function ConfirmUnpaidSelectionDialogComponent(data, dialog) {
        this.data = data;
        this.dialog = dialog;
    }
    ConfirmUnpaidSelectionDialogComponent.prototype.ngOnInit = function () { };
    ConfirmUnpaidSelectionDialogComponent.prototype.confirmSales = function () {
        this.dialog.close(this.data.sales);
    };
    ConfirmUnpaidSelectionDialogComponent.prototype.cancelDialog = function () {
        this.dialog.close();
    };
    ConfirmUnpaidSelectionDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-confirm-unpaid-selection-dialog',
            template: __webpack_require__(/*! ./confirm-unpaid-selection-dialog.component.html */ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.html"),
            styles: [__webpack_require__(/*! ./confirm-unpaid-selection-dialog.component.scss */ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object, _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"]])
    ], ConfirmUnpaidSelectionDialogComponent);
    return ConfirmUnpaidSelectionDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-header>\n                    <div mat-card-avatar>\n                        <mat-icon class=\"md-36\">assignment</mat-icon>\n                    </div>\n                    <mat-card-title class=\"d-flex justify-content-between\">\n                        <h4>\n                            Edit Open Payroll Cycle\n                            <ng-container *ngIf=\"salesLoaded\">\n                                [{{_cycle.startDate | date:'shortDate'}} - {{_cycle.endDate | date:'shortDate'}}]\n                            </ng-container>\n                        </h4>\n                        <!-- <button type=\"button\" mat-icon-button>\n                            <mat-icon>clear</mat-icon>\n                        </button> -->\n                    </mat-card-title>\n                    <mat-card-subtitle>\n                        Select sales that you would like included in this payroll cycle. We have pre-selected all sales by sale date that \n                        qualify and are within the payroll cycle's start and end dates. You may de-select sales you would like to exclude. \n                        If a sale is missing, you may want to ensure it hasn't been paid and is on the <a [routerLink]=\"['/daily-tracker']\">Sales Tracker</a>.\n                    </mat-card-subtitle>\n                </mat-card-header>\n                <mat-card-content>\n                    <div class=\"row\">\n                        <h5 class=\"col-md-4\">\n                            Select Sales\n                        </h5>\n                        <div class=\"col-md-8 d-flex justify-content-end align-items-baseline\">\n                            <div class=\"mr-2\">\n                                <mat-button-toggle #toggle (change)=\"toggleSelectAll($event)\">\n                                    {{toggle.checked ? 'Deselect All' : 'Select All'}}\n                                </mat-button-toggle>\n                            </div>\n                            <mat-form-field>\n                                <mat-label>Filter by Agent</mat-label>\n                                <mat-select (selectionChange)=\"filterSalesByAgent($event)\">\n                                    <mat-option value=\"\" class=\"text-muted\">Show All</mat-option>\n                                    <mat-option *ngFor=\"let a of agentsFilter\" [value]=\"a\">\n                                        {{a.firstName}} {{a.lastName}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                            <button type=\"button\" mat-button color=\"primary\" (click)=\"saveSalesList()\">\n                                <mat-icon>save</mat-icon> Save\n                            </button>\n                        </div>\n                    </div>\n                    <mat-selection-list #sales> \n                        <mat-list-option \n                            #option\n                            *ngFor=\"let asale of sales$|async\"\n                            [selected]=\"asale.payCycleId != null\"\n                            [value]=\"asale\"\n                            [class.hide]=\"hideSelectedOptions && option.selected\"\n                        >\n                            <div matLine class=\"d-flex justify-content-between\">\n                                <div class=\"font-weight-bold\" *ngIf=\"asale.contact != null; else noContact\">\n                                    {{asale?.contact.firstName}} {{asale?.contact.lastName}}\n                                </div>\n                                <ng-template #noContact>\n                                    <div class=\"text-muted\">\n                                        Looks like this sale might be missing some contact info.\n                                    </div>\n                                </ng-template>\n                                <span class=\"font-italic text-muted\">{{salePaidStatusDisplayText(asale)}}</span>\n                            </div>\n                            <div matLine class=\"text-muted\">\n                                <address>\n                                    {{asale.street}} {{asale.street2}}\n                                    {{asale.city}} {{asale.state}} {{asale.zip}}\n                                </address>\n                            </div>\n                            <div matLine class=\"font-italic\">\n                                Date: {{asale.saleDate | date:'shortDate'}}\n                            </div>\n                            <div matLine class=\"text-muted\">\n                                Agent: {{asale.agent.firstName}} {{asale.agent.lastName}}\n                            </div>\n                        </mat-list-option>\n                    </mat-selection-list>\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.scss ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvcGF5LWN5Y2xlL2NvbXBvbmVudHMvZWRpdC1wYXktY3ljbGUvZWRpdC1wYXktY3ljbGUuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: EditPayCycleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditPayCycleComponent", function() { return EditPayCycleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _pay_cycle_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../pay-cycle.service */ "./src/app/payroll/pay-cycle/pay-cycle.service.ts");
/* harmony import */ var _confirm_unpaid_selection_dialog_confirm_unpaid_selection_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component */ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.ts");













var EditPayCycleComponent = /** @class */ (function () {
    function EditPayCycleComponent(session, service, fb, router, dialog, msg) {
        this.session = session;
        this.service = service;
        this.fb = fb;
        this.router = router;
        this.dialog = dialog;
        this.msg = msg;
        this.salesLoaded = false;
        this.sales$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
        this.hideSelectedOptions = false;
    }
    EditPayCycleComponent.prototype.ngOnInit = function () {
        this._cycle = this.service.cycle;
        this.initPage();
    };
    EditPayCycleComponent.prototype.isSelectedSale = function (sale) {
        if (sale == null)
            return false;
        var saleDate = moment__WEBPACK_IMPORTED_MODULE_7__(sale.saleDate);
        return saleDate.isBetween(this._cycle.startDate, this._cycle.endDate, null, '[]');
    };
    EditPayCycleComponent.prototype.toggleSelectAll = function (event) {
        this.salesList.options.forEach(function (item, i, a) {
            item.selected = event.source.checked;
        });
    };
    EditPayCycleComponent.prototype.initPage = function () {
        var _this = this;
        if (this.salesLoaded)
            return;
        if (this._cycle == null) {
            this.router.navigate(['admin/pay']);
            return;
        }
        this.session.getUserItem().subscribe(function (u) {
            _this.user = u;
            _this.service.getPayCycleSales(_this.user.sessionUser.sessionClient, _this._cycle.startDate, _this._cycle.endDate, _this._cycle.payCycleId).subscribe(function (sales) {
                _this._sales = sales;
                _this.sales$.next(sales);
                _this.salesLoaded = true;
                _this.handleSelectionChanges();
                _this.buildAgentFilter();
            });
        });
    };
    EditPayCycleComponent.prototype.createForm = function () {
        this.form = this.fb.group({});
    };
    EditPayCycleComponent.prototype.handleSelectionChanges = function () {
        var _this = this;
        this.salesList.selectionChange.subscribe(function (changes) {
            _this.selectedSales = changes.source.selectedOptions.selected.map(function (option) {
                return option.value;
            });
        });
    };
    EditPayCycleComponent.prototype.confirmUnpaidSelection = function (sales) {
        var _this = this;
        this.dialog.open(_confirm_unpaid_selection_dialog_confirm_unpaid_selection_dialog_component__WEBPACK_IMPORTED_MODULE_12__["ConfirmUnpaidSelectionDialogComponent"], {
            autoFocus: false,
            width: '30vw',
            data: {
                sales: sales
            }
        })
            .afterClosed()
            .subscribe(function (confirmed) {
            if (confirmed)
                _this.handleConfirmedSave(sales);
        });
    };
    EditPayCycleComponent.prototype.buildAgentFilter = function () {
        var agents = [];
        this._sales.forEach(function (s, i, a) {
            if (lodash__WEBPACK_IMPORTED_MODULE_9__["includes"](lodash__WEBPACK_IMPORTED_MODULE_9__["map"](agents, function (a) { return a.agentId; }), s.agent.agentId))
                return;
            agents.push(s.agent);
        });
        this.agentsFilter = agents;
    };
    EditPayCycleComponent.prototype.filterSalesByAgent = function (event) {
        if (event == null || event.value == null || event.value == "") {
            this.sales$.next(this._sales);
            return;
        }
        var filteredSales = this._sales.filter(function (s) {
            return s.agentId == event.value.agentId;
        });
        this.sales$.next(filteredSales);
    };
    EditPayCycleComponent.prototype.salePaidStatusDisplayText = function (sale) {
        if (sale.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].unpaid)
            return 'Sale is unpaid.';
        if (sale.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].paid)
            return 'Sale has been paid.';
        if (sale.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].chargeback)
            return 'Sale has been reversed and charged back.';
        if (sale.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].repaid)
            return 'Sale has been repaid.';
    };
    EditPayCycleComponent.prototype.saveSalesList = function () {
        this.filterSalesByAgent(null);
        var sales = this.salesList.selectedOptions.selected.map(function (val) { return val.value; });
        var needsConfirmation = sales.filter(function (s) { return s.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].unpaid || s.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_5__["PaidStatusType"].chargeback; });
        if (needsConfirmation.length)
            this.confirmUnpaidSelection(sales);
        else
            this.handleConfirmedSave(sales);
    };
    EditPayCycleComponent.prototype.handleConfirmedSave = function (sales) {
        var _this = this;
        var salesIds = sales.map(function (s) { return s.dailySaleId; });
        this._sales.forEach(function (s, i, a) {
            if (salesIds.includes(s.dailySaleId))
                a[i].payCycleId = _this._cycle.payCycleId;
        });
        this.service.updateDailySaleWithPayCycle(this.user.sessionUser.sessionClient, this._cycle.payCycleId, this._sales)
            .subscribe(function (sales) {
            _this.msg.addMessage('Saved successfully!', 'dismiss', 1500);
            setTimeout(function () { return _this.router.navigate(['admin/pay']); }, 1500);
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('sales'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatSelectionList"])
    ], EditPayCycleComponent.prototype, "salesList", void 0);
    EditPayCycleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-edit-pay-cycle',
            template: __webpack_require__(/*! ./edit-pay-cycle.component.html */ "./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.html"),
            styles: [__webpack_require__(/*! ./edit-pay-cycle.component.scss */ "./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _pay_cycle_service__WEBPACK_IMPORTED_MODULE_11__["PayCycleService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"]])
    ], EditPayCycleComponent);
    return EditPayCycleComponent;
}());



/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.html":
/*!***********************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h2 mat-dialog-title>Create Payroll Cycle</h2>\n<div mat-dialog-content [formGroup]=\"form\">\n    <div class=\"row\">\n        <div class=\"col-md-6\">\n            <mat-form-field>\n                <input type=\"text\" \n                    matInput \n                    [matDatepicker]=\"startDatepicker\" \n                    formControlName=\"startDate\" \n                    [min]=\"minimumDate\"\n                    placeholder=\"Start Date\"\n                    required\n                />\n                <mat-datepicker-toggle [for]=\"startDatepicker\" matSuffix></mat-datepicker-toggle>\n                <mat-datepicker #startDatepicker></mat-datepicker>\n                <mat-error *ngIf=\"form.get('startDate').hasError('required')\">\n                    Please select a start date.\n                </mat-error>\n            </mat-form-field>\n        </div>\n        <div class=\"col-md-6\">\n            <mat-form-field>\n                <input type=\"text\" \n                    matInput \n                    [matDatepicker]=\"endDatepicker\" \n                    formControlName=\"endDate\"\n                    placeholder=\"End Date\"\n                    required\n                />\n                <mat-datepicker-toggle [for]=\"endDatepicker\" matSuffix></mat-datepicker-toggle>\n                <mat-datepicker #endDatepicker></mat-datepicker>\n                <mat-error *ngIf=\"form.get('endDate').hasError('required')\">\n                    Please select an end date.\n                </mat-error>\n            </mat-form-field>\n        </div>\n    </div>\n</div>\n<div mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button type=\"button\" mat-button (click)=\"onNoClick()\">Cancel</button>\n    <button type=\"button\" mat-button color=\"primary\" (click)=\"saveForm()\">\n        <mat-icon inline=\"true\">save</mat-icon>\n        <span>Save</span>\n    </button>\n</div>"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.scss":
/*!***********************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.scss ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvcGF5LWN5Y2xlL2NvbXBvbmVudHMvcGF5LWN5Y2xlLWRpYWxvZy9wYXktY3ljbGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: PayCycleDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayCycleDialogComponent", function() { return PayCycleDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _pay_cycle_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../pay-cycle.service */ "./src/app/payroll/pay-cycle/pay-cycle.service.ts");







var PayCycleDialogComponent = /** @class */ (function () {
    function PayCycleDialogComponent(ref, data, session, service, fb) {
        this.ref = ref;
        this.data = data;
        this.session = session;
        this.service = service;
        this.fb = fb;
        this.isNewDialog = false;
        this.form = this.createForm();
        this.payCycle = this.data ? this.data.payCycle || null : null;
        this.isNewDialog = this.payCycle == null;
        this.patchForm(this.payCycle || {});
    }
    PayCycleDialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.getUserItem().subscribe(function (user) {
            _this.user = user;
            _this.service.getLastPayCycle(user.sessionUser.sessionClient)
                .subscribe(function (lastCycle) {
                _this.lastPayCycle = lastCycle;
                if (_this.lastPayCycle == null)
                    return;
                var endDate = moment__WEBPACK_IMPORTED_MODULE_5__(_this.lastPayCycle.endDate);
                if (endDate.isValid())
                    _this.minimumDate = endDate.add(1, 'd');
            });
        });
    };
    PayCycleDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    /** save the form */
    PayCycleDialogComponent.prototype.saveForm = function () {
        if (this.form.invalid)
            return;
        var model = this.prepareModel();
        this.ref.close(model);
    };
    PayCycleDialogComponent.prototype.createForm = function () {
        var cycle = this.payCycle || {};
        return this.fb.group({
            startDate: this.fb.control(cycle.startDate || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            endDate: this.fb.control(cycle.endDate || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required])
        });
    };
    PayCycleDialogComponent.prototype.patchForm = function (patch) {
        this.form.patchValue({
            startDate: patch.startDate,
            endDate: patch.endDate
        });
    };
    PayCycleDialogComponent.prototype.prepareModel = function () {
        return {
            payCycleId: null,
            startDate: this.form.value.startDate.format('YYYY-MM-DD'),
            endDate: this.form.value.endDate.format('YYYY-MM-DD'),
            isPending: false,
            isClosed: false
        };
    };
    PayCycleDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-pay-cycle-dialog',
            template: __webpack_require__(/*! ./pay-cycle-dialog.component.html */ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.html"),
            styles: [__webpack_require__(/*! ./pay-cycle-dialog.component.scss */ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"], Object, _app_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"],
            _pay_cycle_service__WEBPACK_IMPORTED_MODULE_6__["PayCycleService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"]])
    ], PayCycleDialogComponent);
    return PayCycleDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/pay-cycle/pay-cycle.component.html":
/*!************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/pay-cycle.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-content class=\"d-flex justify-content-between\">\n                    <h3>\n                        <span>Payroll Cycle Management</span>\n                    </h3>\n                    <div>\n                        <mat-slide-toggle \n                            [checked]=\"showClosed\" \n                            (change)=\"switchDisplay()\"\n                            class=\"my-0 mr-2\"\n                        >\n                            Show Closed\n                        </mat-slide-toggle>\n                        <button type=\"button\" mat-stroked-button color=\"primary\" (click)=\"addPayCycle()\">\n                            <mat-icon inline=\"true\">add</mat-icon>\n                            <span>Payroll</span>\n                        </button>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n\n    <ng-container *ngIf=\"displayCycles != null && (displayCycles|async).length; else noCycles\">\n        <div class=\"row\" *ngFor=\"let cycle of displayCycles|async as cycles\">\n            <div class=\"col-md-12\">\n                <mat-card [ngClass]=\"getBorderColor(cycle, 'left')\">\n                    <mat-card-title class=\"d-flex justify-content-between\">\n                        <div [class.text-danger]=\"isPayCycleDue(cycle)\">\n                            <span class=\"font-weight-bold\">Status: </span>\n                            <small>{{getCycleStatus(cycle)}}</small>\n                        </div>\n                        <div class=\"d-flex justify-content-end\">\n                            <button type=\"button\" mat-button \n                                color=\"primary\" \n                                *ngIf=\"!cycle.isPending && !cycle.isClosed\"\n                                (click)=\"editPayCycle(cycle)\"\n                            >\n                                <mat-icon>play_arrow</mat-icon>\n                                <span>Start</span>\n                            </button>\n                            <ng-container *ngIf=\"!isBeforeEndDate(cycle); else payrollReadyToRun\">\n                                <button\n                                    type=\"button\" mat-button\n                                    color=\"primary\"\n                                    *ngIf=\"cycle.isPending && !cycle.isClosed\"\n                                    (click)=\"editPayCycle(cycle)\"\n                                >\n                                    <mat-icon>redo</mat-icon>\n                                    <span>Continue</span>\n                                </button>\n                                <button\n                                    type=\"button\" mat-button\n                                    color=\"accent\"\n                                    *ngIf=\"cycle.isPending && !cycle.isClosed\"\n                                    (click)=\"closePayCycle(cycle)\"\n                                >\n                                    <mat-icon>archive</mat-icon>\n                                    <span>Archive</span>\n                                </button>\n                                <button\n                                    type=\"button\" mat-button\n                                    color=\"primary\"\n                                    *ngIf=\"cycle.isClosed\"\n                                    (click)=\"openPayCycle(cycle)\"\n                                >\n                                    <mat-icon>unarchive</mat-icon>\n                                    <span>Re-Open</span>\n                                </button>\n                            </ng-container>\n                            <ng-template #payrollReadyToRun>\n                                <button type=\"button\"\n                                    mat-button\n                                    [color]=\"getEditButtonColor(cycle)\"\n                                    [class.text-muted]=\"cycle?.payrolls?.length > 0\"\n                                    *ngIf=\"cycle.isPending && !cycle.isClosed\"\n                                    (click)=\"editPayCycle(cycle)\"\n                                >\n                                    <mat-icon>create</mat-icon>\n                                    <span>Edit</span>\n                                </button>\n                                <button type=\"button\"\n                                    mat-button\n                                    color=\"primary\"\n                                    *ngIf=\"cycle.isPending && !cycle.isClosed\"\n                                    (click)=\"processPayroll(cycle)\"\n                                >\n                                    <mat-icon>sync</mat-icon>\n                                    <span>\n                                        {{ cycle?.payrolls?.length > 0 ? 'Reprocess' : 'Process' }}\n                                    </span>\n                                </button>\n                                <button\n                                    type=\"button\" mat-button\n                                    color=\"accent\"\n                                    *ngIf=\"cycle.isPending && !cycle.isClosed\"\n                                    (click)=\"closePayCycle(cycle)\"\n                                >\n                                    <mat-icon>archive</mat-icon>\n                                    <span>Archive</span>\n                                </button>\n                                <button\n                                    type=\"button\" mat-button\n                                    color=\"primary\"\n                                    *ngIf=\"cycle.isClosed\"\n                                    (click)=\"openPayCycle(cycle)\"\n                                >\n                                    <mat-icon>unarchive</mat-icon>\n                                    <span>Re-Open</span>\n                                </button>\n                            </ng-template>\n                        </div>\n                        <!-- <button type=\"button\" mat-icon-button color=\"primary\" (click)=\"editPayCycle(cycle)\">\n                            <mat-icon>edit</mat-icon>\n                        </button> -->\n                    </mat-card-title>\n                    <mat-card-content>\n                        <p>\n                            <span class=\"font-weight-bold\">Dates:</span> \n                            {{cycle.startDate | date:'shortDate'}} - {{cycle.endDate | date:'shortDate'}}\n                        </p>\n                        <p class=\"text-muted\" *ngIf=\"cycle?.payrolls?.length\">\n                            Payroll was processed {{getPayrollEditDate(cycle) | date:'short'}}\n                        </p>\n                    </mat-card-content>\n                </mat-card>\n            </div>\n        </div>\n    </ng-container>\n    <ng-template #noCycles>\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <h5 class=\"text-center text-muted font-italic\">No Payroll Cycles to display.</h5>\n            </div>\n        </div>\n    </ng-template>\n    \n</div>"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/pay-cycle.component.scss":
/*!************************************************************!*\
  !*** ./src/app/payroll/pay-cycle/pay-cycle.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvcGF5LWN5Y2xlL3BheS1jeWNsZS5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/payroll/pay-cycle/pay-cycle.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/payroll/pay-cycle/pay-cycle.component.ts ***!
  \**********************************************************/
/*! exports provided: PayCycleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayCycleComponent", function() { return PayCycleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _components_pay_cycle_dialog_pay_cycle_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/pay-cycle-dialog/pay-cycle-dialog.component */ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_payroll_payroll_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/payroll/payroll.service */ "./src/app/payroll/payroll.service.ts");
/* harmony import */ var _pay_cycle_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pay-cycle.service */ "./src/app/payroll/pay-cycle/pay-cycle.service.ts");













var PayCycleComponent = /** @class */ (function () {
    function PayCycleComponent(session, payCycleService, payrollService, dialog, campaignService, msg, router) {
        this.session = session;
        this.payCycleService = payCycleService;
        this.payrollService = payrollService;
        this.dialog = dialog;
        this.campaignService = campaignService;
        this.msg = msg;
        this.router = router;
        this.today = moment__WEBPACK_IMPORTED_MODULE_9__();
        this.displayCycles = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"]([]);
        this.showClosed = false;
    }
    PayCycleComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.userItem.subscribe(function (user) {
            if (user == null || _this.user != null)
                return;
            _this.user = user;
            _this.campaignService.getCampaignsByClient(_this.user.sessionUser.sessionClient)
                .subscribe(function (campaigns) { return _this.campaigns = campaigns; });
            _this.payCycleService.getPayCycles(_this.user.sessionUser.sessionClient, true)
                .subscribe(function (cycles) {
                _this._cycles = cycles;
                _this.getActive();
                _this.session.hideLoader();
            });
        });
    };
    PayCycleComponent.prototype.addPayCycle = function () {
        var _this = this;
        this.dialog.open(_components_pay_cycle_dialog_pay_cycle_dialog_component__WEBPACK_IMPORTED_MODULE_8__["PayCycleDialogComponent"], {
            width: '50vw'
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            _this.payCycleService.savePayCycle(_this.user.sessionUser.sessionClient, result)
                .subscribe(function (cycle) {
                _this.msg.addMessage('Successfully created pay cycle!', 'dismiss', 5000);
                _this._cycles.push(cycle);
                _this.displayCycles.next(_this._cycles);
            });
        });
    };
    PayCycleComponent.prototype.getPayrollEditDate = function (cycle) {
        return cycle.payrolls[0].updatedAt;
    };
    PayCycleComponent.prototype.getBorderColor = function (cycle, borderDirection) {
        if (borderDirection === void 0) { borderDirection = 'left'; }
        if (this.isPayCycleDue(cycle))
            return borderDirection + "-border-danger";
        return cycle != null && cycle.payrolls != null && cycle.payrolls.length > 0
            ? borderDirection + "-border-success"
            : borderDirection + "-border-primary";
    };
    PayCycleComponent.prototype.getButtonColor = function (cycle) {
        return !(cycle != null && cycle.payrolls != null && cycle.payrolls.length > 0)
            ? 'primary'
            : '';
    };
    PayCycleComponent.prototype.getEditButtonColor = function (cycle) {
        return cycle != null && cycle.payrolls != null && cycle.payrolls.length > 0
            ? ''
            : 'primary';
    };
    PayCycleComponent.prototype.getActive = function () {
        this.displayCycles.next(this._cycles.filter(function (c) { return !c.isClosed; }));
    };
    PayCycleComponent.prototype.getArchived = function () {
        this.displayCycles.next(this._cycles.filter(function (c) { return c.isClosed; }));
    };
    PayCycleComponent.prototype.getCycleStatus = function (cycle) {
        var message = '';
        if (cycle.payrolls != null && cycle.payrolls.length > 0)
            return 'Complete. Ready to release.';
        if (moment__WEBPACK_IMPORTED_MODULE_9__(cycle.endDate).isSameOrBefore(moment__WEBPACK_IMPORTED_MODULE_9__(), 'day'))
            return 'Due for release.';
        if (!cycle.isPending && !cycle.isClosed) {
            message = 'Get started.';
        }
        else if (cycle.isPending && !cycle.isClosed) {
            message = 'Pending.';
        }
        else if (cycle.isClosed) {
            message = 'Closed with no sales.';
        }
        return message;
    };
    PayCycleComponent.prototype.isPayCycleDue = function (cycle) {
        return moment__WEBPACK_IMPORTED_MODULE_9__(cycle.endDate).isSameOrBefore(moment__WEBPACK_IMPORTED_MODULE_9__(), 'days')
            && (cycle.payrolls == null || cycle.payrolls.length == 0);
    };
    PayCycleComponent.prototype.editPayCycle = function (cycle) {
        this.payCycleService.cycle = cycle;
        this.router.navigate(['admin/pay/edit', cycle.payCycleId]);
    };
    PayCycleComponent.prototype.closePayCycle = function (cycle) {
        this.session.showLoader();
        cycle.isPending = false;
        cycle.isClosed = true;
        this.updatePayCycle(cycle);
    };
    PayCycleComponent.prototype.openPayCycle = function (cycle) {
        this.session.showLoader();
        cycle.isPending = true;
        cycle.isClosed = false;
        this.updatePayCycle(cycle);
    };
    PayCycleComponent.prototype.isBeforeEndDate = function (cycle) {
        return moment__WEBPACK_IMPORTED_MODULE_9__(cycle.endDate).isBefore(this.today);
    };
    /**
     * Begins the workflow of processing payroll. Opens the dialog to allow user to select a "pay date"
     * and then creates the relationship to the this cycle, calculates total information for users,
     * and finally closes the cycle.
     *
     * @param cycle
     */
    PayCycleComponent.prototype.processPayroll = function (cycle) {
        this.createPayrollsByCampaign(cycle);
    };
    PayCycleComponent.prototype.createPayrollsByCampaign = function (cycle) {
        var _this = this;
        this.payCycleService.getPayCycleSales(this.user.sessionUser.sessionClient, cycle.startDate, cycle.endDate, cycle.payCycleId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["map"])(function (sales) {
            var campaigns = sales.map(function (s) { return s.campaignId; }).filter(function (s, i, a) { return a.indexOf(s) === i; });
            var payrollResults = [];
            campaigns.forEach(function (c) {
                var campaign = _this.campaigns.find(function (camp) { return camp.campaignId === c; });
                var filteredSales = sales.filter(function (s) { return s.campaignId == c; });
                var payroll = {
                    payrollId: null,
                    payCycleId: cycle.payCycleId,
                    campaignId: c,
                    utilityId: 0,
                    weekEnding: cycle.endDate,
                    isAutomated: false,
                    isReleased: false,
                    details: []
                };
                var uniqueAgents = filteredSales.map(function (fs) { return fs.agentId; }).filter(function (fs, i, a) { return a.indexOf(fs) === i; });
                uniqueAgents.forEach(function (ua) {
                    var agentSales = filteredSales.filter(function (fs) { return fs.agentId == ua; });
                    var grossTotal = agentSales.length * (campaign.compensation || 0);
                    /**
                     * how do we figure this out? this might need to be a server side calc if
                     * the company has "taxes" turned on?
                     */
                    var taxes = 0;
                    var netTotal = grossTotal - taxes;
                    /** push our payroll detail to the details property on the current payroll we're creating */
                    payroll.details.push({
                        payrollDetailsId: null,
                        payrollId: null,
                        agentId: ua,
                        sales: agentSales.length,
                        grossTotal: grossTotal,
                        taxes: taxes,
                        netTotal: netTotal,
                        modifiedBy: _this.user.id,
                        createdAt: moment__WEBPACK_IMPORTED_MODULE_9__(),
                        updatedAt: moment__WEBPACK_IMPORTED_MODULE_9__()
                    });
                });
                payrollResults.push(payroll);
            });
            return payrollResults;
        }))
            .subscribe(function (sales) {
            _this.payrollService.savePayrollList(_this.user.sessionUser.sessionClient, sales)
                .subscribe(function (payrolls) {
                _this.msg.addMessage('Successfully process payroll.');
                if (cycle.payrolls.length)
                    cycle.payrolls.concat(payrolls);
                else
                    cycle.payrolls = payrolls;
            });
        });
    };
    PayCycleComponent.prototype.updatePayCycle = function (cycle) {
        var _this = this;
        this.payCycleService.updatePayCycle(this.user.sessionUser.sessionClient, cycle.payCycleId, cycle)
            .subscribe(function (payCycle) {
            _this.session.hideLoader();
            _this._cycles.forEach(function (c, i, a) {
                if (payCycle.payCycleId != c.payCycleId)
                    return;
                a[i] = payCycle;
            });
            if (_this.showClosed)
                _this.getArchived();
            else
                _this.getActive();
        });
    };
    PayCycleComponent.prototype.switchDisplay = function () {
        this.showClosed = !this.showClosed;
        if (this.showClosed)
            this.getArchived();
        else
            this.getActive();
    };
    PayCycleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-pay-cycle',
            template: __webpack_require__(/*! ./pay-cycle.component.html */ "./src/app/payroll/pay-cycle/pay-cycle.component.html"),
            styles: [__webpack_require__(/*! ./pay-cycle.component.scss */ "./src/app/payroll/pay-cycle/pay-cycle.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"],
            _pay_cycle_service__WEBPACK_IMPORTED_MODULE_12__["PayCycleService"],
            _app_payroll_payroll_service__WEBPACK_IMPORTED_MODULE_11__["PayrollService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialog"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_4__["CampaignService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
    ], PayCycleComponent);
    return PayCycleComponent;
}());



/***/ }),

/***/ "./src/app/payroll/pay-cycle/pay-cycle.service.ts":
/*!********************************************************!*\
  !*** ./src/app/payroll/pay-cycle/pay-cycle.service.ts ***!
  \********************************************************/
/*! exports provided: PayCycleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayCycleService", function() { return PayCycleService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _env_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @env/environment */ "./src/environments/environment.ts");





var PayCycleService = /** @class */ (function () {
    function PayCycleService(http) {
        this.http = http;
        this.api = _env_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].apiUrl;
        this.cycle$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
    }
    /** HTTP CALLS */
    PayCycleService.prototype.getPayCycles = function (clientId, includeClosed) {
        if (includeClosed === void 0) { includeClosed = false; }
        return this.http.get(this.api + "api/clients/" + clientId + "/pay-cycles/include-closed/" + includeClosed);
    };
    PayCycleService.prototype.getSalesByDateRange = function (clientId, start, end, includeClosed) {
        if (includeClosed === void 0) { includeClosed = false; }
        var url = this.api + "api/clients/" + clientId + "/pay-cycles/daily-sales";
        return this.http.get(url, {
            params: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]({
                fromObject: {
                    start: start,
                    end: end,
                    includeClosed: includeClosed.toString()
                }
            })
        });
    };
    PayCycleService.prototype.getPayCycleSales = function (clientId, start, end, payCycleId) {
        if (payCycleId === void 0) { payCycleId = null; }
        var url = this.api + "api/clients/" + clientId + "/pay-cycles/" + payCycleId;
        return this.http.get(url, {
            params: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]({
                fromObject: {
                    start: start,
                    end: end
                }
            })
        });
    };
    PayCycleService.prototype.updatePayCycle = function (clientId, payCycleId, dto) {
        var url = this.api + "api/clients/" + clientId + "/pay-cycles/" + payCycleId;
        return this.http.post(url, {
            cycle: dto
        });
    };
    PayCycleService.prototype.updateDailySaleWithPayCycle = function (clientId, payCycleId, sales) {
        var url = this.api + "api/clients/" + clientId + "/pay-cycles/" + payCycleId + "/sales";
        return this.http.post(url, {
            sales: sales
        });
    };
    PayCycleService.prototype.getLastPayCycle = function (clientId) {
        var url = this.api + "api/clients/" + clientId + "/pay-cycles/last";
        return this.http.get(url);
    };
    PayCycleService.prototype.savePayCycle = function (clientId, dto) {
        var url = this.api + "api/clients/" + clientId + "/pay-cycles";
        return this.http.post(url, dto);
    };
    Object.defineProperty(PayCycleService.prototype, "cycle", {
        /** INTERNAL API CALLS */
        /** GETTER & SETTERS */
        get: function () {
            return this._cycle;
        },
        set: function (value) {
            this._cycle = value;
            this.cycle$.next(this._cycle);
        },
        enumerable: true,
        configurable: true
    });
    PayCycleService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], PayCycleService);
    return PayCycleService;
}());



/***/ }),

/***/ "./src/app/payroll/paycheck-list/paycheck-list.component.html":
/*!********************************************************************!*\
  !*** ./src/app/payroll/paycheck-list/paycheck-list.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-content class=\"d-flex justify-content-between\">\n                    <h3>\n                        Paycheck List\n                    </h3>\n\n                    <!-- FILTERING/CONTROLS AREA\n                    <div>\n                        <mat-slide-toggle \n                            [checked]=\"showClosed\" \n                            (change)=\"switchDisplay()\"\n                            class=\"my-0 mr-2\"\n                        >\n                            Show Closed\n                        </mat-slide-toggle>\n                        <button type=\"button\" mat-stroked-button color=\"primary\" (click)=\"addPayCycle()\">\n                            <mat-icon inline=\"true\">add</mat-icon>\n                            <span>Payroll</span>\n                        </button>\n                    </div> -->\n                    <!-- <div>\n                        <mat-form-field class=\"w-100\">\n                            <input matInput \n                                placeholder=\"Search Agents\" \n                                aria-label=\"Search Agents\" \n                                [matAutoComplete]=\"searchAgents\" \n                                [formControl]=\"searchAgentsCtrl\" />\n                            <mat-autocomplete #searchAgents=\"matAutocomplete\">\n                                <mat-option *ngFor=\"\"></mat-option>\n                            </mat-autocomplete>\n                        </mat-form-field>\n                    </div> -->\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/payroll/paycheck-list/paycheck-list.component.scss":
/*!********************************************************************!*\
  !*** ./src/app/payroll/paycheck-list/paycheck-list.component.scss ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvcGF5Y2hlY2stbGlzdC9wYXljaGVjay1saXN0LmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/payroll/paycheck-list/paycheck-list.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/payroll/paycheck-list/paycheck-list.component.ts ***!
  \******************************************************************/
/*! exports provided: PaycheckListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaycheckListComponent", function() { return PaycheckListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _paycheck_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./paycheck.service */ "./src/app/payroll/paycheck-list/paycheck.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");




var PaycheckListComponent = /** @class */ (function () {
    function PaycheckListComponent(session, service) {
        this.session = session;
        this.service = service;
    }
    PaycheckListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.getUserItem().subscribe(function (user) {
            _this.user = user;
            _this.service.getPaychecks(user.sessionUser.sessionClient, 4, 1)
                .subscribe(function (paychecks) { return console.dir(paychecks); });
        });
    };
    PaycheckListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-paycheck-list',
            template: __webpack_require__(/*! ./paycheck-list.component.html */ "./src/app/payroll/paycheck-list/paycheck-list.component.html"),
            styles: [__webpack_require__(/*! ./paycheck-list.component.scss */ "./src/app/payroll/paycheck-list/paycheck-list.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _paycheck_service__WEBPACK_IMPORTED_MODULE_2__["PaycheckService"]])
    ], PaycheckListComponent);
    return PaycheckListComponent;
}());



/***/ }),

/***/ "./src/app/payroll/paycheck-list/paycheck.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/payroll/paycheck-list/paycheck.service.ts ***!
  \***********************************************************/
/*! exports provided: PaycheckService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaycheckService", function() { return PaycheckService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _env_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @env/environment */ "./src/environments/environment.ts");




var PaycheckService = /** @class */ (function () {
    function PaycheckService(http) {
        this.http = http;
        this.api = _env_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiUrl + 'api';
    }
    PaycheckService.prototype.getPaychecks = function (clientId, page, resultsPerPage) {
        if (page === void 0) { page = 1; }
        var url = this.api + "/clients/" + clientId + "/payroll-details";
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('page', page.toString());
        if (resultsPerPage)
            params = params.append('resultsPerPage', resultsPerPage.toString());
        return this.http.get(url, { params: params });
    };
    PaycheckService.prototype.getPaychecksByDetail = function (clientId, payrollDetailsId, page) {
        if (page === void 0) { page = 1; }
        var url = this.api + "/clients/" + clientId + "/payroll-details/" + payrollDetailsId;
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('page', page.toString());
        return this.http.get(url, { params: params });
    };
    PaycheckService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], PaycheckService);
    return PaycheckService;
}());



/***/ }),

/***/ "./src/app/payroll/payroll-dialog/payroll-dialog.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/payroll/payroll-dialog/payroll-dialog.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\n  payroll-dialog works!\n</p>\n"

/***/ }),

/***/ "./src/app/payroll/payroll-dialog/payroll-dialog.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/payroll/payroll-dialog/payroll-dialog.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvcGF5cm9sbC1kaWFsb2cvcGF5cm9sbC1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/payroll/payroll-dialog/payroll-dialog.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/payroll/payroll-dialog/payroll-dialog.component.ts ***!
  \********************************************************************/
/*! exports provided: PayrollDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollDialogComponent", function() { return PayrollDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var PayrollDialogComponent = /** @class */ (function () {
    function PayrollDialogComponent() {
    }
    PayrollDialogComponent.prototype.ngOnInit = function () { };
    PayrollDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-payroll-dialog',
            template: __webpack_require__(/*! ./payroll-dialog.component.html */ "./src/app/payroll/payroll-dialog/payroll-dialog.component.html"),
            styles: [__webpack_require__(/*! ./payroll-dialog.component.scss */ "./src/app/payroll/payroll-dialog/payroll-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], PayrollDialogComponent);
    return PayrollDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h3 mat-dialog-title>Narrow By:</h3>\n<div mat-dialog-content>\n    <div [formGroup]=\"f\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input type=\"text\" matInput \n                        [matDatepicker]=\"startDatepicker\"\n                        placeholder=\"Start\"\n                        formControlName=\"startDate\"\n                        required\n                    />\n                    <mat-datepicker-toggle matSuffix [for]=\"startDatepicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #startDatepicker></mat-datepicker>\n                    <mat-error *ngIf=\"f.get('startDate').hasError('required')\">\n                        Please select a valid start date.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input type=\"text\" matInput \n                        [matDatepicker]=\"endDatepicker\"\n                        placeholder=\"End\"\n                        formControlName=\"endDate\"\n                        required\n                    />\n                    <mat-datepicker-toggle matSuffix [for]=\"endDatepicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #endDatepicker></mat-datepicker>\n                    <mat-error *ngIf=\"f.get('endDate').hasError('required')\">\n                        Please select a valid end date.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        \n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Agent\" formControlName=\"agent\">\n                        <ng-container *ngIf=\"agents != null\">\n                            <mat-option *ngFor=\"let a of agents\" [value]=\"a.agentId\">\n                                {{a.firstName}} {{a.lastName}}\n                            </mat-option>\n                        </ng-container>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input type=\"text\" matInput\n                        [matDatepicker]=\"weekEnding\"\n                        placeholder=\"Week Ending\"\n                        formControlName=\"weekEnding\"\n                    />\n                    <mat-datepicker-toggle matSuffix [for]=\"weekEnding\"></mat-datepicker-toggle>\n                    <mat-datepicker #weekEnding></mat-datepicker>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Campaign\" formControlName=\"campaign\">\n                        <ng-container *ngIf=\"campaigns != null\">\n                            <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                                {{c.name}} \n                                <span class=\"font-weight-bold\"\n                                    [class.text-danger]=\"!c.active\"\n                                    [class.text-muted]=\"c.active\"\n                                >({{c.active ? 'A' : 'I'}})</span>\n                            </mat-option>\n                        </ng-container>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input type=\"text\" matInput\n                        [matDatepicker]=\"automatedRelease\"\n                        placeholder=\"Release\"\n                        formControlName=\"automatedRelease\"\n                    />\n                    <mat-datepicker-toggle matSuffix [for]=\"automatedRelease\"></mat-datepicker-toggle>\n                    <mat-datepicker #automatedRelease></mat-datepicker>\n                </mat-form-field>\n            </div>\n        </div>\n        \n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-checkbox formControlName=\"isAutomated\">\n                    Auto Released\n                </mat-checkbox>\n            </div>\n            <div class=\"col-md-6\">\n                 <mat-checkbox formControlName=\"isReleased\">\n                    Status: Released        \n                </mat-checkbox>\n            </div>\n        </div>\n        \n    </div>\n</div>\n<div mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button mat-button (click)=\"onNoClick()\">Cancel</button>\n    <button mat-button color=\"primary\" (click)=\"save()\">Save</button>    \n</div>"

/***/ }),

/***/ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.scss":
/*!************************************************************************************!*\
  !*** ./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "mat-form-field {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvcGF5cm9sbC9wYXlyb2xsLWZpbHRlci1kaWFsb2cvcGF5cm9sbC1maWx0ZXItZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksWUFBVyxFQUNkIiwiZmlsZSI6InNyYy9hcHAvcGF5cm9sbC9wYXlyb2xsLWZpbHRlci1kaWFsb2cvcGF5cm9sbC1maWx0ZXItZGlhbG9nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG5tYXQtZm9ybS1maWVsZCB7XG4gICAgd2lkdGg6IDEwMCU7XG59Il19 */"

/***/ }),

/***/ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.ts ***!
  \**********************************************************************************/
/*! exports provided: PayrollFilterDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollFilterDialogComponent", function() { return PayrollFilterDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);






var PayrollFilterDialogComponent = /** @class */ (function () {
    function PayrollFilterDialogComponent(ref, data, fb) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.f = this.createForm();
        this.showReleaseDateFormControl = false;
        this.defaultEndDate = moment__WEBPACK_IMPORTED_MODULE_5__();
        this.defaultStartDate = this.defaultEndDate.clone().subtract(7, 'days');
        this.filters = this.data.filters || { activeFilters: [] };
        this.agents = this.data.agents || [];
        this.campaigns = this.data.campaigns.sort(function (a, b) {
            if (a.active && !b.active)
                return -1;
            if (!a.active && b.active)
                return 1;
            if (a.active == b.active)
                return 0;
        }) || [];
    }
    PayrollFilterDialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.patchForm();
        this.f.controls.isAutomated.valueChanges.subscribe(function (value) {
            _this.showReleaseDateFormControl = value;
            if (value)
                _this.f.controls.automatedRelease.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]);
            else
                _this.f.controls.automatedRelease.clearValidators();
        });
    };
    PayrollFilterDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    PayrollFilterDialogComponent.prototype.save = function () {
        // get model
        var model = this.getModel();
        this.ref.close(model);
    };
    PayrollFilterDialogComponent.prototype.getModel = function () {
        var vals = this.f.value;
        return {
            activeFilters: this.setActiveFilters(vals),
            startDate: vals.startDate,
            endDate: vals.endDate,
            agentId: vals.agent,
            clientId: vals.client,
            campaignId: vals.campaign,
            weekEnding: vals.weekEnding,
            isAutomated: vals.isAutomated,
            isReleased: vals.isReleased,
            automatedRelease: vals.automatedRelease
        };
    };
    PayrollFilterDialogComponent.prototype.setActiveFilters = function (values) {
        var result = [];
        for (var p in values) {
            switch (p) {
                case 'agent':
                    if (values[p] != null)
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].agent);
                    break;
                case 'client':
                    if (values[p] != null)
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].client);
                    break;
                case 'campaign':
                    if (values[p] != null)
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].campaign);
                    break;
                case 'weekEnding':
                    if (values[p] != null)
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].weekEnding);
                    break;
                case 'isAutomated':
                    if (values[p])
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].isAutomated);
                    break;
                case 'isReleased':
                    if (values[p])
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].isReleased);
                    break;
                case 'automatedRelease':
                    if (values[p] != null)
                        result.push(_app_models__WEBPACK_IMPORTED_MODULE_3__["PayrollFilterType"].automatedRelease);
                    break;
                default:
                    break;
            }
        }
        return result;
    };
    PayrollFilterDialogComponent.prototype.patchForm = function () {
        this.f.patchValue({
            startDate: this.filters.startDate || this.defaultStartDate,
            endDate: this.filters.endDate || this.defaultEndDate,
            agent: this.filters.agentId,
            campaign: this.filters.campaignId,
            client: this.filters.clientId,
            weekEnding: this.filters.weekEnding,
            isAutomated: this.filters.isAutomated || false,
            isReleased: this.filters.isReleased || false,
            automatedRelease: this.filters.automatedRelease
        });
    };
    PayrollFilterDialogComponent.prototype.createForm = function () {
        return this.fb.group({
            startDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            endDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]),
            agent: this.fb.control(''),
            campaign: this.fb.control(''),
            weekEnding: this.fb.control(''),
            isAutomated: this.fb.control(false),
            isReleased: this.fb.control(false),
            automatedRelease: this.fb.control(''),
            client: this.fb.control('')
        });
    };
    PayrollFilterDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-payroll-filter-dialog',
            template: __webpack_require__(/*! ./payroll-filter-dialog.component.html */ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.html"),
            styles: [__webpack_require__(/*! ./payroll-filter-dialog.component.scss */ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"]])
    ], PayrollFilterDialogComponent);
    return PayrollFilterDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/payroll-list/payroll-list.component.html":
/*!******************************************************************!*\
  !*** ./src/app/payroll/payroll-list/payroll-list.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card class=\"page-header-accent\">\n                <mat-card-content>\n                    <div class=\"d-flex justify-content-between\">\n                        <h3>\n                            <span>Payroll Release Schedule</span>\n                        </h3>\n                        <div *ngLet=\"isFilterBtnActive$|async as active\">\n                            <button type=\"button\"\n                                mat-icon-button\n                                color=\"primary\"\n                                [class.active]=\"active\"\n                                (click)=\"filterBtnClick()\"\n                            >\n                                <mat-icon>filter_list</mat-icon>\n                            </button>\n                        </div>\n                    </div>\n                    <div class=\"text-muted d-flex align-items-center\">\n                        <span class=\"font-weight-bold mr-2\">\n                            Narrowed to\n                        </span>\n                        <mat-chip-list #matChipList>\n                            <mat-chip class=\"bg-transparent\" *ngIf=\"filters.startDate\" [removable]=\"false\" [selectable]=\"false\">\n                                <span>Start: {{filters.startDate | date:'shortDate'}}</span>\n                            </mat-chip>\n                            <mat-chip class=\"bg-transparent\" *ngIf=\"filters.endDate\" [removable]=\"false\" [selectable]=\"false\">\n                                <span>End: {{filters.endDate | date:'shortDate'}}</span>\n                            </mat-chip>\n                            <mat-chip class=\"bg-transparent\" *ngIf=\"filters.campaignId\" (removed)=\"removeFilter(3)\" [selectable]=\"false\">\n                                <ng-container *ngLet=\"getFilteredCampaign(filters.campaignId) as c\">\n                                    <span>Campaign: {{c.name}}</span>\n                                    <mat-icon matChipRemove>cancel</mat-icon>\n                                </ng-container>\n                            </mat-chip>\n                            <mat-chip class=\"bg-transparent\" *ngIf=\"filters.agentId\" (removed)=\"removeFilter(2)\" [selectable]=\"false\">\n                                <ng-container *ngLet=\"getFilteredAgent(filters.agentId) as a\">\n                                    <span>{{a.firstName}} {{a.lastName}}</span>\n                                    <mat-icon matChipRemove>cancel</mat-icon>\n                                </ng-container>\n                            </mat-chip>\n                        </mat-chip-list>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <ng-container *ngIf=\"(payrolls$|async) != null && (payrolls$|async).length; else noPayrolls\">\n                <mat-card class=\"border-top-primary\">\n                    <mat-card-subtitle class=\"d-flex justify-content-between\">\n                        <div>\n                            <button type=\"button\" mat-button \n                                color=\"primary\" \n                                (click)=\"showReleaseConfirm()\"\n                                [disabled]=\"disableRelease\"\n                            >\n                                <mat-icon inline=\"true\">send</mat-icon> Release\n                            </button>\n                            <button type=\"button\" mat-button\n                                color=\"accent\"\n                                (click)=\"autoReleaseDatepicker.open()\"\n                                [disabled]=\"disableRelease\"\n                            >\n                                <mat-icon inline=\"true\">date_range</mat-icon> Schedule Auto-Release\n                            </button>\n                            <mat-form-field [style.visibility]=\"'hidden'\">\n                                <input matInput [matDatepicker]=\"autoReleaseDatepicker\" (dateChange)=\"dateChanged($event)\" />\n                                <mat-datepicker touchUi=\"true\" #autoReleaseDatepicker></mat-datepicker>\n                            </mat-form-field>\n                        </div>\n                        <p class=\"text-muted\">\n                            {{displayingResults}}\n                        </p>\n                    </mat-card-subtitle>\n                    <mat-card-content>\n                        <ng-container *ngLet=\"payrolls$|async as payrolls\">\n                            <table mat-table #tableRef [dataSource]=\"payrolls\" multiTemplateDataRows class=\"mat-elevation-z8\">\n\n                                <!-- SELECTED -->\n                                <ng-container matColumnDef=\"selected\">\n                                    <th mat-header-cell *matHeaderCellDef>\n                                        <mat-checkbox (change)=\"$event ? masterToggle() : null\"\n                                            [checked]=\"selection.hasValue() && isAllSelected()\"\n                                            [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n                                        ></mat-checkbox>\n                                    </th>\n                                    <td mat-cell *matCellDef=\"let item\">\n                                        <mat-checkbox\n                                            (click)=\"$event.stopPropagation()\"\n                                            (change)=\"$event ? selection.toggle(item) : null\"\n                                            [checked]=\"selection.isSelected(item)\"\n                                            [disabled]=\"item.payCycle.isClosed || item.isReleased\"\n                                        ></mat-checkbox>\n                                    </td>\n                                </ng-container>\n\n                                <!-- CAMPAIGN -->\n                                <ng-container matColumnDef=\"campaign\">\n                                    <th mat-header-cell *matHeaderCellDef>Campaign</th>\n                                    <td mat-cell *matCellDef=\"let item\">{{getCampaignDescById(item.campaignId)}}</td>\n                                </ng-container>\n\n                                <!-- CYCLE START DATE -->\n                                <ng-container matColumnDef=\"cycleStart\">\n                                    <th mat-header-cell *matHeaderCellDef>Start</th>\n                                    <td mat-cell *matCellDef=\"let item\">{{item.payCycle.startDate | date:'shortDate'}}</td>\n                                </ng-container>\n\n                                <!-- CYCLE END DATE -->\n                                <ng-container matColumnDef=\"cycleEnd\">\n                                    <th mat-header-cell *matHeaderCellDef>End</th>\n                                    <td mat-cell *matCellDef=\"let item\">{{item.payCycle.endDate | date:'shortDate'}}</td>\n                                </ng-container>\n\n                                <!-- IS AUTOMATED -->\n                                <ng-container matColumnDef=\"isAutomated\">\n                                    <th mat-header-cell *matHeaderCellDef>Auto Release</th>\n                                    <td mat-cell *matCellDef=\"let item\">\n                                        <mat-checkbox [checked]=\"item.isAutomated\" \n                                            [disabled]=\"!(item.isAutomated && !item.isReleased)\"\n                                            (change)=\"removeAutoRelease($event, item)\"\n                                            (click)=\"$event.stopPropagation()\"\n                                        ></mat-checkbox>\n                                    </td>\n                                </ng-container>\n\n                                <!-- AUTOMATIC RELEASE DATE -->\n                                <ng-container matColumnDef=\"automatedRelease\">\n                                    <th mat-header-cell *matHeaderCellDef>Release Date</th>\n                                    <td mat-cell *matCellDef=\"let item\">\n                                        {{item.automatedRelease | date:'shortDate'}}\n                                    </td>\n                                </ng-container>\n\n                                <!-- IS RELEASED -->\n                                <ng-container matColumnDef=\"isReleased\">\n                                    <th mat-header-cell *matHeaderCellDef>Released</th>\n                                    <td *matCellDef=\"let item\">\n                                        <mat-checkbox [checked]=\"item.isReleased\" [disabled]=\"true\"></mat-checkbox>\n                                    </td>\n                                </ng-container>\n\n                                <!-- PAYROLL STATUS -->\n                                <ng-container matColumnDef=\"status\">\n                                    <th mat-header-cell *matHeaderCellDef>Status</th>\n                                    <td mat-cell *matCellDef=\"let item\">\n                                        <ng-container *ngLet=\"getPayrollStatus(item) as desc\">\n                                            {{desc}}\n                                        </ng-container>\n                                    </td>\n                                </ng-container>\n\n                                <!-- EXPANDED DETAIL -->\n                                <ng-container matColumnDef=\"expandedDetail\">\n                                    <td mat-cell *matCellDef=\"let item\" \n                                        [attr.colspan]=\"displayColumns.length\" \n                                    >\n                                        <div class=\"element-detail\"\n                                            [@detailExpand]=\"item == expandedItem ? 'expanded' : 'collapsed'\"\n                                            [class.pb-2]=\"item == expandedItem\"\n                                        >\n                                            <div class=\"row w-100\">\n                                                <div class=\"col-md-12\">                                                    \n                                                    <ul class=\"list-group\">\n                                                        <li class=\"list-group-item\">\n                                                            <div class=\"row\">\n                                                                <div class=\"col-md-3\">\n                                                                    <span class=\"font-weight-bold\">Agent</span>\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    <span class=\"font-weight-bold\">Sales</span>\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    <span class=\"font-weight-bold\">Gross</span>\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    <span class=\"font-weight-bold\">Taxes</span>\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    <span class=\"font-weight-bold\">Net</span>\n                                                                </div>\n                                                                <div class=\"col-md-auto\">\n                                                                    <span>&nbsp;</span>\n                                                                </div>\n                                                            </div>\n                                                        </li>\n                                                        <li *ngFor=\"let detail of item.details\" class=\"list-group-item\">\n                                                            <div class=\"row align-middle\">\n                                                                <div class=\"col-md-3\">\n                                                                    {{detail.agent.firstName}} {{detail.agent.lastName}}\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    {{detail.sales}}\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    {{detail | payrollDetailTotals:'grossTotal' | currency}}\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    {{detail.taxes | currency}}\n                                                                </div>\n                                                                <div class=\"col-md-2\">\n                                                                    {{detail | payrollDetailTotals:'netTotal' | currency}}\n                                                                </div>\n                                                                <div class=\"col-md-auto\">\n                                                                    <button type=\"button\" mat-icon-button \n                                                                        color=\"primary\"\n                                                                        (click)=\"showExpensesAndOverrides(detail)\"\n                                                                        [disabled]=\"item.isReleased || item.payCycle.isClosed\"\n                                                                    >\n                                                                        <mat-icon>settings</mat-icon>\n                                                                    </button>\n                                                                </div>\n                                                            </div>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </td>\n                                </ng-container>\n\n                                <tr mat-header-row *matHeaderRowDef=\"displayColumns\"></tr>\n                                <tr mat-row *matRowDef=\"let item; columns: displayColumns\"\n                                    class=\"element-row clickable\"\n                                    [class.expanded-row]=\"expandedItem === item\"\n                                    [class.expanded]=\"expandedItem === item\"\n                                    [class.released]=\"item.isReleased\"\n                                    (click)=\"expandedItem = expandedItem === item ? null : item;\"\n                                ></tr>\n                                <tr mat-row \n                                    *matRowDef=\"let row; columns: ['expandedDetail']\" \n                                    class=\"detail-row\"\n                                    [class.expanded]=\"row == expandedItem\"\n                                ></tr>\n                            </table>\n                        </ng-container>\n                    </mat-card-content>\n                </mat-card>\n            </ng-container>\n            <ng-template #noPayrolls>\n                <p class=\"text-center text-muted font-italic h4\">\n                    No Payrolls were found based on this search criteria. Please try adjusting your filters.\n                </p>\n            </ng-template>\n        </div>\n    </div>\n</div>\n"

/***/ }),

/***/ "./src/app/payroll/payroll-list/payroll-list.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/payroll/payroll-list/payroll-list.component.scss ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n  width: 100%; }\n\ntr.detail-row {\n  height: 0; }\n\ntr.element-row:not(.expanded-row):hover {\n  background: #f5f5f5; }\n\ntr.element-row:not(.expanded-row):active {\n  background: #efefef; }\n\n.element-row td {\n  border-bottom-width: 0; }\n\n.element-detail {\n  min-height: 48px;\n  overflow: hidden;\n  display: flex; }\n\n.expanded {\n  background: #f7f8fc; }\n\n.released td {\n  color: #6c757d;\n  background-color: #f8f9fa; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvcGF5cm9sbC9wYXlyb2xsLWxpc3QvcGF5cm9sbC1saXN0LmNvbXBvbmVudC5zY3NzIiwiL1VzZXJzL2RyZXdwYXltZW50L2Rldi9hY3RpdmUvdmVyb3N0YWNrL3Jlc291cmNlcy9hc3NldHMvbmcvc3JjL3Njc3MvX2NvbG9ycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0ksWUFBVyxFQUNkOztBQUVEO0VBQ0ksVUFBUyxFQUNaOztBQUVEO0VBQ0ksb0JBQW1CLEVBQ3RCOztBQUVEO0VBQ0ksb0JBQW1CLEVBQ3RCOztBQUVEO0VBQ0ksdUJBQXNCLEVBQ3pCOztBQUVEO0VBQ0ksaUJBQWdCO0VBQ2hCLGlCQUFlO0VBQ2YsY0FBWSxFQUNmOztBQUVEO0VBQ0ksb0JBQXNDLEVBQ3pDOztBQUVEO0VBR1EsZUM5QlU7RUQrQlYsMEJDcENVLEVEcUNiIiwiZmlsZSI6InNyYy9hcHAvcGF5cm9sbC9wYXlyb2xsLWxpc3QvcGF5cm9sbC1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vc2Nzcy9jb2xvcnMnO1xuLy8gJG1hdC1wcmltYXJ5OiAjM2Y1MWI1ICFkZWZhdWx0O1xuXG50YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbnRyLmRldGFpbC1yb3cge1xuICAgIGhlaWdodDogMDtcbn1cblxudHIuZWxlbWVudC1yb3c6bm90KC5leHBhbmRlZC1yb3cpOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xufVxuXG50ci5lbGVtZW50LXJvdzpub3QoLmV4cGFuZGVkLXJvdyk6YWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiAjZWZlZmVmO1xufVxuXG4uZWxlbWVudC1yb3cgdGQge1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XG59XG5cbi5lbGVtZW50LWRldGFpbCB7XG4gICAgbWluLWhlaWdodDogNDhweDtcbiAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgZGlzcGxheTpmbGV4O1xufVxuXG4uZXhwYW5kZWQge1xuICAgIGJhY2tncm91bmQ6IGxpZ2h0ZW4oJG1hdC1wcmltYXJ5LCA1MCUpO1xufVxuXG4ucmVsZWFzZWQge1xuXG4gICAgdGQge1xuICAgICAgICBjb2xvcjogJGdyYXktNjAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JheS0xMDA7XG4gICAgfVxufSIsIiR3aGl0ZTogICAgI2ZmZiAhZGVmYXVsdDtcbiRncmF5LTEwMDogI2Y4ZjlmYSAhZGVmYXVsdDtcbiRncmF5LTIwMDogI2U5ZWNlZiAhZGVmYXVsdDtcbiRncmF5LTMwMDogI2RlZTJlNiAhZGVmYXVsdDtcbiRncmF5LTQwMDogI2NlZDRkYSAhZGVmYXVsdDtcbiRncmF5LTUwMDogI2FkYjViZCAhZGVmYXVsdDtcbiRncmF5LTYwMDogIzZjNzU3ZCAhZGVmYXVsdDtcbiRncmF5LTcwMDogIzQ5NTA1NyAhZGVmYXVsdDtcbiRncmF5LTgwMDogIzM0M2E0MCAhZGVmYXVsdDtcbiRncmF5LTkwMDogIzIxMjUyOSAhZGVmYXVsdDtcbiRibGFjazogICAgIzAwMCAhZGVmYXVsdDtcblxuJGdyYXlzOiAoKSAhZGVmYXVsdDtcbiRncmF5czogbWFwLW1lcmdlKChcbiAgXCIxMDBcIjogJGdyYXktMTAwLFxuICBcIjIwMFwiOiAkZ3JheS0yMDAsXG4gIFwiMzAwXCI6ICRncmF5LTMwMCxcbiAgXCI0MDBcIjogJGdyYXktNDAwLFxuICBcIjUwMFwiOiAkZ3JheS01MDAsXG4gIFwiNjAwXCI6ICRncmF5LTYwMCxcbiAgXCI3MDBcIjogJGdyYXktNzAwLFxuICBcIjgwMFwiOiAkZ3JheS04MDAsXG4gIFwiOTAwXCI6ICRncmF5LTkwMFxuKSwgJGdyYXlzKTtcblxuJGJsdWU6ICAgICMwMDdiZmYgIWRlZmF1bHQ7XG4kaW5kaWdvOiAgIzY2MTBmMiAhZGVmYXVsdDtcbiRwdXJwbGU6ICAjNmY0MmMxICFkZWZhdWx0O1xuJHBpbms6ICAgICNlODNlOGMgIWRlZmF1bHQ7XG4kcmVkOiAgICAgI2RjMzU0NSAhZGVmYXVsdDtcbiRvcmFuZ2U6ICAjZmQ3ZTE0ICFkZWZhdWx0O1xuJHllbGxvdzogICNmZmMxMDcgIWRlZmF1bHQ7XG4kZ3JlZW46ICAgIzI4YTc0NSAhZGVmYXVsdDtcbiR0ZWFsOiAgICAjMjBjOTk3ICFkZWZhdWx0O1xuJGN5YW46ICAgICMxN2EyYjggIWRlZmF1bHQ7XG5cbiRjb2xvcnM6ICgpICFkZWZhdWx0O1xuJGNvbG9yczogbWFwLW1lcmdlKChcbiAgXCJibHVlXCI6ICAgICAgICRibHVlLFxuICBcImluZGlnb1wiOiAgICAgJGluZGlnbyxcbiAgXCJwdXJwbGVcIjogICAgICRwdXJwbGUsXG4gIFwicGlua1wiOiAgICAgICAkcGluayxcbiAgXCJyZWRcIjogICAgICAgICRyZWQsXG4gIFwib3JhbmdlXCI6ICAgICAkb3JhbmdlLFxuICBcInllbGxvd1wiOiAgICAgJHllbGxvdyxcbiAgXCJncmVlblwiOiAgICAgICRncmVlbixcbiAgXCJ0ZWFsXCI6ICAgICAgICR0ZWFsLFxuICBcImN5YW5cIjogICAgICAgJGN5YW4sXG4gIFwid2hpdGVcIjogICAgICAkd2hpdGUsXG4gIFwiZ3JheVwiOiAgICAgICAkZ3JheS02MDAsXG4gIFwiZ3JheS1kYXJrXCI6ICAkZ3JheS04MDBcbiksICRjb2xvcnMpO1xuXG4kcHJpbWFyeS1maWx0ZXI6ICMzZjUxYjUgIWRlZmF1bHQ7XG4kcHJpbWFyeS1maWx0ZXItbGlnaHQ6ICNhM2IxZmYgIWRlZmF1bHQ7XG4kdnMtaW5mbzogIzUzNmRmZSAhZGVmYXVsdDtcbiRiZy1tdXRlZDogJGdyYXktNjAwICFkZWZhdWx0O1xuJG1hdC1hY2NlbnQ6ICNmZjk4MDAgIWRlZmF1bHQ7XG4kbWF0LXByaW1hcnk6ICMzZjUxYjUgIWRlZmF1bHQ7XG5cbiRwcmltYXJ5OiAgICAgICAkYmx1ZSAhZGVmYXVsdDtcbiRzZWNvbmRhcnk6ICAgICAkZ3JheS02MDAgIWRlZmF1bHQ7XG4kc3VjY2VzczogICAgICAgJGdyZWVuICFkZWZhdWx0O1xuJGluZm86ICAgICAgICAgICR2cy1pbmZvICFkZWZhdWx0O1xuJHdhcm5pbmc6ICAgICAgICR5ZWxsb3cgIWRlZmF1bHQ7XG4kZGFuZ2VyOiAgICAgICAgJHJlZCAhZGVmYXVsdDtcbiRsaWdodDogICAgICAgICAkZ3JheS0xMDAgIWRlZmF1bHQ7XG4kZGFyazogICAgICAgICAgJGdyYXktODAwICFkZWZhdWx0OyJdfQ== */"

/***/ }),

/***/ "./src/app/payroll/payroll-list/payroll-list.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/payroll/payroll-list/payroll-list.component.ts ***!
  \****************************************************************/
/*! exports provided: PayrollListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollListComponent", function() { return PayrollListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _payroll_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../payroll.service */ "./src/app/payroll/payroll.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _payroll_filter_dialog_payroll_filter_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../payroll-filter-dialog/payroll-filter-dialog.component */ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.ts");
/* harmony import */ var _app_shared_moment_extensions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/shared/moment-extensions */ "./src/app/shared/moment-extensions.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/cdk/collections */ "./node_modules/@angular/cdk/esm5/collections.es5.js");
/* harmony import */ var _override_expense_dialog_override_expense_dialog_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../override-expense-dialog/override-expense-dialog.component */ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.ts");
/* harmony import */ var _confirm_autorelease_date_dialog_confirm_autorelease_date_dialog_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component */ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.ts");
/* harmony import */ var _confirm_release_dialog_confirm_release_dialog_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../confirm-release-dialog/confirm-release-dialog.component */ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.ts");

















var PayrollListComponent = /** @class */ (function () {
    function PayrollListComponent(msg, service, session, campaignService, dialog) {
        this.msg = msg;
        this.service = service;
        this.session = session;
        this.campaignService = campaignService;
        this.dialog = dialog;
        this.payrolls$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](null);
        this.filters = {
            activeFilters: [],
            startDate: this.defaultStartDate,
            endDate: this.defaultEndDate
        };
        this._isFilterBtnActive = false;
        this.isFilterBtnActive$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](this._isFilterBtnActive);
        this.displayColumns = [
            'selected', 'campaign', 'cycleStart', 'cycleEnd', 'isAutomated',
            'isReleased', 'automatedRelease', 'status'
        ];
        this.detailColumns = ['agent', 'sales', 'gross', 'taxes', 'net'];
        this.initialSelection = [];
        this.allowMultiSelect = true;
        this.selection = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_13__["SelectionModel"](true, []);
        this.disableRelease = true;
    }
    PayrollListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.getUserItem().subscribe(function (user) {
            _this.user = user;
            _this.populateCampaigns();
            _this.initializeComponent();
        });
        this.selection.onChange.subscribe(function () { return _this.disableRelease = _this.selection.selected.length == 0; });
    };
    /**
     * How we manage to update our payrolls and keep track of everything happening in one method to
     * the updated list of payrolls.
     *
     * @param payrolls
     */
    PayrollListComponent.prototype.setPayrolls = function (payrolls) {
        this._payrolls = payrolls;
        this.payrolls$.next(this._payrolls);
    };
    /**
     * Handles when the user changes the hidden datepicker value on the template that sets the auto-release
     * date.
     *
     * @param event
     */
    PayrollListComponent.prototype.dateChanged = function (event) {
        var _this = this;
        this.selectedAutoReleaseDate = event.value;
        this.dialog.open(_confirm_autorelease_date_dialog_confirm_autorelease_date_dialog_component__WEBPACK_IMPORTED_MODULE_15__["ConfirmAutoreleaseDateDialogComponent"], {
            width: '30vw',
            data: {
                date: this.selectedAutoReleaseDate
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            var payrollIds = _this.selection.selected.map(function (p) { return p.payrollId; });
            _this.service.saveAutoReleaseSettings(_this.user.sessionUser.sessionClient, payrollIds, result)
                .subscribe(function (payrolls) {
                // TODO: Do we really need to do this? Can't we just pass "payrolls" return from the API into setPayrolls()?
                payrolls.forEach(function (p) {
                    _this._payrolls.forEach(function (pp, i, a) {
                        if (pp.payrollId == p.payrollId)
                            a[i] = p;
                    });
                });
                _this.setPayrolls(_this._payrolls);
            });
        });
    };
    /**
     * If the payroll has been scheduled for autorelease and the release hasn't happened,
     * the user can uncheck the autorelease option and it will remove the autorelease settings.
     *
     * @param event
     * @param item
     */
    PayrollListComponent.prototype.removeAutoRelease = function (event, item) {
        var _this = this;
        this.service.removeAutoReleaseSettings(this.user.sessionUser.sessionClient, item.payrollId)
            .subscribe(function (result) {
            _this._payrolls.forEach(function (p, i, a) {
                if (p.payrollId != result.payrollId)
                    return;
                a[i] = result;
            });
            _this.setPayrolls(_this._payrolls);
        });
    };
    PayrollListComponent.prototype.filterBtnClick = function () {
        var _this = this;
        this.dialog.open(_payroll_filter_dialog_payroll_filter_dialog_component__WEBPACK_IMPORTED_MODULE_8__["PayrollFilterDialogComponent"], {
            width: '40vw',
            data: {
                filters: this.filters,
                agents: this.agents,
                campaigns: this.campaigns
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            _this.filters = result;
            _this.setActiveFiltersStatus();
            _this.applyFilters();
        });
    };
    PayrollListComponent.prototype.getFilteredAgent = function (agentId) {
        if (this.agents == null || !this.agents.length)
            return {};
        return this.agents.find(function (a) { return a.agentId == agentId; });
    };
    PayrollListComponent.prototype.getFilteredCampaign = function (campaignId) {
        if (this.campaigns == null || !this.campaigns.length)
            return {};
        return this.campaigns.find(function (c) { return c.campaignId == campaignId; });
    };
    PayrollListComponent.prototype.populateCampaigns = function () {
        var _this = this;
        this.campaignService.getCampaignsByClient(this.user.sessionUser.sessionClient)
            .subscribe(function (campaigns) { return _this.campaigns = campaigns; });
    };
    PayrollListComponent.prototype.getCampaignDescById = function (id) {
        return this.campaigns.find(function (c) { return c.campaignId == id; }).name;
    };
    PayrollListComponent.prototype.removeFilter = function (filterType) {
        this.removeActiveFilter(filterType);
        switch (filterType) {
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].startDate:
                this.filters.startDate = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].endDate:
                this.filters.endDate = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].agent:
                this.filters.agentId = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].campaign:
                this.filters.campaignId = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].weekEnding:
                this.filters.weekEnding = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].isAutomated:
                this.filters.isAutomated = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].isReleased:
                this.filters.isReleased = null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].automatedRelease:
                this.filters.automatedRelease = null;
                break;
            default:
                break;
        }
        this.setActiveFiltersStatus();
    };
    PayrollListComponent.prototype.getPayrollStatus = function (item) {
        return item.payCycle.isClosed
            ? 'Closed'
            : item.isReleased
                ? 'Released'
                : 'Pending';
    };
    PayrollListComponent.prototype.masterToggle = function () {
        var _this = this;
        this.isAllSelected() ?
            this.selection.clear() :
            this._payrolls.forEach(function (p) {
                if (p.isReleased || p.payCycle.isClosed)
                    return;
                _this.selection.select(p);
            });
    };
    PayrollListComponent.prototype.isAllSelected = function () {
        var numSelected = this.selection.selected.length;
        var numRows = this._payrolls.filter(function (p) { return !p.isReleased; }).length;
        return numSelected === numRows;
    };
    PayrollListComponent.prototype.showExpensesAndOverrides = function (detail) {
        var _this = this;
        this.dialog.open(_override_expense_dialog_override_expense_dialog_component__WEBPACK_IMPORTED_MODULE_14__["OverrideExpenseDialogComponent"], {
            width: '60vw',
            maxHeight: '80vh',
            data: {
                detail: detail,
                agents: this.agents
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            if (isNaN(result.taxes.charAt(0)))
                result.taxes = result.taxes.slice(0, 1);
            if (isNaN(result.grossTotal.charAt(0)))
                result.grossTotal = result.grossTotal.slice(0, 1);
            if (isNaN(result.netTotal.charAt(0)))
                result.netTotal = result.netTotal.slice(0, 1);
            result.overrides.forEach(function (o, i, a) {
                if (isNaN(o.amount.charAt(0)))
                    a[i].amount = o.amount.slice(1);
            });
            result.expenses.forEach(function (e, i, a) {
                if (isNaN(e.amount.charAt(0)))
                    a[i].amount = e.amount.slice(1);
            });
            _this.service.savePayrollDetails(_this.user.sessionUser.sessionClient, result)
                .subscribe(function (res) {
                _this.setPayrolls(res);
                _this.msg.addMessage('Successfully updated overrides & expenses.', 'dismiss', 5000);
            });
        });
    };
    /**
     * Show's dialog to the user confirming their selections and showing overall total they'll
     * be confirming to pay for the released cycles.
     */
    PayrollListComponent.prototype.showReleaseConfirm = function () {
        var _this = this;
        this.dialog.open(_confirm_release_dialog_confirm_release_dialog_component__WEBPACK_IMPORTED_MODULE_16__["ConfirmReleaseDialogComponent"], {
            width: '50vw',
            data: {
                payrolls: this.selection.selected
            },
            autoFocus: false
        })
            .afterClosed()
            .subscribe(function (result) {
            if (!result)
                return;
            var payrollIds = _this.selection.selected.map(function (p) { return p.payrollId; });
            _this.service.setReleased(_this.user.sessionUser.sessionClient, payrollIds)
                .subscribe(function () {
                payrollIds.forEach(function (id) {
                    _this._payrolls.forEach(function (p, i, a) {
                        if (p.payrollId != id)
                            return;
                        a[i].isReleased = true;
                        a[i].payCycle.isPending = false;
                    });
                });
                _this.setPayrolls(_this._payrolls);
                _this.msg.addMessage('Successfully released!', 'dismiss', 5000);
            });
        });
    };
    PayrollListComponent.prototype.applyFilters = function () {
        var _this = this;
        /** let's set our initial filter dates based on what came back from the api */
        if ((this.filters.startDate == null || this.filters.endDate == null) && this._payrolls.length) {
            var mostRecentWeekending = moment__WEBPACK_IMPORTED_MODULE_10__(this._payrolls.sort(function (a, b) { return moment__WEBPACK_IMPORTED_MODULE_10__(a.weekEnding).isAfter(b.weekEnding, 'day') ? 1 : 0; })[0].weekEnding);
            this.filters.endDate = moment__WEBPACK_IMPORTED_MODULE_10__(mostRecentWeekending.clone().add(7, 'days')).toDate();
            this.filters.startDate = moment__WEBPACK_IMPORTED_MODULE_10__(mostRecentWeekending.clone().subtract(7, 'days')).toDate();
        }
        var filteredPayrolls = [];
        filteredPayrolls = this._payrolls.filter(function (p) {
            var startDate = _this.filters.startDate;
            var endDate = _this.filters.endDate;
            return moment__WEBPACK_IMPORTED_MODULE_10__(p.weekEnding).isBetween(startDate, endDate, 'd', _app_shared_moment_extensions__WEBPACK_IMPORTED_MODULE_9__["MomentInclusivity"].includeBoth);
        });
        this.filters.activeFilters.forEach(function (af) {
            filteredPayrolls = _this.applyFilterByType(filteredPayrolls, af);
        });
        /** TODO: for now we're going to stripped closed cycles out until we add to filter */
        filteredPayrolls = filteredPayrolls.filter(function (f) { return !f.payCycle.isClosed; });
        // this is the only time we set the payroll subject direclty without the setPayrolls() method
        this.payrolls$.next(filteredPayrolls);
        this.displayingResults = "Displaying " + filteredPayrolls.length + " of " + this._payrolls.length + " possible results";
    };
    PayrollListComponent.prototype.applyFilterByType = function (payrolls, type) {
        var _this = this;
        var result;
        switch (type) {
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].agent:
                result = payrolls.map(function (p, i, a) {
                    var hasDetails = p.details.find(function (d) { return d.agentId == _this.filters.agentId; }) != null;
                    if (hasDetails) {
                        p.details = p.details.filter(function (d) { return d.agentId == _this.filters.agentId; });
                        return p;
                    }
                });
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].campaign:
                result = payrolls.filter(function (p) { return p.campaignId == _this.filters.campaignId; });
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].isAutomated:
                result = payrolls.filter(function (p) { return p.isAutomated == _this.filters.isAutomated; });
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].isReleased:
                result = payrolls.filter(function (p) { return p.isReleased == _this.filters.isReleased && p.isReleased; });
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].automatedRelease:
                result = payrolls.filter(function (p) { return moment__WEBPACK_IMPORTED_MODULE_10__(p.automatedRelease).isSame(_this.filters.automatedRelease, 'days'); });
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_2__["PayrollFilterType"].weekEnding:
                result = payrolls.filter(function (p) { return moment__WEBPACK_IMPORTED_MODULE_10__(p.weekEnding).isSame(_this.filters.weekEnding); });
                break;
            default:
                result = payrolls;
                break;
        }
        return result.filter(function (r) { return r; });
    };
    PayrollListComponent.prototype.setActiveFiltersStatus = function () {
        var setFiltersActive = false;
        if (this.filters.activeFilters.length)
            setFiltersActive = true;
        if (this._isFilterBtnActive != setFiltersActive) {
            this._isFilterBtnActive = setFiltersActive;
            this.isFilterBtnActive$.next(this._isFilterBtnActive);
        }
    };
    PayrollListComponent.prototype.removeActiveFilter = function (type) {
        this.filters.activeFilters.splice(this.filters.activeFilters.indexOf(type), 1);
        this.setActiveFiltersStatus();
        this.applyFilters();
    };
    PayrollListComponent.prototype.initializeComponent = function () {
        var _this = this;
        this.service.getPayrollList(this.user.sessionUser.sessionClient, this.user.id)
            .subscribe(function (payrolls) {
            _this.setPayrolls(payrolls);
            _this.applyFilters();
            if (_this.agents == null)
                _this.agents = [];
            _this._payrolls.forEach(function (p) {
                p.details.forEach(function (d) {
                    if (d.agent == null)
                        return;
                    if (_this.agents.find(function (a) { return a.agentId == d.agentId; }) != null)
                        return;
                    _this.agents = _this.agents.concat(d.agent);
                });
            });
            _this.session.hideLoader();
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('tableRef'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTable"])
    ], PayrollListComponent.prototype, "table", void 0);
    PayrollListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-payroll-list',
            template: __webpack_require__(/*! ./payroll-list.component.html */ "./src/app/payroll/payroll-list/payroll-list.component.html"),
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["trigger"])('detailExpand', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["state"])('collapsed', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["style"])({ height: '0px', minHeight: '0', display: 'none' })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["state"])('expanded', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["style"])({ height: '*' })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["transition"])('expanded <=> collapsed', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_12__["animate"])('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))
                ])
            ],
            styles: [__webpack_require__(/*! ./payroll-list.component.scss */ "./src/app/payroll/payroll-list/payroll-list.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _payroll_service__WEBPACK_IMPORTED_MODULE_5__["PayrollService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_11__["CampaignService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDialog"]])
    ], PayrollListComponent);
    return PayrollListComponent;
}());



/***/ }),

/***/ "./src/app/payroll/payroll.module.ts":
/*!*******************************************!*\
  !*** ./src/app/payroll/payroll.module.ts ***!
  \*******************************************/
/*! exports provided: PayrollModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollModule", function() { return PayrollModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/core */ "./src/app/core/index.ts");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var ngx_loading__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-loading */ "./node_modules/ngx-loading/ngx-loading/ngx-loading.es5.js");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var _app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/pipes/pipes.module */ "./src/app/pipes/pipes.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_directives_directives_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/directives/directives.module */ "./src/app/directives/directives.module.ts");
/* harmony import */ var _payroll_dialog_payroll_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./payroll-dialog/payroll-dialog.component */ "./src/app/payroll/payroll-dialog/payroll-dialog.component.ts");
/* harmony import */ var _payroll_list_payroll_list_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./payroll-list/payroll-list.component */ "./src/app/payroll/payroll-list/payroll-list.component.ts");
/* harmony import */ var _payroll_filter_dialog_payroll_filter_dialog_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./payroll-filter-dialog/payroll-filter-dialog.component */ "./src/app/payroll/payroll-filter-dialog/payroll-filter-dialog.component.ts");
/* harmony import */ var _override_expense_dialog_override_expense_dialog_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./override-expense-dialog/override-expense-dialog.component */ "./src/app/payroll/override-expense-dialog/override-expense-dialog.component.ts");
/* harmony import */ var _schedule_auto_release_dialog_schedule_auto_release_dialog_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./schedule-auto-release-dialog/schedule-auto-release-dialog.component */ "./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.ts");
/* harmony import */ var _confirm_autorelease_date_dialog_confirm_autorelease_date_dialog_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component */ "./src/app/payroll/confirm-autorelease-date-dialog/confirm-autorelease-date-dialog.component.ts");
/* harmony import */ var _confirm_release_dialog_confirm_release_dialog_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./confirm-release-dialog/confirm-release-dialog.component */ "./src/app/payroll/confirm-release-dialog/confirm-release-dialog.component.ts");
/* harmony import */ var _confirm_release_dialog_gross_total_release_amount_pipe__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./confirm-release-dialog/gross-total-release-amount.pipe */ "./src/app/payroll/confirm-release-dialog/gross-total-release-amount.pipe.ts");
/* harmony import */ var _paycheck_list_paycheck_list_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./paycheck-list/paycheck-list.component */ "./src/app/payroll/paycheck-list/paycheck-list.component.ts");
/* harmony import */ var _pay_cycle_pay_cycle_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./pay-cycle/pay-cycle.component */ "./src/app/payroll/pay-cycle/pay-cycle.component.ts");
/* harmony import */ var _pay_cycle_components_edit_pay_cycle_edit_pay_cycle_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component */ "./src/app/payroll/pay-cycle/components/edit-pay-cycle/edit-pay-cycle.component.ts");
/* harmony import */ var _pay_cycle_components_confirm_unpaid_selection_dialog_confirm_unpaid_selection_dialog_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component */ "./src/app/payroll/pay-cycle/components/confirm-unpaid-selection-dialog/confirm-unpaid-selection-dialog.component.ts");
/* harmony import */ var _pay_cycle_components_pay_cycle_dialog_pay_cycle_dialog_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component */ "./src/app/payroll/pay-cycle/components/pay-cycle-dialog/pay-cycle-dialog.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _app_auth_guard__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @app/auth.guard */ "./src/app/auth.guard.ts");



























var routes = [{
        path: 'admin/pay',
        children: [
            { path: 'pay-cycles', component: _pay_cycle_pay_cycle_component__WEBPACK_IMPORTED_MODULE_21__["PayCycleComponent"], canActivate: [_app_auth_guard__WEBPACK_IMPORTED_MODULE_26__["AuthGuard"]] },
            { path: 'pay-cycles/edit/:payCycleId', component: _pay_cycle_components_edit_pay_cycle_edit_pay_cycle_component__WEBPACK_IMPORTED_MODULE_22__["EditPayCycleComponent"], canActivate: [_app_auth_guard__WEBPACK_IMPORTED_MODULE_26__["AuthGuard"]] },
            { path: 'manage', component: _payroll_list_payroll_list_component__WEBPACK_IMPORTED_MODULE_13__["PayrollListComponent"], canActivate: [_app_auth_guard__WEBPACK_IMPORTED_MODULE_26__["AuthGuard"]] },
            { path: 'paycheck-list', component: _paycheck_list_paycheck_list_component__WEBPACK_IMPORTED_MODULE_20__["PaycheckListComponent"], canActivate: [_app_auth_guard__WEBPACK_IMPORTED_MODULE_26__["AuthGuard"]] }
        ]
    }];
var PayrollModule = /** @class */ (function () {
    function PayrollModule() {
    }
    PayrollModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__["BrowserAnimationsModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_10__["ReactiveFormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_10__["FormsModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_6__["MaterialModule"],
                _app_core__WEBPACK_IMPORTED_MODULE_5__["CoreModule"],
                ngx_loading__WEBPACK_IMPORTED_MODULE_7__["LoadingModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_8__["FabFloatBtnModule"],
                _app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_9__["PipesModule"],
                _app_directives_directives_module__WEBPACK_IMPORTED_MODULE_11__["DirectivesModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_25__["RouterModule"].forChild(routes)
            ],
            declarations: [
                _pay_cycle_components_pay_cycle_dialog_pay_cycle_dialog_component__WEBPACK_IMPORTED_MODULE_24__["PayCycleDialogComponent"],
                _payroll_dialog_payroll_dialog_component__WEBPACK_IMPORTED_MODULE_12__["PayrollDialogComponent"],
                _payroll_list_payroll_list_component__WEBPACK_IMPORTED_MODULE_13__["PayrollListComponent"],
                _payroll_filter_dialog_payroll_filter_dialog_component__WEBPACK_IMPORTED_MODULE_14__["PayrollFilterDialogComponent"],
                _override_expense_dialog_override_expense_dialog_component__WEBPACK_IMPORTED_MODULE_15__["OverrideExpenseDialogComponent"],
                _schedule_auto_release_dialog_schedule_auto_release_dialog_component__WEBPACK_IMPORTED_MODULE_16__["ScheduleAutoReleaseDialogComponent"],
                _confirm_autorelease_date_dialog_confirm_autorelease_date_dialog_component__WEBPACK_IMPORTED_MODULE_17__["ConfirmAutoreleaseDateDialogComponent"],
                _confirm_release_dialog_confirm_release_dialog_component__WEBPACK_IMPORTED_MODULE_18__["ConfirmReleaseDialogComponent"],
                _confirm_release_dialog_gross_total_release_amount_pipe__WEBPACK_IMPORTED_MODULE_19__["GrossTotalReleaseAmountPipe"],
                _paycheck_list_paycheck_list_component__WEBPACK_IMPORTED_MODULE_20__["PaycheckListComponent"],
                _pay_cycle_pay_cycle_component__WEBPACK_IMPORTED_MODULE_21__["PayCycleComponent"],
                _pay_cycle_components_edit_pay_cycle_edit_pay_cycle_component__WEBPACK_IMPORTED_MODULE_22__["EditPayCycleComponent"],
                _pay_cycle_components_confirm_unpaid_selection_dialog_confirm_unpaid_selection_dialog_component__WEBPACK_IMPORTED_MODULE_23__["ConfirmUnpaidSelectionDialogComponent"]
            ],
            exports: [
            // not sure why i was exporting these??? 
            // PayCycleDialogComponent,
            // PayrollDialogComponent,
            // PayrollListComponent,
            // PayrollFilterDialogComponent,
            // OverrideExpenseDialogComponent,
            // ScheduleAutoReleaseDialogComponent,
            // ConfirmAutoreleaseDateDialogComponent,
            // ConfirmReleaseDialogComponent,
            // GrossTotalReleaseAmountPipe,
            // PaycheckListComponent,
            // PayCycleComponent,
            // EditPayCycleComponent,
            // ConfirmUnpaidSelectionDialogComponent
            ],
            entryComponents: [
                _pay_cycle_components_pay_cycle_dialog_pay_cycle_dialog_component__WEBPACK_IMPORTED_MODULE_24__["PayCycleDialogComponent"],
                _payroll_dialog_payroll_dialog_component__WEBPACK_IMPORTED_MODULE_12__["PayrollDialogComponent"],
                _pay_cycle_components_confirm_unpaid_selection_dialog_confirm_unpaid_selection_dialog_component__WEBPACK_IMPORTED_MODULE_23__["ConfirmUnpaidSelectionDialogComponent"],
                _payroll_filter_dialog_payroll_filter_dialog_component__WEBPACK_IMPORTED_MODULE_14__["PayrollFilterDialogComponent"],
                _override_expense_dialog_override_expense_dialog_component__WEBPACK_IMPORTED_MODULE_15__["OverrideExpenseDialogComponent"],
                _schedule_auto_release_dialog_schedule_auto_release_dialog_component__WEBPACK_IMPORTED_MODULE_16__["ScheduleAutoReleaseDialogComponent"],
                _confirm_autorelease_date_dialog_confirm_autorelease_date_dialog_component__WEBPACK_IMPORTED_MODULE_17__["ConfirmAutoreleaseDateDialogComponent"],
                _confirm_release_dialog_confirm_release_dialog_component__WEBPACK_IMPORTED_MODULE_18__["ConfirmReleaseDialogComponent"]
            ]
        })
    ], PayrollModule);
    return PayrollModule;
}());



/***/ }),

/***/ "./src/app/payroll/payroll.service.ts":
/*!********************************************!*\
  !*** ./src/app/payroll/payroll.service.ts ***!
  \********************************************/
/*! exports provided: PayrollService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollService", function() { return PayrollService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _env_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @env/environment */ "./src/environments/environment.ts");




var PayrollService = /** @class */ (function () {
    function PayrollService(http) {
        this.http = http;
        this.api = _env_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiUrl + 'api';
    }
    PayrollService.prototype.savePayrollList = function (clientId, payload) {
        var url = this.api + "/clients/" + clientId + "/payrolls";
        return this.http.post(url, payload);
    };
    PayrollService.prototype.getPayrollList = function (clientId, userId) {
        var url = this.api + "/clients/" + clientId + "/users/" + userId + "/payrolls";
        return this.http.get(url);
    };
    PayrollService.prototype.saveAutoReleaseSettings = function (clientId, ids, date) {
        var url = this.api + "/clients/" + clientId + "/payrolls/auto-release";
        var body = {
            date: date,
            payrollIds: ids
        };
        return this.http.post(url, body);
    };
    PayrollService.prototype.removeAutoReleaseSettings = function (clientId, payrollId) {
        var url = this.api + "/clients/" + clientId + "/payrolls/" + payrollId + "/remove-auto-release";
        return this.http.get(url);
    };
    PayrollService.prototype.setReleased = function (clientId, payrollIds) {
        var url = this.api + "/clients/" + clientId + "/payrolls/set-released";
        var params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('payrollIds', JSON.stringify(payrollIds));
        return this.http.get(url, { params: params });
    };
    PayrollService.prototype.savePayrollDetails = function (clientId, details) {
        var url = this.api + "/clients/" + clientId + "/payrolls/" + details.payrollId + "/details/" + details.payrollDetailsId;
        return this.http.post(url, details);
    };
    PayrollService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], PayrollService);
    return PayrollService;
}());



/***/ }),

/***/ "./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.html":
/*!**************************************************************************************************!*\
  !*** ./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div mat-dialog-title class=\"d-flex justify-content-between\">\n    <h3>Schedule Auto Release</h3>\n    <button type=\"button\" mat-icon-button (click)=\"onNoClick()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<mat-dialog-content>\n    <div class=\"row\">\n        <div class=\"col-md-12\" [formGroup]=\"form\">\n            <mat-calendar-header></mat-calendar-header>\n            <mat-calendar\n                [selected]=\"form.value.releaseDate\"\n                (selectedChange)=\"updateSelectedDate($event)\"\n            ></mat-calendar>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-end\">\n    <button type=\"button\" mat-button (click)=\"onNoClick()\">\n        Cancel\n    </button>\n    <button type=\"button\" mat-button color=\"primary\" (click)=\"saveAutoReleaseForm()\">\n        Save\n    </button>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.scss":
/*!**************************************************************************************************!*\
  !*** ./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.scss ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXJvbGwvc2NoZWR1bGUtYXV0by1yZWxlYXNlLWRpYWxvZy9zY2hlZHVsZS1hdXRvLXJlbGVhc2UtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.ts ***!
  \************************************************************************************************/
/*! exports provided: ScheduleAutoReleaseDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScheduleAutoReleaseDialogComponent", function() { return ScheduleAutoReleaseDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var ScheduleAutoReleaseDialogComponent = /** @class */ (function () {
    function ScheduleAutoReleaseDialogComponent(ref, data, fb) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.form = this.createForm();
    }
    ScheduleAutoReleaseDialogComponent.prototype.ngOnInit = function () {
        if (this.data.date)
            this.patchForm();
    };
    ScheduleAutoReleaseDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    ScheduleAutoReleaseDialogComponent.prototype.updateSelectedDate = function (event) {
        console.dir(event);
    };
    ScheduleAutoReleaseDialogComponent.prototype.saveAutoReleaseForm = function () {
        if (this.form.invalid)
            return;
        this.ref.close(this.form.value.releaseDate);
    };
    ScheduleAutoReleaseDialogComponent.prototype.createForm = function () {
        return this.fb.group({
            releaseDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        });
    };
    ScheduleAutoReleaseDialogComponent.prototype.patchForm = function () {
        this.form.patchValue({
            releaseDate: this.data.date
        });
    };
    ScheduleAutoReleaseDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-schedule-auto-release-dialog',
            template: __webpack_require__(/*! ./schedule-auto-release-dialog.component.html */ "./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.html"),
            styles: [__webpack_require__(/*! ./schedule-auto-release-dialog.component.scss */ "./src/app/payroll/schedule-auto-release-dialog/schedule-auto-release-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]])
    ], ScheduleAutoReleaseDialogComponent);
    return ScheduleAutoReleaseDialogComponent;
}());



/***/ }),

/***/ "./src/app/pipes/currency-input.pipe.ts":
/*!**********************************************!*\
  !*** ./src/app/pipes/currency-input.pipe.ts ***!
  \**********************************************/
/*! exports provided: CurrencyInputPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyInputPipe", function() { return CurrencyInputPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var CurrencyInputPipe = /** @class */ (function () {
    function CurrencyInputPipe() {
    }
    CurrencyInputPipe.prototype.transform = function (value, args) {
        console.dir([value, args]);
        var result = this.isNumeric(value) ? value + '' : value;
        var firstChar = result.charAt(0);
        if (!this.isNumeric(firstChar))
            result.slice(0, 1);
        var decimalIndex = result.indexOf('.');
        result.slice(decimalIndex, 2);
        result = result == null || result.length == 0 ? "00" : result;
        return "$" + result + ".00";
    };
    CurrencyInputPipe.prototype.isNumeric = function (value) {
        return !isNaN(value - parseFloat(value));
    };
    CurrencyInputPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'currencyInput'
        })
    ], CurrencyInputPipe);
    return CurrencyInputPipe;
}());



/***/ }),

/***/ "./src/app/pipes/payroll-detail-totals.pipe.ts":
/*!*****************************************************!*\
  !*** ./src/app/pipes/payroll-detail-totals.pipe.ts ***!
  \*****************************************************/
/*! exports provided: PayrollDetailTotalsPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollDetailTotalsPipe", function() { return PayrollDetailTotalsPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var PayrollDetailTotalsPipe = /** @class */ (function () {
    function PayrollDetailTotalsPipe() {
    }
    PayrollDetailTotalsPipe.prototype.transform = function (value, args) {
        if (args === void 0) { args = 'grossTotal'; }
        if (args == 'grossTotal')
            return this.calculateGrossTotal(value);
        else if (args == 'netTotal')
            return this.calculateNetTotal(value);
    };
    PayrollDetailTotalsPipe.prototype.calculateGrossTotal = function (detail) {
        var expenses = detail.expenses.map(function (e) { return e.amount; }).reduce(function (t, n) { return t + n; }, 0);
        var overrides = detail.overrides.map(function (o) { return (o.amount * o.units); }).reduce(function (t, n) { return t + n; }, 0);
        var result = +detail.grossTotal + +expenses + +overrides;
        return result;
    };
    PayrollDetailTotalsPipe.prototype.calculateNetTotal = function (detail) {
        var result = this.calculateGrossTotal(detail);
        result = +result - +detail.taxes;
        return result;
    };
    PayrollDetailTotalsPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'payrollDetailTotals'
        })
    ], PayrollDetailTotalsPipe);
    return PayrollDetailTotalsPipe;
}());



/***/ }),

/***/ "./src/app/pipes/phone.pipe.ts":
/*!*************************************!*\
  !*** ./src/app/pipes/phone.pipe.ts ***!
  \*************************************/
/*! exports provided: PhonePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhonePipe", function() { return PhonePipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var PhonePipe = /** @class */ (function () {
    function PhonePipe() {
    }
    PhonePipe.prototype.transform = function (value, args) {
        value = value + '';
        var npa = value.substr(0, 3);
        var npx = value.substr(3, 3);
        var xxxx = value.substr(6, 4);
        return "(" + npa + ") " + npx + "-" + xxxx;
    };
    PhonePipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'phone'
        })
    ], PhonePipe);
    return PhonePipe;
}());



/***/ }),

/***/ "./src/app/pipes/pipes.module.ts":
/*!***************************************!*\
  !*** ./src/app/pipes/pipes.module.ts ***!
  \***************************************/
/*! exports provided: PipesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipesModule", function() { return PipesModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _app_pipes_phone_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/pipes/phone.pipe */ "./src/app/pipes/phone.pipe.ts");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _currency_input_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./currency-input.pipe */ "./src/app/pipes/currency-input.pipe.ts");
/* harmony import */ var _payroll_detail_totals_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payroll-detail-totals.pipe */ "./src/app/pipes/payroll-detail-totals.pipe.ts");







var PipesModule = /** @class */ (function () {
    function PipesModule() {
    }
    PipesModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"]
            ],
            declarations: [_app_pipes_phone_pipe__WEBPACK_IMPORTED_MODULE_3__["PhonePipe"], _currency_input_pipe__WEBPACK_IMPORTED_MODULE_5__["CurrencyInputPipe"], _payroll_detail_totals_pipe__WEBPACK_IMPORTED_MODULE_6__["PayrollDetailTotalsPipe"]],
            exports: [_app_pipes_phone_pipe__WEBPACK_IMPORTED_MODULE_3__["PhonePipe"], _currency_input_pipe__WEBPACK_IMPORTED_MODULE_5__["CurrencyInputPipe"], _payroll_detail_totals_pipe__WEBPACK_IMPORTED_MODULE_6__["PayrollDetailTotalsPipe"]]
        })
    ], PipesModule);
    return PipesModule;
}());



/***/ }),

/***/ "./src/app/public-home/public-home.component.html":
/*!********************************************************!*\
  !*** ./src/app/public-home/public-home.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<!-- <img src=\"dist/assets/images/hero.jpg\" class=\"hero-banner\" /> -->\n\n<div class=\"container-fluid\">\n    <div class=\"row flex-column\">\n        <div class=\"row hero-banner\">\n            <div class=\"col-md-5 offset-md-2 d-flex align-items-center\">\n                <h1 class=\"display-3 text-white hero-banner-text py-2\">\n                    <span>Leave the</span> \n                    <span>analytics</span> \n                    <span>to us,</span> \n                    <span>so your team</span> \n                    <span>can execute.</span>\n                </h1>\n            </div>\n        </div>\n\n        <div class=\"row my-4 justify-content-center\">\n            <div class=\"col-md-6 d-flex justify-content-center\">\n                <div>\n                    <h3 class=\"font-weight-light mb-4 text-center\">Welcome to Comprehensive Analytics</h3>\n                    <p class=\"text-center lead text-muted mb-4\" style=\"line-height: 1.2;\">\n                        We can provide you with the tools to manage clients and communicate with them effectively, employees, sales analytics while keeping your accounting \n                        in order and making sure you have the data at your fingertips that you need to be successful. \n                    </p>\n                    <hr style=\"width:80%;\" />\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row my-4 justify-content-center\">\n            <div class=\"col-md-4 d-flex justify-content-center\">\n                <span class=\"mx-2\">\n                    <a href=\"#\" class=\"text-muted\">Facebook</a>\n                </span>\n                <span class=\"mx-2\">\n                    <a href=\"#\" class=\"text-muted\">Twitter</a>\n                </span>\n                <span class=\"mx-2\">\n                    <a href=\"#\" class=\"text-muted\">Medium</a>\n                </span>\n            </div>\n        </div>\n\n        <div class=\"d-flex\" style=\"flex:1 1 auto;\">&nbsp;</div>\n\n        <div class=\"row mt-4 justify-content-center\">\n            <div class=\"col-md-4 d-flex justify-content-center\">\n                <div class=\"logo-container\">\n                    <img src=\"dist/assets/images/logo.svg\" width=\"100%\" height=\"100%\" />\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"

/***/ }),

/***/ "./src/app/public-home/public-home.component.scss":
/*!********************************************************!*\
  !*** ./src/app/public-home/public-home.component.scss ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3B1YmxpYy1ob21lL3B1YmxpYy1ob21lLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/public-home/public-home.component.ts":
/*!******************************************************!*\
  !*** ./src/app/public-home/public-home.component.ts ***!
  \******************************************************/
/*! exports provided: PublicHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublicHomeComponent", function() { return PublicHomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var PublicHomeComponent = /** @class */ (function () {
    function PublicHomeComponent() {
    }
    PublicHomeComponent.prototype.ngOnInit = function () {
    };
    PublicHomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'vs-public-home',
            template: __webpack_require__(/*! ./public-home.component.html */ "./src/app/public-home/public-home.component.html"),
            styles: [__webpack_require__(/*! ./public-home.component.scss */ "./src/app/public-home/public-home.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], PublicHomeComponent);
    return PublicHomeComponent;
}());



/***/ }),

/***/ "./src/app/select-mapper/select-mapper.component.css":
/*!***********************************************************!*\
  !*** ./src/app/select-mapper/select-mapper.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlbGVjdC1tYXBwZXIvc2VsZWN0LW1hcHBlci5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/select-mapper/select-mapper.component.html":
/*!************************************************************!*\
  !*** ./src/app/select-mapper/select-mapper.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<mat-card-title>Choose a mapping method.</mat-card-title>\n<mat-card-content>\n  The best method to map is to use the agent's sales id. However, it is imperative that you make sure both the sales ID is updated in their\n  profile and is displayed properly in the invoice. The fallback option would be to match the agent by name, but this requires that the name\n  typed into the invoice matches identically to the agent's profile.\n</mat-card-content>\n<mat-card-actions class=\"d-flex justify-content-between mx-0\">\n  <button type=\"button\" mat-button (click)=\"closeDialog('username')\">Username</button>\n  <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"closeDialog('salesId')\">Sales ID</button>\n</mat-card-actions>\n"

/***/ }),

/***/ "./src/app/select-mapper/select-mapper.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/select-mapper/select-mapper.component.ts ***!
  \**********************************************************/
/*! exports provided: SelectMapperComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectMapperComponent", function() { return SelectMapperComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");



var SelectMapperComponent = /** @class */ (function () {
    function SelectMapperComponent(ref, data) {
        this.ref = ref;
        this.data = data;
        this.isMappedByUsername = false;
    }
    SelectMapperComponent.prototype.ngOnInit = function () {
        this.toggleTitle = this.isMappedByUsername ? 'Map invoice by Username' : 'Map invoice by Sales ID';
    };
    SelectMapperComponent.prototype.closeDialog = function (mapBy) {
        this.ref.close(mapBy);
    };
    SelectMapperComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-select-mapper',
            template: __webpack_require__(/*! ./select-mapper.component.html */ "./src/app/select-mapper/select-mapper.component.html"),
            styles: [__webpack_require__(/*! ./select-mapper.component.css */ "./src/app/select-mapper/select-mapper.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], SelectMapperComponent);
    return SelectMapperComponent;
}());



/***/ }),

/***/ "./src/app/session.service.ts":
/*!************************************!*\
  !*** ./src/app/session.service.ts ***!
  \************************************/
/*! exports provided: SessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionService", function() { return SessionService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _ngx_pwa_local_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-pwa/local-storage */ "./node_modules/@ngx-pwa/local-storage/fesm5/ngx-pwa-local-storage.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");








var rootUrl = _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].rootUrl;
var SessionService = /** @class */ (function () {
    function SessionService(localStorage, router) {
        var _this = this;
        this.localStorage = localStorage;
        this.router = router;
        this.opened$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.dataStore = {
            user: null,
            token: null
        };
        this.navigateQueue = [];
        this.loggedInService = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.userItem$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.tokenItem$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.loading$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.hasTokenSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.isLoginSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this.hasToken());
        this.previousUrl = '';
        this.currentUrl = '';
        // make sure we're removing expired cookies on app boot
        this.pruneExpiredStorage();
        for (var p in this.dataStore) {
            this.getItem(p);
        }
        this.userItem = this.userItem$.asObservable();
        this.tokenItem = this.tokenItem$.asObservable();
        this.loadingState = this.loading$.asObservable();
        this.router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(function (event) { return event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_4__["NavigationEnd"]; })).subscribe(function (e) {
            _this.previousUrl = _this.currentUrl;
            _this.currentUrl = e.url;
        });
    }
    SessionService_1 = SessionService;
    Object.defineProperty(SessionService.prototype, "isUserLoggedIn", {
        get: function () {
            return this.userLoggedIn;
        },
        enumerable: true,
        configurable: true
    });
    SessionService.prototype.hasToken = function () {
        var _this = this;
        this.hasTokenSubject.subscribe(function (hasToken) {
            _this.userLoggedIn = hasToken;
        });
        this.localStorage
            .getItem('token')
            .toPromise()
            .then(function (item) {
            if (item == null)
                return;
            if (Date.now() >= item.expires) {
                _this.removeItem('token');
                _this.isLoginSubject.next(false);
            }
            else {
                _this.dataStore.token = item.data;
                _this.tokenItem$.next(item.data);
                _this.isLoginSubject.next(true);
            }
        });
        return this.userLoggedIn;
    };
    SessionService.prototype.login = function (token) {
        this.setToken(token.data);
        this.setItem('token', token);
        this.hideLoader();
        this.navigateTo('/');
    };
    SessionService.prototype.logout = function () {
        this.clearStorage();
        this.isLoginSubject.next(false);
        this.hasTokenSubject.next(false);
        window.location.href = rootUrl + '/#/login';
    };
    SessionService.prototype.getUserItem = function () {
        return this.userItem$.asObservable();
    };
    Object.defineProperty(SessionService.prototype, "userHomePage", {
        get: function () {
            return SessionService_1.defaultUserUrl;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Updates the app's loading spinner status. It is recommended to use the hide/show methods though.
     *
     * @param loading
     */
    SessionService.prototype.updateLoadingState = function (loading) {
        this.loading$.next(loading);
    };
    // hide the loading graphics
    SessionService.prototype.hideLoader = function () {
        this.loading$.next(false);
    };
    // show the loading graphics
    SessionService.prototype.showLoader = function () {
        this.loading$.next(true);
    };
    /**
     * Access router instance and redirect user to the view of your choice.
     *
     * @param view string
     */
    SessionService.prototype.navigateTo = function (view) {
        this.navigateQueue.push(view);
        this.router.navigateByUrl(view);
    };
    SessionService.prototype.navigateByUrl = function (url) {
        this.router.navigateByUrl(url);
    };
    /**
     * Navigate back to a page the user has been to very the navigation queue.
     *
     * @param index
     */
    SessionService.prototype.navigateBack = function (index) {
        if (index === void 0) { index = 1; }
        return this.router.navigateByUrl(this.navigateQueue[index]);
    };
    /**
     * Updates the user item in the session
     *
     * @param user
     */
    SessionService.prototype.setUser = function (user) {
        this.userItem$.next(user);
    };
    /**
     * What is this doing????
     *
     * @param sidenav
     */
    SessionService.prototype.setSidenav = function (sidenav) {
        this.sidenav = sidenav;
    };
    SessionService.prototype.open = function () {
        return this.sidenav.open();
    };
    SessionService.prototype.close = function () {
        return this.sidenav.close();
    };
    SessionService.prototype.toggle = function (isOpen) {
        return this.sidenav.toggle(isOpen);
    };
    SessionService.prototype.setToken = function (token) {
        this.isLoginSubject.next(true);
        this.hasTokenSubject.next(true);
        this.dataStore.token = token;
        this.tokenItem$.next(token);
    };
    SessionService.prototype.setItem = function (itemName, data) {
        if (this.dataStore[itemName])
            this.dataStore[itemName] = data.data;
        data.expires =
            data.expires == null ? moment__WEBPACK_IMPORTED_MODULE_6__().valueOf() + moment__WEBPACK_IMPORTED_MODULE_6__["duration"](3, 'days').milliseconds() : data.expires;
        this.localStorage.setItemSubscribe(itemName, data);
    };
    SessionService.prototype.getItem = function (itemName) {
        var _this = this;
        itemName = itemName.trim().toLowerCase();
        this.localStorage.getItem(itemName).subscribe(function (next) {
            if (next == null) {
                return;
            }
            else if (Date.now() >= next.expires) {
                _this.hasTokenSubject.next(false);
                _this.isLoginSubject.next(false);
                _this.removeItem(itemName);
            }
            else if (itemName === 'user') {
                _this.hasTokenSubject.next(true);
                _this.isLoginSubject.next(true);
                _this.dataStore.user = next.data;
                _this.userItem$.next(next.data);
            }
            else if (itemName === 'token') {
                _this.hasTokenSubject.next(true);
                _this.isLoginSubject.next(true);
                _this.dataStore.token = next.data;
                _this.tokenItem$.next(next.data);
            }
            _this.loggedInService.next(_this.userLoggedIn);
        });
    };
    /**
     * Exposes our localstorage user via the session service.
     */
    SessionService.prototype.isUserAuthenticated = function () {
        return this.localStorage.getItem('user');
    };
    /**
     * Explicit method to load user item from storage.
     *
     */
    SessionService.prototype.loadUserStorageItem = function () {
        var _this = this;
        this.localStorage.getItem('user').subscribe(function (item) {
            if (item == null) {
                _this.userLoggedIn = false;
                return;
            }
            if (item.expires <= moment__WEBPACK_IMPORTED_MODULE_6__().valueOf()) {
                _this.userLoggedIn = false;
                _this.removeItem('user');
            }
            else {
                _this.userLoggedIn = true;
                _this.dataStore.user = item.data;
                _this.userItem$.next(item.data);
            }
            _this.loggedInService.next(_this.userLoggedIn);
        });
    };
    /**
     * Explicit method to load token item from storage.
     *
     */
    SessionService.prototype.loadTokenStorageItem = function () {
        var _this = this;
        this.pruneExpiredStorage();
        this.localStorage.getItem('token').subscribe(function (item) {
            if (item == null)
                return;
            if (item.expires <= Date.now()) {
                _this.userLoggedIn = false;
                _this.removeItem('token');
            }
            else {
                _this.userLoggedIn = _this.userLoggedIn || true;
                _this.dataStore.token = item.data;
                _this.tokenItem$.next(item.data);
            }
            _this.loggedInService.next(_this.userLoggedIn);
        });
    };
    /**
     * Removes an item from the localstorage.
     *
     * @param itemName
     */
    SessionService.prototype.removeItem = function (itemName) {
        this.localStorage.removeItemSubscribe(itemName);
    };
    /**
     * Forces an item from localstorage. Returns the observable.
     *
     * @param itemName
     */
    SessionService.prototype.expediteItem = function (itemName) {
        return this.localStorage.getItem(itemName);
    };
    /**
     * Returns a promise with the user from local storage.
     */
    SessionService.prototype.getUserAuthenticationStatus = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.localStorage.getItem('user').subscribe(function (item) {
                if (item == null)
                    reject('Not logged in.');
                if (item.expires <= Date.now()) {
                    _this.removeItem('user');
                    reject('Login has expired. Please log back in.');
                }
                else {
                    resolve(item.data);
                }
            });
        });
    };
    SessionService.prototype.isExpiredItem = function (key, expires) {
        var result = false;
        if (Date.now() > expires) {
            this.removeItem(key);
            result = true;
        }
        return result;
    };
    /**
     * Iterates through all stored objects in localstorage
     * and checks their expiration dates. If the object has passed
     * its expiration date, it is invalidated and the object is
     * removed.
     *
     */
    SessionService.prototype.pruneExpiredStorage = function () {
        var values = [], keys = Object.keys(localStorage), i = keys.length;
        while (i--) {
            values.push({
                key: keys[i],
                data: this.localStorage.getItem(keys[i])
            });
        }
        for (var v = 0; v < values.length; v++) {
            var item = values[v];
            if (Date.now() > item.data.expires) {
                this.removeItem(item.key);
            }
        }
    };
    SessionService.prototype.clearStorage = function () {
        this.localStorage.clearSubscribe();
        this.userItem$.next(null);
        this.tokenItem$.next(null);
    };
    /**
     * When the user has been logged in, we need to make sure we are appending these to every HTTP call,
     * so that the user can make authorized calls to the server.
     *
     */
    SessionService.prototype.getTokenRequest = function (request) {
        return request.clone({
            setHeaders: {
                Authorization: 'Bearer ' + this.dataStore.token.access_token
            }
        });
    };
    var SessionService_1;
    SessionService.defaultUserUrl = 'my-information';
    SessionService = SessionService_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_pwa_local_storage__WEBPACK_IMPORTED_MODULE_3__["LocalStorage"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], SessionService);
    return SessionService;
}());



/***/ }),

/***/ "./src/app/shared/index.ts":
/*!*********************************!*\
  !*** ./src/app/shared/index.ts ***!
  \*********************************/
/*! exports provided: States, MomentInclusivity, MomentExtensions, QuillConfig, SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _models_state_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "States", function() { return _models_state_model__WEBPACK_IMPORTED_MODULE_0__["States"]; });

/* harmony import */ var _moment_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moment-extensions */ "./src/app/shared/moment-extensions.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MomentInclusivity", function() { return _moment_extensions__WEBPACK_IMPORTED_MODULE_1__["MomentInclusivity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MomentExtensions", function() { return _moment_extensions__WEBPACK_IMPORTED_MODULE_1__["MomentExtensions"]; });

/* harmony import */ var _quill_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./quill-config */ "./src/app/shared/quill-config.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QuillConfig", function() { return _quill_config__WEBPACK_IMPORTED_MODULE_2__["QuillConfig"]; });

/* harmony import */ var _shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shared.module */ "./src/app/shared/shared.module.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return _shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"]; });







/***/ }),

/***/ "./src/app/shared/models/state.model.ts":
/*!**********************************************!*\
  !*** ./src/app/shared/models/state.model.ts ***!
  \**********************************************/
/*! exports provided: States */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "States", function() { return States; });
var States = /** @class */ (function () {
    function States() {
    }
    States.list = [
        {
            "name": "Alabama",
            "abbreviation": "AL"
        },
        {
            "name": "Alaska",
            "abbreviation": "AK"
        },
        {
            "name": "American Samoa",
            "abbreviation": "AS"
        },
        {
            "name": "Arizona",
            "abbreviation": "AZ"
        },
        {
            "name": "Arkansas",
            "abbreviation": "AR"
        },
        {
            "name": "California",
            "abbreviation": "CA"
        },
        {
            "name": "Colorado",
            "abbreviation": "CO"
        },
        {
            "name": "Connecticut",
            "abbreviation": "CT"
        },
        {
            "name": "Delaware",
            "abbreviation": "DE"
        },
        {
            "name": "District Of Columbia",
            "abbreviation": "DC"
        },
        {
            "name": "Federated States Of Micronesia",
            "abbreviation": "FM"
        },
        {
            "name": "Florida",
            "abbreviation": "FL"
        },
        {
            "name": "Georgia",
            "abbreviation": "GA"
        },
        {
            "name": "Guam",
            "abbreviation": "GU"
        },
        {
            "name": "Hawaii",
            "abbreviation": "HI"
        },
        {
            "name": "Idaho",
            "abbreviation": "ID"
        },
        {
            "name": "Illinois",
            "abbreviation": "IL"
        },
        {
            "name": "Indiana",
            "abbreviation": "IN"
        },
        {
            "name": "Iowa",
            "abbreviation": "IA"
        },
        {
            "name": "Kansas",
            "abbreviation": "KS"
        },
        {
            "name": "Kentucky",
            "abbreviation": "KY"
        },
        {
            "name": "Louisiana",
            "abbreviation": "LA"
        },
        {
            "name": "Maine",
            "abbreviation": "ME"
        },
        {
            "name": "Marshall Islands",
            "abbreviation": "MH"
        },
        {
            "name": "Maryland",
            "abbreviation": "MD"
        },
        {
            "name": "Massachusetts",
            "abbreviation": "MA"
        },
        {
            "name": "Michigan",
            "abbreviation": "MI"
        },
        {
            "name": "Minnesota",
            "abbreviation": "MN"
        },
        {
            "name": "Mississippi",
            "abbreviation": "MS"
        },
        {
            "name": "Missouri",
            "abbreviation": "MO"
        },
        {
            "name": "Montana",
            "abbreviation": "MT"
        },
        {
            "name": "Nebraska",
            "abbreviation": "NE"
        },
        {
            "name": "Nevada",
            "abbreviation": "NV"
        },
        {
            "name": "New Hampshire",
            "abbreviation": "NH"
        },
        {
            "name": "New Jersey",
            "abbreviation": "NJ"
        },
        {
            "name": "New Mexico",
            "abbreviation": "NM"
        },
        {
            "name": "New York",
            "abbreviation": "NY"
        },
        {
            "name": "North Carolina",
            "abbreviation": "NC"
        },
        {
            "name": "North Dakota",
            "abbreviation": "ND"
        },
        {
            "name": "Northern Mariana Islands",
            "abbreviation": "MP"
        },
        {
            "name": "Ohio",
            "abbreviation": "OH"
        },
        {
            "name": "Oklahoma",
            "abbreviation": "OK"
        },
        {
            "name": "Oregon",
            "abbreviation": "OR"
        },
        {
            "name": "Palau",
            "abbreviation": "PW"
        },
        {
            "name": "Pennsylvania",
            "abbreviation": "PA"
        },
        {
            "name": "Puerto Rico",
            "abbreviation": "PR"
        },
        {
            "name": "Rhode Island",
            "abbreviation": "RI"
        },
        {
            "name": "South Carolina",
            "abbreviation": "SC"
        },
        {
            "name": "South Dakota",
            "abbreviation": "SD"
        },
        {
            "name": "Tennessee",
            "abbreviation": "TN"
        },
        {
            "name": "Texas",
            "abbreviation": "TX"
        },
        {
            "name": "Utah",
            "abbreviation": "UT"
        },
        {
            "name": "Vermont",
            "abbreviation": "VT"
        },
        {
            "name": "Virgin Islands",
            "abbreviation": "VI"
        },
        {
            "name": "Virginia",
            "abbreviation": "VA"
        },
        {
            "name": "Washington",
            "abbreviation": "WA"
        },
        {
            "name": "West Virginia",
            "abbreviation": "WV"
        },
        {
            "name": "Wisconsin",
            "abbreviation": "WI"
        },
        {
            "name": "Wyoming",
            "abbreviation": "WY"
        }
    ];
    States.$get = function () { return States.list; };
    return States;
}());



/***/ }),

/***/ "./src/app/shared/moment-extensions.ts":
/*!*********************************************!*\
  !*** ./src/app/shared/moment-extensions.ts ***!
  \*********************************************/
/*! exports provided: MomentInclusivity, MomentExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MomentInclusivity", function() { return MomentInclusivity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MomentExtensions", function() { return MomentExtensions; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var MomentInclusivity = {
    includeNone: '()',
    includeStart: '[)',
    includeEnd: '(]',
    includeBoth: '[]'
};
var MomentExtensions = /** @class */ (function () {
    function MomentExtensions() {
        this.toDateString = function () {
            return moment__WEBPACK_IMPORTED_MODULE_0__(this).clone().format('YYYY-MM-DD');
        };
        moment__WEBPACK_IMPORTED_MODULE_0__["fn"].toDateString = this.toDateString;
    }
    MomentExtensions.init = function () { return new MomentExtensions(); };
    return MomentExtensions;
}());



/***/ }),

/***/ "./src/app/shared/quill-config.ts":
/*!****************************************!*\
  !*** ./src/app/shared/quill-config.ts ***!
  \****************************************/
/*! exports provided: QuillConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuillConfig", function() { return QuillConfig; });
var QuillConfig = /** @class */ (function () {
    function QuillConfig() {
    }
    QuillConfig.DEFAULT_MODULE = {
        toolbar: [
            ['bold', 'italic', 'underline', 'strike'],
            [{ 'font': [] }],
            [{ 'color': [], 'background': [] }],
            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
            [{ 'list': 'ordered' }, { 'list': 'bullet' }],
            [{ 'align': [] }],
            ['blockquote'],
            [{ 'indent': '-1' }, { 'indent': '+1' }],
            ['link', 'image'] // media
        ]
    };
    return QuillConfig;
}());



/***/ }),

/***/ "./src/app/shared/shared.module.ts":
/*!*****************************************!*\
  !*** ./src/app/shared/shared.module.ts ***!
  \*****************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular2-moment */ "./node_modules/angular2-moment/index.js");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(angular2_moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../campaigns/campaigns.module */ "./src/app/campaigns/campaigns.module.ts");
/* harmony import */ var _user_features_user_features_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../user-features/user-features.module */ "./src/app/user-features/user-features.module.ts");
/* harmony import */ var _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../client-selector/client-selector.component */ "./src/app/client-selector/client-selector.component.ts");
/* harmony import */ var _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../select-mapper/select-mapper.component */ "./src/app/select-mapper/select-mapper.component.ts");
/* harmony import */ var _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../loading-spinner/loading-spinner.component */ "./src/app/loading-spinner/loading-spinner.component.ts");
/* harmony import */ var _app_base_base_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/base/base.module */ "./src/app/base/base.module.ts");













var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["BrowserModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                angular2_moment__WEBPACK_IMPORTED_MODULE_6__["MomentModule"],
                _campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_7__["CampaignsModule"],
                _user_features_user_features_module__WEBPACK_IMPORTED_MODULE_8__["UserFeaturesModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                _app_base_base_module__WEBPACK_IMPORTED_MODULE_12__["BaseModule"]
            ],
            entryComponents: [
                _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_9__["ClientSelectorComponent"],
                _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_10__["SelectMapperComponent"],
                _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_11__["LoadingSpinnerComponent"]
            ],
            declarations: [],
            providers: []
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/app/sidenav/sidenav.component.html":
/*!************************************************!*\
  !*** ./src/app/sidenav/sidenav.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\" *ngIf=\"user != null\">\n    <mat-toolbar-row>\n        <i class=\"material-icons md-48 mt-3\">account_circle</i>\n        <span class=\"fill-remaining-space\"></span>\n        <button mat-button (click)=\"toggleSidenav()\" class=\"sidenav-close\">\n            <i class=\"material-icons\">close</i>\n        </button>\n    </mat-toolbar-row>\n    <mat-toolbar-row class=\"d-flex flex-column align-items-start mb-2 mt-3\">\n        {{user.firstName}} {{user.lastName}}\n        <small>{{user.email}}</small>\n    </mat-toolbar-row>\n</mat-toolbar>\n\n<mat-nav-list *ngIf=\"user != null\" #navList>\n    <!-- all users -->\n    \n    <a mat-list-item routerLink=\"my-information\" routerLinkActive=\"mat-router-link-active\">\n        <mat-icon>info_outline</mat-icon>\n        <span>My Information</span>\n    </a>\n    <a mat-list-item \n        routerLink=\"daily-tracker\" \n        routerLinkActive=\"mat-router-link-active\"\n        *ngIf=\"user.role.role < roleType.companyAdmin && user.role.isSalesAdmin\"\n    >\n        <mat-icon>ballot</mat-icon>\n        <span>Daily Tracker</span>\n    </a>\n\n    <!-- agents only -->\n    <ng-template *ngIf=\"user.role.role < roleType.companyAdmin\">\n        <a mat-list-item routerLink=\"dashboard\" routerLinkActive=\"mat-router-link-active\">\n            <mat-icon>pie_chart</mat-icon>\n            <span>My Work</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <mat-icon>monetization_on</mat-icon>\n            <span>My Pay</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <mat-icon>library_books</mat-icon>\n            <span>My Documents</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <mat-icon>chat_bubble</mat-icon>\n            <span>Messages</span>\n        </a>\n    </ng-template>\n\n    <!-- do we have hr level links? -->\n\n    <!-- company admin+ -->\n    <ng-container *ngIf=\"user.role.role >= roleType.companyAdmin\">\n        <!-- THIS WHOLE COMPONENT NEEDS TO BE REWORKED AFTER SO MANY SCHEMA CHANGES\n        <a mat-list-item routerLink=\"dashboard\" routerLinkActive=\"mat-router-link-active\">\n            <mat-icon>pie_chart</mat-icon>\n            <span>Analyze</span>\n        </a> -->\n        <a mat-list-item routerLink=\"daily-tracker\" routerLinkActive=\"mat-router-link-active\">\n            <mat-icon>ballot</mat-icon>\n            <span>Sales</span>\n        </a>\n        <a mat-list-item routerLink=\"client-information\" routerLinkActive=\"mat-router-link-active\">\n            <mat-icon>business</mat-icon>\n            <span>Organization</span>\n        </a>\n        <mat-accordion mat-list-item class=\"navigation-accordion\">\n            <mat-expansion-panel [expanded]=\"expandPayrollLinks\">\n                <mat-expansion-panel-header>\n                    <mat-panel-title>\n                        <mat-icon>account_balance</mat-icon>\n                        <span>Payroll</span>\n                    </mat-panel-title>\n                </mat-expansion-panel-header>\n\n                <mat-nav-list>\n                    <a mat-list-item routerLink=\"admin/pay/pay-cycles\" routerLinkActive=\"mat-router-link-active\">\n                        <mat-icon>date_range</mat-icon>\n                        <span>Payroll Cycles</span>\n                    </a>\n                    <a mat-list-item routerLink=\"admin/pay/manage\" routerLinkActive=\"mat-router-link-active\">\n                        <mat-icon>monetization_on</mat-icon>\n                        <span>Manage Pay</span>\n                    </a>\n                    <a mat-list-item [routerLink]=\"['admin', 'pay', 'paycheck-list']\" routerLinkActive=\"mat-router-link-active\">\n                        <mat-icon>assignment</mat-icon>\n                        <span>View Paychecks</span>\n                    </a>\n                </mat-nav-list>\n            </mat-expansion-panel>\n        </mat-accordion>\n        \n        <a mat-list-item class=\"hide\">\n            <mat-icon>dashboard</mat-icon>\n            <span>Blog</span>\n        </a>\n        <a mat-list-item routerLink=\"agents\" routerLinkActive=\"mat-router-link-active\">\n            <mat-icon>person</mat-icon>\n            <span>Agents</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <mat-icon>monetization_on</mat-icon>\n            <span>Pay Status</span>\n        </a>\n        <!-- <a mat-list-item routerLink=\"payroll-tools\" routerLinkActive=\"mat-router-link-active\">\n      <mat-icon>build</mat-icon>\n      <span>Payroll Entry</span>\n    </a> -->\n        <a mat-list-item class=\"hide\">\n            <mat-icon>assignment_ind</mat-icon>\n            <span>Overrides</span>\n        </a>\n        <a mat-list-item routerLink=\"campaigns\" routerLinkActive=\"mat-router-link-active\">\n            <mat-icon>assignment</mat-icon>\n            <span>Campaigns</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <mat-icon>library_books</mat-icon>\n            <span>Documents</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <mat-icon>face</mat-icon>\n            <span>Customers</span>\n        </a>\n        <!-- end of admin links -->\n    </ng-container>\n\n    <!-- all users -->\n    <a mat-list-item class=\"hide\">\n        <mat-icon>info_outline</mat-icon>\n        <span>About</span>\n    </a>\n</mat-nav-list>"

/***/ }),

/***/ "./src/app/sidenav/sidenav.component.scss":
/*!************************************************!*\
  !*** ./src/app/sidenav/sidenav.component.scss ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@media screen and (min-width: 481px) {\n  .sidenav-close {\n    display: none; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvc2lkZW5hdi9zaWRlbmF2LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0VBQ0U7SUFDRSxjQUFhLEVBQ2QsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NpZGVuYXYvc2lkZW5hdi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gbWF0LXRvb2xiYXIge1xuLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwO1xuLy8gfVxuJGJyZWFrOiA0ODBweDtcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICRicmVhayArIDEpIHtcbiAgLnNpZGVuYXYtY2xvc2Uge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/sidenav/sidenav.component.ts":
/*!**********************************************!*\
  !*** ./src/app/sidenav/sidenav.component.ts ***!
  \**********************************************/
/*! exports provided: SidenavComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidenavComponent", function() { return SidenavComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/sidenav/sidenav.service */ "./src/app/sidenav/sidenav.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");





var SidenavComponent = /** @class */ (function () {
    function SidenavComponent(session, navService, location) {
        var _this = this;
        this.session = session;
        this.navService = navService;
        this.location = location;
        this.roleType = {
            systemAdmin: 7,
            companyAdmin: 6,
            humanResources: 5,
            regManager: 4,
            manager: 3,
            supervisor: 2,
            user: 1
        };
        this.expandPayrollLinks = false;
        this.session.getUserItem().subscribe(function (u) { return (_this.user = u); });
    }
    SidenavComponent.prototype.ngOnInit = function () {
        this.expandPayrollLinks = this.location.path(true).includes('admin/pay');
    };
    SidenavComponent.prototype.toggleSidenav = function () {
        this.navService.toggle();
    };
    SidenavComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'side-nav',
            template: __webpack_require__(/*! ./sidenav.component.html */ "./src/app/sidenav/sidenav.component.html"),
            styles: [__webpack_require__(/*! ./sidenav.component.scss */ "./src/app/sidenav/sidenav.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"],
            _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_3__["SidenavService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"]])
    ], SidenavComponent);
    return SidenavComponent;
}());



/***/ }),

/***/ "./src/app/sidenav/sidenav.service.ts":
/*!********************************************!*\
  !*** ./src/app/sidenav/sidenav.service.ts ***!
  \********************************************/
/*! exports provided: SidenavService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidenavService", function() { return SidenavService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



var SidenavService = /** @class */ (function () {
    function SidenavService() {
        this.opened$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        // if(this.sidenav != null) 
        //     this.opened$.next(this.sidenav.opened);
        // else
        //     this.opened$.next(false);
    }
    SidenavService.prototype.open = function () {
        this.opened$.next(true);
        return this.sidenav.open();
    };
    SidenavService.prototype.close = function () {
        this.opened$.next(false);
        if (this.sidenav == null)
            return;
        return this.sidenav.close();
    };
    SidenavService.prototype.toggle = function (isOpen) {
        if (this.sidenav != null)
            this.opened$.next(!this.sidenav.opened);
        return this.sidenav.toggle(isOpen);
    };
    SidenavService.prototype.setSidenav = function (nav) {
        this.sidenav = nav;
    };
    SidenavService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], SidenavService);
    return SidenavService;
}());



/***/ }),

/***/ "./src/app/token.interceptor.ts":
/*!**************************************!*\
  !*** ./src/app/token.interceptor.ts ***!
  \**************************************/
/*! exports provided: TokenInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenInterceptor", function() { return TokenInterceptor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth.service */ "./src/app/auth.service.ts");




var TokenInterceptor = /** @class */ (function () {
    function TokenInterceptor(session, auth) {
        var _this = this;
        this.session = session;
        this.auth = auth;
        this.session.userItem.subscribe(function (next) { _this.user = next; });
        this.apiUrl = this.auth.apiUrl;
        // get user authenticated status from the session service.
        this.session
            .isLoginSubject
            .subscribe(function (authenticated) {
            _this.userLoggedIn = authenticated;
        });
    }
    TokenInterceptor.prototype.intercept = function (request, next) {
        this.session.navigateQueue.push(request.url);
        // if the url is nothing our WebAPI, we are not going to append HTTP headers
        var url = this.apiUrl.substring(7, 11);
        if (request.url.indexOf(url) == -1 || !this.userLoggedIn) {
            return next.handle(request);
        }
        else {
            return next.handle(this.session.getTokenRequest(request));
        }
    };
    TokenInterceptor = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"], _auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]])
    ], TokenInterceptor);
    return TokenInterceptor;
}());



/***/ }),

/***/ "./src/app/user-features/user-features.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/user-features/user-features.module.ts ***!
  \*******************************************************/
/*! exports provided: UserFeaturesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFeaturesModule", function() { return UserFeaturesModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var ng2_file_upload__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-file-upload */ "./node_modules/ng2-file-upload/index.js");
/* harmony import */ var ng2_file_upload__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(ng2_file_upload__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _weather_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../weather.service */ "./src/app/weather.service.ts");
/* harmony import */ var _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../my-information/my-information.component */ "./src/app/my-information/my-information.component.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _masks_ssn_directive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../masks/ssn.directive */ "./src/app/masks/ssn.directive.ts");
/* harmony import */ var _validators_required_validator_directive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../validators/required-validator.directive */ "./src/app/validators/required-validator.directive.ts");
/* harmony import */ var _app_campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/campaigns/campaigns.module */ "./src/app/campaigns/campaigns.module.ts");










// import { PayrollComponent } from '../payroll/payroll.component';
// import { ChangeAgentDialogComponent } from '../payroll/dialogs/change-agent.component';
// import { RejectNoteDialogComponent } from '../payroll/dialogs/reject-note.component';
// import { SalesMappingComponent } from '../payroll/dialogs/sales-mapping.component';
// import { HotTableModule } from '@handsontable/angular';



// import { VsPasteDirective } from '@app/payroll/paste.directive';
var UserFeaturesModule = /** @class */ (function () {
    function UserFeaturesModule() {
    }
    UserFeaturesModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_5__["MaterialModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                ng2_file_upload__WEBPACK_IMPORTED_MODULE_6__["FileUploadModule"],
                _app_campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_12__["CampaignsModule"]
            ],
            declarations: [
                _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_8__["MyInformationComponent"],
                // PayrollComponent,
                // ChangeAgentDialogComponent,
                _masks_ssn_directive__WEBPACK_IMPORTED_MODULE_10__["MaskSsn"],
                // RejectNoteDialogComponent,
                // SalesMappingComponent,
                _validators_required_validator_directive__WEBPACK_IMPORTED_MODULE_11__["RequiredValidatorDirective"],
            ],
            entryComponents: [
            // RejectNoteDialogComponent,
            // SalesMappingComponent,
            // ChangeAgentDialogComponent
            ],
            providers: [_weather_service__WEBPACK_IMPORTED_MODULE_7__["WeatherService"], _user_service__WEBPACK_IMPORTED_MODULE_9__["UserService"]]
        })
    ], UserFeaturesModule);
    return UserFeaturesModule;
}());



/***/ }),

/***/ "./src/app/user-features/user.service.ts":
/*!***********************************************!*\
  !*** ./src/app/user-features/user.service.ts ***!
  \***********************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _env_environment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @env/environment */ "./src/environments/environment.ts");








var UserService = /** @class */ (function () {
    function UserService(http, session) {
        var _this = this;
        this.http = http;
        this.session = session;
        this.apiUrl = _env_environment__WEBPACK_IMPORTED_MODULE_7__["environment"].apiUrl;
        this.api = _env_environment__WEBPACK_IMPORTED_MODULE_7__["environment"].apiUrl + 'api/';
        this.dataStore = {
            user: null,
            users: null,
            detail: null,
            agents: null
        };
        this.user$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](null);
        this.users$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["ReplaySubject"](1);
        this.agents$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["ReplaySubject"](1);
        this.userDetail$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["ReplaySubject"](1);
        this.user = this.user$.asObservable();
        this.users = this.users$.asObservable();
        this.userDetail = this.userDetail$.asObservable();
        this.agents = this.agents$.asObservable();
        this.session.userItem.subscribe(function (user) {
            _this.user$.next(user);
            _this.dataStore.user = user;
            _this.dataStore.detail = user.detail;
            _this.userDetail$.next(user.detail);
        });
    }
    UserService.prototype.ngOnInit = function () {
        this.session.getItem('user');
    };
    UserService.prototype.setUser = function (user) {
        this.user$.next(user);
    };
    UserService.prototype.reloadUserPromise = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.dataStore.user == null) {
                _this.session.getItem('user');
            }
            _this.user$.next(_this.dataStore.user);
        });
    };
    UserService.prototype.reloadUsers = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.users$.next(_this.dataStore.users);
            return true;
        });
    };
    /**
     * Get's session user's detail.
     */
    UserService.prototype.getUserDetail = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.dataStore.detail == null)
                reject();
            _this.userDetail$.next(_this.dataStore.detail);
            resolve(_this.dataStore.detail);
        });
    };
    UserService.prototype.reloadUserDetail = function () {
        this.userDetail$.next(this.dataStore.detail);
    };
    UserService.prototype.reloadUser = function () {
        if (this.dataStore.user == null) {
            this.user$.next(this.session.dataStore.user);
        }
        else {
            this.user$.next(this.dataStore.user);
        }
    };
    /**
     * Gets a user's detail entity.
     *
     * @param userId
     */
    UserService.prototype.getUserDetailById = function (userId) {
        return this.http
            .get(this.apiUrl + 'api/users/' + userId + '/detail')
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    UserService.prototype.loadUsersByActiveState = function (activeOnly) {
        var _this = this;
        if (activeOnly === void 0) { activeOnly = true; }
        this.http.get(this.apiUrl + 'api/users/all/statuses/' + activeOnly).subscribe(function (data) {
            _this.dataStore.users = data;
            _this.users$.next(_this.dataStore.users);
        });
    };
    /**
     *
     *
     * @param activeOnly
     */
    UserService.prototype.loadAgents = function (activeOnly) {
        var _this = this;
        if (activeOnly === void 0) { activeOnly = true; }
        this.http.get(this.apiUrl + 'api/agents').subscribe(function (data) {
            _this.dataStore.agents = data;
            _this.agents$.next(_this.dataStore.agents);
        });
    };
    /**
     * Get all agents, return a promise asynchronously.
     */
    UserService.prototype.refreshAgents = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.dataStore.agents == null)
                _this.loadAgents(true);
            resolve(_this.dataStore.agents);
        });
    };
    UserService.prototype.getAgentByUserId = function (userId) {
        var _this = this;
        if (this.dataStore.agents == null)
            this.loadAgents(true);
        return new Promise(function (resolve) {
            var agent = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](_this.dataStore.agents, function (a) {
                return a.userId == userId;
            });
            resolve(agent);
        });
    };
    UserService.prototype.getAgentsByManagerId = function (managerId) {
        var _this = this;
        if (this.dataStore.agents == null) {
            return new Promise(function (resolve) {
                _this.http.get(_this.apiUrl + 'api/agents').subscribe(function (agents) {
                    _this.dataStore.agents = agents;
                    _this.agents$.next(agents);
                    agents = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](agents, function (a) {
                        return a.managerId == managerId;
                    });
                    resolve(agents);
                });
            });
        }
        else {
            return new Promise(function (resolve) {
                var agents = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](_this.dataStore.agents, function (agent) {
                    return agent.managerId == managerId;
                });
                resolve(agents);
            });
        }
    };
    /**
     * Get a user entity by user id for use, this is not to be used for session user info.
     *
     * @param userId
     */
    UserService.prototype.getUser = function (userId) {
        return this.http
            .get(this.apiUrl + 'api/users/' + userId)
            .toPromise()
            .then(function (user) {
            return user;
        });
    };
    /**
     * Get a user by username... ONLY use if the user is authenticated. This route should
     * be covered with middleware on the server.
     *
     * @param username
     */
    UserService.prototype.loadUser = function (username) {
        var _this = this;
        this.http.get(this.apiUrl + 'api/users/' + username + '/session').subscribe(function (data) {
            _this.dataStore.detail = data.detail;
            _this.userDetail$.next(data.detail);
            _this.dataStore.user = data;
            _this.session.setUser(_this.dataStore.user);
            _this.user$.next(_this.dataStore.user);
            _this.setLocalStorageUser(_this.dataStore.user);
        });
    };
    UserService.prototype.storeNgUser = function (user) {
        this.dataStore.detail = user.detail;
        this.userDetail$.next(user.detail);
        this.dataStore.user = user;
        this.session.setUser(this.dataStore.user);
        this.user$.next(this.dataStore.user);
        this.setLocalStorageUser(this.dataStore.user);
    };
    UserService.prototype.updateUser = function (user, detail) {
        var _this = this;
        this.http.post(this.apiUrl + 'api/users/' + user.id, { user: user, detail: detail }).subscribe(function (data) {
            if (data.user) {
                _this.dataStore.user = data.user;
                _this.session.setUser(_this.dataStore.user);
            }
            else {
                _this.dataStore.user = data;
            }
            if (data.detail != null) {
                _this.dataStore.detail = data.detail;
                _this.userDetail$.next(_this.dataStore.detail);
            }
            _this.user$.next(_this.dataStore.user);
            _this.setLocalStorageUser(_this.dataStore.user);
        });
    };
    UserService.prototype.updateUserEntity = function (user) {
        return this.http
            .post(this.apiUrl + 'api/users/' + user.id, user)
            .toPromise()
            .then(function (user) {
            return user;
        });
    };
    UserService.prototype.saveNewUserAgentEntity = function (user, agent, detail, clientId, role) {
        var dto = { user: user, agent: agent, detail: detail, role: role };
        return this.http.post(this.apiUrl + "api/users/clients/" + clientId + "/new-user-agent", dto);
    };
    /**
     * @description This will allow us to the update the current signed in user's cached session information
     * without having to persist anything back to the server. This should only be used if the updated information
     * on the user's session is non-related to the user's table (e.g. The current client selected has options changed
     * and the logged in user's object needs to know about those changes).
     *
     * @param user
     * @return void
     */
    UserService.prototype.cacheUser = function (user) {
        this.dataStore.user = user;
        this.user$.next(this.dataStore.user);
        this.setLocalStorageUser(this.dataStore.user);
    };
    UserService.prototype.loadUserDetail = function (userId) {
        var _this = this;
        if (userId === void 0) { userId = null; }
        userId = userId || this.dataStore.user.id;
        this.http.get(this.apiUrl + 'api/users/' + userId + '/detail').subscribe(function (data) {
            if (data == null)
                return;
            _this.dataStore.detail = data;
            _this.userDetail$.next(_this.dataStore.detail);
        });
    };
    /**
     * For use to update a user's detail information and return promise.
     *
     * @param detail
     */
    UserService.prototype.saveDetailEntity = function (detail) {
        var executionUrl = detail.userDetailId != null
            ? this.apiUrl + 'api/users/' + detail.userId + '/details/' + detail.userDetailId
            : this.apiUrl + 'api/users/' + detail.userId + '/details';
        return this.http
            .post(executionUrl, detail)
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    /**
     * Update user detail sale info
     *
     * @param detail
     */
    UserService.prototype.updateDetailSaleInfo = function (detail) {
        var url = this.api + 'users/' + detail.userId + '/details/' + detail.userDetailId + '/sale-info';
        return this.http
            .post(url, detail)
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    UserService.prototype.updateDetailAgentInfo = function (detail) {
        var url = this.api + 'users/' + detail.userId + '/details/' + detail.userDetailId + '/agent-info';
        return this.http
            .post(url, detail)
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    /**
     * Only for use on session user, this will update session user details.
     *
     * @param detail
     */
    UserService.prototype.updateDetail = function (detail) {
        var _this = this;
        this.http
            .post(this.apiUrl + 'api/users/' + detail.userId + '/details/' + detail.userDetailId, detail)
            .subscribe(function (data) {
            _this.dataStore.detail = data;
            _this.userDetail$.next(_this.dataStore.detail);
        });
    };
    UserService.prototype.saveUserRoleEntity = function (role) {
        var url = this.apiUrl + "api/users/" + role.userId + "/roles";
        return this.http.post(url, role);
    };
    UserService.prototype.logout = function () {
        this.dataStore.user = null;
        this.user$.next(null);
        this.dataStore.detail = null;
        this.userDetail$.next(null);
    };
    /**
     * This sets the session user. It will save/overwrite any existing user information for the logged in
     * user on the session cookie.
     *
     * @param user
     */
    UserService.prototype.setLocalStorageUser = function (user) {
        var data = {
            expires: moment__WEBPACK_IMPORTED_MODULE_6__().valueOf() + 1000 * (60 * 24 * 3),
            data: user
        };
        this.session.setItem('user', data);
    };
    UserService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], _session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/validators/required-validator.directive.ts":
/*!************************************************************!*\
  !*** ./src/app/validators/required-validator.directive.ts ***!
  \************************************************************/
/*! exports provided: RequiredValidatorDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RequiredValidatorDirective", function() { return RequiredValidatorDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var RequiredValidatorDirective = /** @class */ (function () {
    function RequiredValidatorDirective(el, renderer) {
        this.el = el;
        this.renderer = renderer;
        this._elementClass = [];
        console.dir(el);
        if (el.nativeElement.firstElementChild !== null)
            console.dir(el.nativeElement.firstElementChild.validity);
    }
    RequiredValidatorDirective.prototype.fieldBlur = function () {
        // this.el.nativeElement.validity.valid = false;
        // this.invalidateField();
        if (!this.el.nativeElement.validity.valid)
            this.invalidateField();
    };
    Object.defineProperty(RequiredValidatorDirective.prototype, "elementClass", {
        get: function () {
            return this._elementClass.join(' ');
        },
        enumerable: true,
        configurable: true
    });
    RequiredValidatorDirective.prototype.invalidateField = function () {
        // this.renderer.addClass(this.el.nativeElement, 'mat-form-field-invalid');
        // this.renderer.addClass(this.el.nativeElement, 'mat-input-invalid');
        // this.renderer.addClass(this.el.nativeElement, 'text-danger');
        this._elementClass.push('mat-form-field-invalid');
        this._elementClass.push('mat-input-invalid');
        this._elementClass.push('text-danger');
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('mouseleave'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
    ], RequiredValidatorDirective.prototype, "fieldBlur", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostBinding"])('class'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], RequiredValidatorDirective.prototype, "elementClass", null);
    RequiredValidatorDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
            selector: '[requiredValidator]'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"]])
    ], RequiredValidatorDirective);
    return RequiredValidatorDirective;
}());



/***/ }),

/***/ "./src/app/weather.service.ts":
/*!************************************!*\
  !*** ./src/app/weather.service.ts ***!
  \************************************/
/*! exports provided: WeatherService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeatherService", function() { return WeatherService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");



var WeatherService = /** @class */ (function () {
    function WeatherService(http) {
        this.http = http;
        this.APIKEY = '2580c0421b529216d4197f97870a52a6';
    }
    WeatherService.prototype.getWeatherByGeoLocale = function (long, lat) {
        return this.http.get('http://api.openweathermap.org/data/2.5/weather?lat=' + lat + '&lon=' + long + '&APPID=' + this.APIKEY).toPromise();
    };
    WeatherService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], WeatherService);
    return WeatherService;
}());



/***/ }),

/***/ "./src/environments/environment.prod.ts":
/*!**********************************************!*\
  !*** ./src/environments/environment.prod.ts ***!
  \**********************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var environment = {
    production: true,
    rootUrl: 'https://verostack.io',
    apiUrl: 'https://verostack.io/'
};


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false,
    rootUrl: 'http://verostack:8888',
    apiUrl: 'http://verostack:8888/'
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_4__);





if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/drewpayment/dev/active/verostack/resources/assets/ng/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map